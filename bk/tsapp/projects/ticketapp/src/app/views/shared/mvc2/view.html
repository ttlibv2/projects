<ts-card [title]="i18n.form_title | translate" [subtitle]="i18n.form_subtitle | translate">
    <form [formGroup]="form" (ngSubmit)="clickSave()" class="sm">
        <formly-form [form]="form" [fields]="form_fields" [model]="model" [options]="options"></formly-form>


        <div class="flex flex-wrap gap-2 mt-2">
            <p-button type="submit" [label]="i18n.save | translate" [icon]="save.icon"
                [severity]="save.severity" [loadingIcon]="save.loadingIcon" [loading]="state.save"
                [disabled]="form.invalid || form.pristine" *ngIf="!save.hide"></p-button>

            <!-- <p-button (onClick)="clickNew()"  [label]="i18n.create | translate"
                [severity]="btnProps.create.severity" [icon]="btnProps.create.icon" *ngIf="!btnProps.create.hide"></p-button> -->

            <!-- <p-button 
                [severity]="btnProps.delete.severity" 
                [label]="i18n.delete_all | translate" 
            icon="pi pi-trash"
                [loading]="state.delete" (onClick)="clickDelete()"></p-button> -->

            <ts-divider layout="vertical"></ts-divider>

            <p-button icon="pi pi-bullseye" [label]="i18n.get_all | translate" [loading]="state.lsDs"
                (onClick)="clickLoadData()"></p-button>

            <p-button icon="pi pi-cloud-upload" [label]="i18n.import_xsl | translate" [loading]="state.lsDs"
                (onClick)="clickImport()"></p-button>

            <p-button icon="pi pi-cloud-download" [label]="i18n.export_xsl | translate" [loading]="state.lsDs"
                (onClick)="clickExport()"></p-button>

            <ng-content select="[formAction]"></ng-content>
        </div>

    </form>

</ts-card>

<ts-card [title]="i18n.tb_title | translate" class="mt-2">
    <ts-ag-table [option]="grid.options" [columns]="table_fields"></ts-ag-table>
</ts-card>