<div class="search-user-form grid">
  <div class="col-12">
    <form [formGroup]="formGroup" (ngSubmit)="onSearch()">
      <p-fieldset legend="Thông tin">
        <div class="grid">
          <div class="g-field col-6">
            <label for="tax_code">Mã số thuế</label>
            <input pInputText id="tax_code" formControlName="tax_code"/>
          </div>
          <div class="g-field col-6">
            <label for="email">Email (Cá nhân *)</label>
            <input pInputText id="email" formControlName="email"/>
          </div>
        </div>
        <div class="grid">
          <div class="g-field col-6">
            <label for="company_name">Tên công ty</label>
            <p-inputGroup>
              <input pInputText id="company_name" formControlName="company_name"/>
              <input pInputText [style]="{width: '100px'}" formControlName="company_id"/>
            </p-inputGroup>
          </div>
          <div class="g-field col-6">
            <label for="person_name">Người liên hệ (Cá nhân *)</label>
            <p-inputGroup>
              <input pInputText id="person_name" formControlName="person_name"/>
              <input pInputText [style]="{width: '100px'}" formControlName="person_id"/>
            </p-inputGroup>
          </div>
        </div>
        <div class="grid">
          <div class="g-field col-6">
            <label for="address">Địa chỉ</label>
            <input pInputText id="address" formControlName="address"/>
          </div>
          <div class="g-field col-6">
            <label for="phone">Số điện thoại (Cá nhân)</label>
            <input pInputText id="phone" formControlName="phone"/>
          </div>
        </div>
        <div class="grid">
          <div class="col-12 flex gap-4  mb-2">
            <span>Tìm theo: </span>
            <ng-template ngFor let-item [ngForOf]="searchWhere">
              <p-checkbox [label]="item.label" [value]="item.value" [(ngModel)]="item.checked"
                          [ngModelOptions]="{standalone: true}"></p-checkbox>
            </ng-template>
          </div>
        </div>
        <div class="grid">
          <div class="col-12 flex gap-4  mb-2">
            <span>Tùy chỉnh: </span>
            <p-radioButton label="Tìm gần đúng" name="search_type" value="like"
                           formControlName="search_type"></p-radioButton>
            <p-radioButton label="Tìm chính xác" name="search_type" value="eq"
                           formControlName="search_type"></p-radioButton>
          </div>
        </div>
        <div class="grid">
          <div class="col-12 flex gap-2">
            <p-button label="Lấy từ form" severity="warning" (click)="onResetForm()"></p-button>
            <p-button label="Tìm theo TS24" severity="primary" type="submit"></p-button>
            <p-button label="+ Cá nhân" severity="success" (click)="onCreateContact('person')" *ngIf="isVisiblePerson()" ></p-button>
            <p-button label="+ Công ty" severity="info" (click)="onCreateContact('company')" *ngIf="isVisibleComp()"></p-button>
            <p-checkbox label="Up+" (onChange)="onClickUp($event.checked)"></p-checkbox>
            <p-checkbox label="Tạo..."></p-checkbox>
          </div>
        </div>
      </p-fieldset>
    </form>
  </div>
  <div class="col-12">
    <p-table [columns]="columns" [value]="data" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns">
            {{ col.header_name }}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
          <td *ngFor="let col of columns">
            {{ rowData[col.field_name] }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
