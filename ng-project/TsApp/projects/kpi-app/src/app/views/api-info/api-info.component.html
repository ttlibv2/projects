<p-card header="{{ 'forms.api_info.title' | translate }}">
  <form [formGroup]="formGroup" (ngSubmit)="onSave()">
    <div class="grid">
      <div class="p-fluid col-12">
        <label for="api_info">{{ 'forms.api_info.list' | translate }}</label>
        <p-dropdown id="api_info" [options]="infos | async" optionLabel="displayName"
                    formControlName="api_item" (onChange)="onSelectApi($event.value)"
                    [loading]="asyncLoad"></p-dropdown>
      </div>
      <div class="p-fluid col-6">
        <label for="user_name">{{'users.user_name'|translate}}</label>
        <input id="user_name" pInputText formControlName="user_name"/> 
      </div>
      <div class="p-fluid col-6">
        <label for="password">{{ 'users.password' | translate }}</label>
        <input  id="password" pInputText formControlName="password"/>
      </div>
      <div class="p-fluid col-6">
        <label for="csrf_token">{{'users.csrf_token'|translate}}</label>
        <input id="csrf_token" pInputText formControlName="csrf_token"/>
      </div>
      <div class="p-fluid col-6">
        <label for="cookie">{{'users.cookie'|translate}}</label>
        <input id="cookie" pInputText formControlName="cookie"/>
      </div>
      <div class="field col-12 flex gap-2">
        <p-checkbox id="auto_login" [binary]="true" formControlName="auto_login"
                    label="{{'users.auto_login'|translate}}"></p-checkbox>
        <p-checkbox id="editOnly" [binary]="true" formControlName="allow_edit"
                    label="{{'users.allow_edit'|translate}}"
                    (onChange)="allowEdit($event.checked)"></p-checkbox>
      </div>
    </div>
    <div class="grid">
      <div class="col-12 flex gap-2">
        <p-button label="{{'actions.save' | translate}}" type="submit"
                  [disabled]="formGroup.invalid" [loading]="asyncSave"></p-button>
        <p-button label="{{'actions.check_api' | translate}}" [disabled]="!allowCheck"
                  [loading]="asyncSave" (click)="checkApi()"></p-button>
      </div>
    </div>
  </form>
</p-card>
