<div #container [ngClass]="containerClass" [class]="styleClass" [ngStyle]="style">
    <ng-container *ngIf="contentTemplate; else defaultButton">
        <button
            class="p-splitbutton-defaultbutton"
            type="button"
            pButton
            [severity]="severity"
            [text]="text"
            [outlined]="outlined"
            [size]="size"
            [icon]="icon"
            [iconPos]="iconPos"
            (click)="onDefaultButtonClick($event)"
            [disabled]="disabled"
            [attr.tabindex]="tabindex"
            [ariaLabel]="buttonProps?.['ariaLabel'] || label"
            pAutoFocus
            [autofocus]="autofocus"
            [pTooltip]="tooltip"
            [tooltipOptions]="tooltipOptions"
        >
            <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>
        </button>
    </ng-container>
    <ng-template #defaultButton>
        <button
            #defaultbtn
            class="p-splitbutton-defaultbutton"
            type="button"
            pButton
            [severity]="severity"
            [text]="text"
            [outlined]="outlined"
            [size]="size"
            [icon]="icon"
            [iconPos]="iconPos" 
            [label]="label"
            (click)="onDefaultButtonClick($event)"
            [disabled]="buttonDisabled"
            [attr.tabindex]="tabindex"
            [ariaLabel]="buttonProps?.['ariaLabel']"
            pAutoFocus
            [autofocus]="autofocus"
            [pTooltip]="tooltip"
            [tooltipOptions]="tooltipOptions"
        ></button>
    </ng-template>
    <button *ngIf="visibleMenuButton"
        type="button"
        pButton pRipple
        [size]="size"
        [severity]="severity"
        [text]="text"
        [outlined]="outlined"
        class="p-splitbutton-menubutton p-button-icon-only"
        (click)="onDropdownButtonClick($event)"
        (keydown)="onDropdownButtonKeydown($event)"
        [disabled]="menuButtonDisabled"
        [ariaLabel]="menuButtonProps?.['ariaLabel'] || expandAriaLabel"
        [attr.aria-haspopup]="menuButtonProps?.['ariaHasPopup'] || true"
        [attr.aria-expanded]="menuButtonProps?.['ariaExpanded'] || isExpanded()"
        [attr.aria-controls]="menuButtonProps?.['ariaControls'] || ariaId"
    >
        <ChevronDownIcon *ngIf="!dropdownIconTemplate" />
        <ng-template *ngTemplateOutlet="dropdownIconTemplate"></ng-template>
    </button>
    <p-tieredMenu
        [id]="ariaId"
        #menu
        [popup]="true"
        [model]="model"
        [style]="menuStyle"
        [styleClass]="menuStyleClass"
        [appendTo]="appendTo"
        [showTransitionOptions]="showTransitionOptions"
        [hideTransitionOptions]="hideTransitionOptions"
        (onHide)="onHide()"
        (onShow)="onShow()"
    ></p-tieredMenu>
</div>