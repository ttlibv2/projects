<div class="template-form">
  <form [formGroup]="formGroup" (ngSubmit)="saveTemplate()">
    <div class="grid">
      <div class="col-6 p-fluid">
        <label for="template">{{'templates' | translate}}</label>
        <p-dropdown id="template" [options]="templates" optionLabel="title" [showClear]="true"
          (onChange)="selectTemplate($event.value)" formControlName="template_id"></p-dropdown>
      </div>
      <div class="col-6 p-fluid">
        <label for="entity_code">{{'entity_code' | translate}}</label>
        <p-dropdown id="entity_code" [options]="entities" optionLabel="label" optionValue="code"  [showClear]="true"
          (onChange)="selectEntity($event.value)" formControlName="entity_code"></p-dropdown>
      </div>
      <div class="col-6 p-fluid">
        <label for="title">{{'title' | translate}}</label>
        <input id="title" placeholder="{{'title.holder' | translate}}" pInputText formControlName="title" />
      </div>
      <div class="col-3 p-fluid">
        <label for="bgColor">{{ 'bg_color' | translate }}</label>
        <div class="group flex flex-row gap-1 align-items-center" id="bgColor">
          <p-colorPicker format="hex" #bgColor formControlName="bg_color"></p-colorPicker>
          <input [value]="'#'+bgColor.HSBtoHEX(bgColor.value)" pInputText readonly />
        </div>
      </div>
      <div class="col-3 p-fluid">
        <label for="textColor">{{ 'text_color' | translate }}</label>
        <div class="group flex flex-row gap-1 align-items-center" id="textColor">
          <p-colorPicker format="hex" #textColor formControlName="text_color"></p-colorPicker>
          <input [value]="'#'+textColor.HSBtoHEX(textColor.value)" pInputText readonly />
        </div>
      </div>
      <div class="col-6 p-fluid">
        <label for="summary">{{'summary' | translate}}</label>
        <textarea id="summary" placeholder="{{'summary.holder' | translate}}" pInputTextarea
          formControlName="summary" rows="5"></textarea>
      </div>
      <div class="col-6 p-fluid">
        <label for="data">{{'template.data' | translate}}</label>
        <textarea id="data" placeholder="{{'template.data.holder' | translate}}" pInputTextarea
          formControlName="data" rows="5" ></textarea>
      </div> 
      <div class="col-12 flex gap-2">
        <p-button type="submit" severity="help" label="{{'actions.'+labelSave | translate}}" [loading]="asyncSave" [disabled]="formGroup.invalid"></p-button>
        <p-button label="{{'actions.create' | translate}}" (onClick)="createNew()"></p-button>
        <p-button label="Táº£i DS" (onClick)="loadTemplate()" [loading]="asyncTemplate"></p-button>
        <p-button severity="warning" label="{{'actions.close' | translate}}" (click)="closeDialog()"></p-button>

      </div>
    </div>
  </form>

</div>