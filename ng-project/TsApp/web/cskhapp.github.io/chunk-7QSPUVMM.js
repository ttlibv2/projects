import{$ as Ku,$b as lr,A as bl,Aa as ir,Ab as Nn,Ac as hr,B as Vu,Ba as Zu,Bb as Vn,Bc as Ht,C as El,Ca as Ze,Cb as xi,Cc as Th,D as Gu,Db as hi,Dc as pr,E as Hu,Ea as Il,Eb as it,Ec as gt,Fa as Ws,Fb as st,Fc as Wt,G as Si,Ga as zs,Gb as Gn,Gc as ji,H as Ns,Ha as Ju,Hb as Pe,I as Gi,Ia as eh,Ib as lt,Ic as ft,J as Fl,Ja as th,Jb as bi,Jc as Ah,K as Vs,Ka as ih,Kb as ph,Kc as ct,L as Wu,La as sh,Lc as gr,Ma as nh,Mc as Ih,N as Gs,Na as oh,Nc as fr,O as Hi,Oa as ei,Ob as Hn,P as Rl,Pa as ui,Pb as be,Q as zu,Qa as rh,Qb as or,Qc as $i,R as Uu,Ra as ah,Rb as Ei,Rc as zt,S as ju,Sa as Bn,Sb as Ui,T as Dt,Ta as b,Tc as mt,U as $u,Ua as $,Ub as rr,Uc as Ki,V as at,Va as lh,Vb as gh,Vc as Ut,W as Me,Wa as sr,Wb as fh,Wc as Nl,X as Wi,Xb as mh,Xc as Vl,Y as Ln,Ya as ch,Yb as Wn,Z as ie,Za as dh,Zb as ar,_ as Re,_a as Gt,_b as Ch,a as R,aa as ve,ab as Ge,ac as cr,b as J,ba as Dl,bb as Pl,bc as Ll,c as Lu,ca as te,cb as Us,cc as dr,d as wl,da as X,db as ti,dc as Ol,e as he,ea as Tl,eb as _e,ec as Bl,f as hC,fa as qu,fb as et,fc as pi,g as Mn,ga as On,gb as uh,gc as ur,ha as de,hb as Ml,hc as vh,ia as De,ib as K,ic as ii,ja as Le,jb as j,jc as wh,k as Ou,ka as Hs,kb as x,kc as yh,l as Bu,la as Yu,lb as pt,lc as ae,m as yl,ma as zi,mb as _l,mc as wt,n as Sl,na as Vt,nb as hh,o as xl,oa as Qu,ob as oe,p as Fe,pa as ci,pb as kn,pc as Sh,q as Nt,qa as pe,qb as B,qc as xh,r as Vi,ra as ge,rb as k,rc as fs,s as rt,sa as qe,sb as q,sc as bh,t as ne,ta as Ve,tb as Ue,tc as Eh,u as _n,ua as di,ub as je,uc as Ae,v as ku,va as Al,vb as tt,vc as Fh,w as Nu,wa as Ye,wb as ze,wc as kl,x as Se,xa as tr,xb as nr,xc as Rh,y as er,ya as Te,yb as fe,yc as Dh,z as Rt,za as Xu,zb as A,zc as zn}from"./chunk-OBJPQ3YY.js";var Qf=he(()=>{"use strict"});var me=he((va,Xf)=>{"use strict";(function(e,t){typeof va=="object"?Xf.exports=va=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(va,function(){var e=e||function(t,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof global<"u"&&global.crypto&&(s=global.crypto),!s&&typeof Lu=="function")try{s=Qf()}catch{}var n=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function f(){}return function(m){var w;return f.prototype=m,w=new f,f.prototype=null,w}}(),r={},a=r.lib={},l=a.Base=function(){return{extend:function(f){var m=o(this);return f&&m.mixIn(f),(!m.hasOwnProperty("init")||this.init===m.init)&&(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var f=this.extend();return f.init.apply(f,arguments),f},init:function(){},mixIn:function(f){for(var m in f)f.hasOwnProperty(m)&&(this[m]=f[m]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(f,m){f=this.words=f||[],m!=i?this.sigBytes=m:this.sigBytes=f.length*4},toString:function(f){return(f||u).stringify(this)},concat:function(f){var m=this.words,w=f.words,y=this.sigBytes,E=f.sigBytes;if(this.clamp(),y%4)for(var S=0;S<E;S++){var D=w[S>>>2]>>>24-S%4*8&255;m[y+S>>>2]|=D<<24-(y+S)%4*8}else for(var T=0;T<E;T+=4)m[y+T>>>2]=w[T>>>2];return this.sigBytes+=E,this},clamp:function(){var f=this.words,m=this.sigBytes;f[m>>>2]&=4294967295<<32-m%4*8,f.length=t.ceil(m/4)},clone:function(){var f=l.clone.call(this);return f.words=this.words.slice(0),f},random:function(f){for(var m=[],w=0;w<f;w+=4)m.push(n());return new c.init(m,f)}}),d=r.enc={},u=d.Hex={stringify:function(f){for(var m=f.words,w=f.sigBytes,y=[],E=0;E<w;E++){var S=m[E>>>2]>>>24-E%4*8&255;y.push((S>>>4).toString(16)),y.push((S&15).toString(16))}return y.join("")},parse:function(f){for(var m=f.length,w=[],y=0;y<m;y+=2)w[y>>>3]|=parseInt(f.substr(y,2),16)<<24-y%8*4;return new c.init(w,m/2)}},h=d.Latin1={stringify:function(f){for(var m=f.words,w=f.sigBytes,y=[],E=0;E<w;E++){var S=m[E>>>2]>>>24-E%4*8&255;y.push(String.fromCharCode(S))}return y.join("")},parse:function(f){for(var m=f.length,w=[],y=0;y<m;y++)w[y>>>2]|=(f.charCodeAt(y)&255)<<24-y%4*8;return new c.init(w,m)}},p=d.Utf8={stringify:function(f){try{return decodeURIComponent(escape(h.stringify(f)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(f){return h.parse(unescape(encodeURIComponent(f)))}},g=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(f){typeof f=="string"&&(f=p.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(f){var m,w=this._data,y=w.words,E=w.sigBytes,S=this.blockSize,D=S*4,T=E/D;f?T=t.ceil(T):T=t.max((T|0)-this._minBufferSize,0);var _=T*S,Q=t.min(_*4,E);if(_){for(var M=0;M<_;M+=S)this._doProcessBlock(y,M);m=y.splice(0,_),w.sigBytes-=Q}return new c.init(m,Q)},clone:function(){var f=l.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0}),v=a.Hasher=g.extend({cfg:l.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){f&&this._append(f);var m=this._doFinalize();return m},blockSize:512/32,_createHelper:function(f){return function(m,w){return new f.init(w).finalize(m)}},_createHmacHelper:function(f){return function(m,w){return new C.HMAC.init(f,w).finalize(m)}}}),C=r.algo={};return r}(Math);return e})});var Vo=he((wa,Zf)=>{"use strict";(function(e,t){typeof wa=="object"?Zf.exports=wa=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(wa,function(e){return function(t){var i=e,s=i.lib,n=s.Base,o=s.WordArray,r=i.x64={},a=r.Word=n.extend({init:function(c,d){this.high=c,this.low=d}}),l=r.WordArray=n.extend({init:function(c,d){c=this.words=c||[],d!=t?this.sigBytes=d:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,d=c.length,u=[],h=0;h<d;h++){var p=c[h];u.push(p.high),u.push(p.low)}return o.create(u,this.sigBytes)},clone:function(){for(var c=n.clone.call(this),d=c.words=this.words.slice(0),u=d.length,h=0;h<u;h++)d[h]=d[h].clone();return c}})}(),e})});var em=he((ya,Jf)=>{"use strict";(function(e,t){typeof ya=="object"?Jf.exports=ya=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ya,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,i=t.lib,s=i.WordArray,n=s.init,o=s.init=function(r){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||typeof Uint8ClampedArray<"u"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){for(var a=r.byteLength,l=[],c=0;c<a;c++)l[c>>>2]|=r[c]<<24-c%4*8;n.call(this,l,a)}else n.apply(this,arguments)};o.prototype=s}}(),e.lib.WordArray})});var im=he((Sa,tm)=>{"use strict";(function(e,t){typeof Sa=="object"?tm.exports=Sa=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Sa,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=t.enc,o=n.Utf16=n.Utf16BE={stringify:function(a){for(var l=a.words,c=a.sigBytes,d=[],u=0;u<c;u+=2){var h=l[u>>>2]>>>16-u%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(a){for(var l=a.length,c=[],d=0;d<l;d++)c[d>>>1]|=a.charCodeAt(d)<<16-d%2*16;return s.create(c,l*2)}};n.Utf16LE={stringify:function(a){for(var l=a.words,c=a.sigBytes,d=[],u=0;u<c;u+=2){var h=r(l[u>>>2]>>>16-u%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(a){for(var l=a.length,c=[],d=0;d<l;d++)c[d>>>1]|=r(a.charCodeAt(d)<<16-d%2*16);return s.create(c,l*2)}};function r(a){return a<<8&4278255360|a>>>8&16711935}}(),e.enc.Utf16})});var ls=he((xa,sm)=>{"use strict";(function(e,t){typeof xa=="object"?sm.exports=xa=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xa,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=t.enc,o=n.Base64={stringify:function(a){var l=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var u=[],h=0;h<c;h+=3)for(var p=l[h>>>2]>>>24-h%4*8&255,g=l[h+1>>>2]>>>24-(h+1)%4*8&255,v=l[h+2>>>2]>>>24-(h+2)%4*8&255,C=p<<16|g<<8|v,f=0;f<4&&h+f*.75<c;f++)u.push(d.charAt(C>>>6*(3-f)&63));var m=d.charAt(64);if(m)for(;u.length%4;)u.push(m);return u.join("")},parse:function(a){var l=a.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var u=0;u<c.length;u++)d[c.charCodeAt(u)]=u}var h=c.charAt(64);if(h){var p=a.indexOf(h);p!==-1&&(l=p)}return r(a,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function r(a,l,c){for(var d=[],u=0,h=0;h<l;h++)if(h%4){var p=c[a.charCodeAt(h-1)]<<h%4*2,g=c[a.charCodeAt(h)]>>>6-h%4*2,v=p|g;d[u>>>2]|=v<<24-u%4*8,u++}return s.create(d,u)}}(),e.enc.Base64})});var om=he((ba,nm)=>{"use strict";(function(e,t){typeof ba=="object"?nm.exports=ba=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ba,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=t.enc,o=n.Base64url={stringify:function(a,l){l===void 0&&(l=!0);var c=a.words,d=a.sigBytes,u=l?this._safe_map:this._map;a.clamp();for(var h=[],p=0;p<d;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,C=c[p+2>>>2]>>>24-(p+2)%4*8&255,f=g<<16|v<<8|C,m=0;m<4&&p+m*.75<d;m++)h.push(u.charAt(f>>>6*(3-m)&63));var w=u.charAt(64);if(w)for(;h.length%4;)h.push(w);return h.join("")},parse:function(a,l){l===void 0&&(l=!0);var c=a.length,d=l?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var h=0;h<d.length;h++)u[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var g=a.indexOf(p);g!==-1&&(c=g)}return r(a,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function r(a,l,c){for(var d=[],u=0,h=0;h<l;h++)if(h%4){var p=c[a.charCodeAt(h-1)]<<h%4*2,g=c[a.charCodeAt(h)]>>>6-h%4*2,v=p|g;d[u>>>2]|=v<<24-u%4*8,u++}return s.create(d,u)}}(),e.enc.Base64url})});var cs=he((Ea,rm)=>{"use strict";(function(e,t){typeof Ea=="object"?rm.exports=Ea=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ea,function(e){return function(t){var i=e,s=i.lib,n=s.WordArray,o=s.Hasher,r=i.algo,a=[];(function(){for(var p=0;p<64;p++)a[p]=t.abs(t.sin(p+1))*4294967296|0})();var l=r.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var v=0;v<16;v++){var C=g+v,f=p[C];p[C]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var m=this._hash.words,w=p[g+0],y=p[g+1],E=p[g+2],S=p[g+3],D=p[g+4],T=p[g+5],_=p[g+6],Q=p[g+7],M=p[g+8],z=p[g+9],Z=p[g+10],H=p[g+11],re=p[g+12],ee=p[g+13],ce=p[g+14],Ce=p[g+15],O=m[0],V=m[1],W=m[2],N=m[3];O=c(O,V,W,N,w,7,a[0]),N=c(N,O,V,W,y,12,a[1]),W=c(W,N,O,V,E,17,a[2]),V=c(V,W,N,O,S,22,a[3]),O=c(O,V,W,N,D,7,a[4]),N=c(N,O,V,W,T,12,a[5]),W=c(W,N,O,V,_,17,a[6]),V=c(V,W,N,O,Q,22,a[7]),O=c(O,V,W,N,M,7,a[8]),N=c(N,O,V,W,z,12,a[9]),W=c(W,N,O,V,Z,17,a[10]),V=c(V,W,N,O,H,22,a[11]),O=c(O,V,W,N,re,7,a[12]),N=c(N,O,V,W,ee,12,a[13]),W=c(W,N,O,V,ce,17,a[14]),V=c(V,W,N,O,Ce,22,a[15]),O=d(O,V,W,N,y,5,a[16]),N=d(N,O,V,W,_,9,a[17]),W=d(W,N,O,V,H,14,a[18]),V=d(V,W,N,O,w,20,a[19]),O=d(O,V,W,N,T,5,a[20]),N=d(N,O,V,W,Z,9,a[21]),W=d(W,N,O,V,Ce,14,a[22]),V=d(V,W,N,O,D,20,a[23]),O=d(O,V,W,N,z,5,a[24]),N=d(N,O,V,W,ce,9,a[25]),W=d(W,N,O,V,S,14,a[26]),V=d(V,W,N,O,M,20,a[27]),O=d(O,V,W,N,ee,5,a[28]),N=d(N,O,V,W,E,9,a[29]),W=d(W,N,O,V,Q,14,a[30]),V=d(V,W,N,O,re,20,a[31]),O=u(O,V,W,N,T,4,a[32]),N=u(N,O,V,W,M,11,a[33]),W=u(W,N,O,V,H,16,a[34]),V=u(V,W,N,O,ce,23,a[35]),O=u(O,V,W,N,y,4,a[36]),N=u(N,O,V,W,D,11,a[37]),W=u(W,N,O,V,Q,16,a[38]),V=u(V,W,N,O,Z,23,a[39]),O=u(O,V,W,N,ee,4,a[40]),N=u(N,O,V,W,w,11,a[41]),W=u(W,N,O,V,S,16,a[42]),V=u(V,W,N,O,_,23,a[43]),O=u(O,V,W,N,z,4,a[44]),N=u(N,O,V,W,re,11,a[45]),W=u(W,N,O,V,Ce,16,a[46]),V=u(V,W,N,O,E,23,a[47]),O=h(O,V,W,N,w,6,a[48]),N=h(N,O,V,W,Q,10,a[49]),W=h(W,N,O,V,ce,15,a[50]),V=h(V,W,N,O,T,21,a[51]),O=h(O,V,W,N,re,6,a[52]),N=h(N,O,V,W,S,10,a[53]),W=h(W,N,O,V,Z,15,a[54]),V=h(V,W,N,O,y,21,a[55]),O=h(O,V,W,N,M,6,a[56]),N=h(N,O,V,W,Ce,10,a[57]),W=h(W,N,O,V,_,15,a[58]),V=h(V,W,N,O,ee,21,a[59]),O=h(O,V,W,N,D,6,a[60]),N=h(N,O,V,W,H,10,a[61]),W=h(W,N,O,V,E,15,a[62]),V=h(V,W,N,O,z,21,a[63]),m[0]=m[0]+O|0,m[1]=m[1]+V|0,m[2]=m[2]+W|0,m[3]=m[3]+N|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,C=p.sigBytes*8;g[C>>>5]|=128<<24-C%32;var f=t.floor(v/4294967296),m=v;g[(C+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,g[(C+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var w=this._hash,y=w.words,E=0;E<4;E++){var S=y[E];y[E]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return w},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function c(p,g,v,C,f,m,w){var y=p+(g&v|~g&C)+f+w;return(y<<m|y>>>32-m)+g}function d(p,g,v,C,f,m,w){var y=p+(g&C|v&~C)+f+w;return(y<<m|y>>>32-m)+g}function u(p,g,v,C,f,m,w){var y=p+(g^v^C)+f+w;return(y<<m|y>>>32-m)+g}function h(p,g,v,C,f,m,w){var y=p+(v^(g|~C))+f+w;return(y<<m|y>>>32-m)+g}i.MD5=o._createHelper(l),i.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5})});var qd=he((Fa,am)=>{"use strict";(function(e,t){typeof Fa=="object"?am.exports=Fa=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Fa,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=i.Hasher,o=t.algo,r=[],a=o.SHA1=n.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,c){for(var d=this._hash.words,u=d[0],h=d[1],p=d[2],g=d[3],v=d[4],C=0;C<80;C++){if(C<16)r[C]=l[c+C]|0;else{var f=r[C-3]^r[C-8]^r[C-14]^r[C-16];r[C]=f<<1|f>>>31}var m=(u<<5|u>>>27)+v+r[C];C<20?m+=(h&p|~h&g)+1518500249:C<40?m+=(h^p^g)+1859775393:C<60?m+=(h&p|h&g|p&g)-1894007588:m+=(h^p^g)-899497514,v=g,g=p,p=h<<30|h>>>2,h=u,u=m}d[0]=d[0]+u|0,d[1]=d[1]+h|0,d[2]=d[2]+p|0,d[3]=d[3]+g|0,d[4]=d[4]+v|0},_doFinalize:function(){var l=this._data,c=l.words,d=this._nDataBytes*8,u=l.sigBytes*8;return c[u>>>5]|=128<<24-u%32,c[(u+64>>>9<<4)+14]=Math.floor(d/4294967296),c[(u+64>>>9<<4)+15]=d,l.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var l=n.clone.call(this);return l._hash=this._hash.clone(),l}});t.SHA1=n._createHelper(a),t.HmacSHA1=n._createHmacHelper(a)}(),e.SHA1})});var Da=he((Ra,lm)=>{"use strict";(function(e,t){typeof Ra=="object"?lm.exports=Ra=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ra,function(e){return function(t){var i=e,s=i.lib,n=s.WordArray,o=s.Hasher,r=i.algo,a=[],l=[];(function(){function u(v){for(var C=t.sqrt(v),f=2;f<=C;f++)if(!(v%f))return!1;return!0}function h(v){return(v-(v|0))*4294967296|0}for(var p=2,g=0;g<64;)u(p)&&(g<8&&(a[g]=h(t.pow(p,1/2))),l[g]=h(t.pow(p,1/3)),g++),p++})();var c=[],d=r.SHA256=o.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(u,h){for(var p=this._hash.words,g=p[0],v=p[1],C=p[2],f=p[3],m=p[4],w=p[5],y=p[6],E=p[7],S=0;S<64;S++){if(S<16)c[S]=u[h+S]|0;else{var D=c[S-15],T=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,_=c[S-2],Q=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;c[S]=T+c[S-7]+Q+c[S-16]}var M=m&w^~m&y,z=g&v^g&C^v&C,Z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),H=(m<<26|m>>>6)^(m<<21|m>>>11)^(m<<7|m>>>25),re=E+H+M+l[S]+c[S],ee=Z+z;E=y,y=w,w=m,m=f+re|0,f=C,C=v,v=g,g=re+ee|0}p[0]=p[0]+g|0,p[1]=p[1]+v|0,p[2]=p[2]+C|0,p[3]=p[3]+f|0,p[4]=p[4]+m|0,p[5]=p[5]+w|0,p[6]=p[6]+y|0,p[7]=p[7]+E|0},_doFinalize:function(){var u=this._data,h=u.words,p=this._nDataBytes*8,g=u.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=t.floor(p/4294967296),h[(g+64>>>9<<4)+15]=p,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});i.SHA256=o._createHelper(d),i.HmacSHA256=o._createHmacHelper(d)}(Math),e.SHA256})});var dm=he((Ta,cm)=>{"use strict";(function(e,t,i){typeof Ta=="object"?cm.exports=Ta=t(me(),Da()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Ta,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=t.algo,o=n.SHA256,r=n.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});t.SHA224=o._createHelper(r),t.HmacSHA224=o._createHmacHelper(r)}(),e.SHA224})});var Yd=he((Aa,um)=>{"use strict";(function(e,t,i){typeof Aa=="object"?um.exports=Aa=t(me(),Vo()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Aa,function(e){return function(){var t=e,i=t.lib,s=i.Hasher,n=t.x64,o=n.Word,r=n.WordArray,a=t.algo;function l(){return o.create.apply(o,arguments)}var c=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var h=0;h<80;h++)d[h]=l()})();var u=a.SHA512=s.extend({_doReset:function(){this._hash=new r.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(h,p){for(var g=this._hash.words,v=g[0],C=g[1],f=g[2],m=g[3],w=g[4],y=g[5],E=g[6],S=g[7],D=v.high,T=v.low,_=C.high,Q=C.low,M=f.high,z=f.low,Z=m.high,H=m.low,re=w.high,ee=w.low,ce=y.high,Ce=y.low,O=E.high,V=E.low,W=S.high,N=S.low,We=D,Ne=T,vt=_,ue=Q,Fn=M,Os=z,Cl=Z,Rn=H,Zt=re,Et=ee,Xo=ce,Dn=Ce,Zo=O,Tn=V,vl=W,An=N,Jt=0;Jt<80;Jt++){var kt,ki,Jo=d[Jt];if(Jt<16)ki=Jo.high=h[p+Jt*2]|0,kt=Jo.low=h[p+Jt*2+1]|0;else{var xu=d[Jt-15],Bs=xu.high,In=xu.low,J0=(Bs>>>1|In<<31)^(Bs>>>8|In<<24)^Bs>>>7,bu=(In>>>1|Bs<<31)^(In>>>8|Bs<<24)^(In>>>7|Bs<<25),Eu=d[Jt-2],ks=Eu.high,Pn=Eu.low,eC=(ks>>>19|Pn<<13)^(ks<<3|Pn>>>29)^ks>>>6,Fu=(Pn>>>19|ks<<13)^(Pn<<3|ks>>>29)^(Pn>>>6|ks<<26),Ru=d[Jt-7],tC=Ru.high,iC=Ru.low,Du=d[Jt-16],sC=Du.high,Tu=Du.low;kt=bu+iC,ki=J0+tC+(kt>>>0<bu>>>0?1:0),kt=kt+Fu,ki=ki+eC+(kt>>>0<Fu>>>0?1:0),kt=kt+Tu,ki=ki+sC+(kt>>>0<Tu>>>0?1:0),Jo.high=ki,Jo.low=kt}var nC=Zt&Xo^~Zt&Zo,Au=Et&Dn^~Et&Tn,oC=We&vt^We&Fn^vt&Fn,rC=Ne&ue^Ne&Os^ue&Os,aC=(We>>>28|Ne<<4)^(We<<30|Ne>>>2)^(We<<25|Ne>>>7),Iu=(Ne>>>28|We<<4)^(Ne<<30|We>>>2)^(Ne<<25|We>>>7),lC=(Zt>>>14|Et<<18)^(Zt>>>18|Et<<14)^(Zt<<23|Et>>>9),cC=(Et>>>14|Zt<<18)^(Et>>>18|Zt<<14)^(Et<<23|Zt>>>9),Pu=c[Jt],dC=Pu.high,Mu=Pu.low,Ft=An+cC,Ni=vl+lC+(Ft>>>0<An>>>0?1:0),Ft=Ft+Au,Ni=Ni+nC+(Ft>>>0<Au>>>0?1:0),Ft=Ft+Mu,Ni=Ni+dC+(Ft>>>0<Mu>>>0?1:0),Ft=Ft+kt,Ni=Ni+ki+(Ft>>>0<kt>>>0?1:0),_u=Iu+rC,uC=aC+oC+(_u>>>0<Iu>>>0?1:0);vl=Zo,An=Tn,Zo=Xo,Tn=Dn,Xo=Zt,Dn=Et,Et=Rn+Ft|0,Zt=Cl+Ni+(Et>>>0<Rn>>>0?1:0)|0,Cl=Fn,Rn=Os,Fn=vt,Os=ue,vt=We,ue=Ne,Ne=Ft+_u|0,We=Ni+uC+(Ne>>>0<Ft>>>0?1:0)|0}T=v.low=T+Ne,v.high=D+We+(T>>>0<Ne>>>0?1:0),Q=C.low=Q+ue,C.high=_+vt+(Q>>>0<ue>>>0?1:0),z=f.low=z+Os,f.high=M+Fn+(z>>>0<Os>>>0?1:0),H=m.low=H+Rn,m.high=Z+Cl+(H>>>0<Rn>>>0?1:0),ee=w.low=ee+Et,w.high=re+Zt+(ee>>>0<Et>>>0?1:0),Ce=y.low=Ce+Dn,y.high=ce+Xo+(Ce>>>0<Dn>>>0?1:0),V=E.low=V+Tn,E.high=O+Zo+(V>>>0<Tn>>>0?1:0),N=S.low=N+An,S.high=W+vl+(N>>>0<An>>>0?1:0)},_doFinalize:function(){var h=this._data,p=h.words,g=this._nDataBytes*8,v=h.sigBytes*8;p[v>>>5]|=128<<24-v%32,p[(v+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(v+128>>>10<<5)+31]=g,h.sigBytes=p.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});t.SHA512=s._createHelper(u),t.HmacSHA512=s._createHmacHelper(u)}(),e.SHA512})});var pm=he((Ia,hm)=>{"use strict";(function(e,t,i){typeof Ia=="object"?hm.exports=Ia=t(me(),Vo(),Yd()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Ia,function(e){return function(){var t=e,i=t.x64,s=i.Word,n=i.WordArray,o=t.algo,r=o.SHA512,a=o.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var l=r._doFinalize.call(this);return l.sigBytes-=16,l}});t.SHA384=r._createHelper(a),t.HmacSHA384=r._createHmacHelper(a)}(),e.SHA384})});var fm=he((Pa,gm)=>{"use strict";(function(e,t,i){typeof Pa=="object"?gm.exports=Pa=t(me(),Vo()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Pa,function(e){return function(t){var i=e,s=i.lib,n=s.WordArray,o=s.Hasher,r=i.x64,a=r.Word,l=i.algo,c=[],d=[],u=[];(function(){for(var g=1,v=0,C=0;C<24;C++){c[g+5*v]=(C+1)*(C+2)/2%64;var f=v%5,m=(2*g+3*v)%5;g=f,v=m}for(var g=0;g<5;g++)for(var v=0;v<5;v++)d[g+5*v]=v+(2*g+3*v)%5*5;for(var w=1,y=0;y<24;y++){for(var E=0,S=0,D=0;D<7;D++){if(w&1){var T=(1<<D)-1;T<32?S^=1<<T:E^=1<<T-32}w&128?w=w<<1^113:w<<=1}u[y]=a.create(E,S)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=a.create()})();var p=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],v=0;v<25;v++)g[v]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,v){for(var C=this._state,f=this.blockSize/2,m=0;m<f;m++){var w=g[v+2*m],y=g[v+2*m+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360;var E=C[m];E.high^=y,E.low^=w}for(var S=0;S<24;S++){for(var D=0;D<5;D++){for(var T=0,_=0,Q=0;Q<5;Q++){var E=C[D+5*Q];T^=E.high,_^=E.low}var M=h[D];M.high=T,M.low=_}for(var D=0;D<5;D++)for(var z=h[(D+4)%5],Z=h[(D+1)%5],H=Z.high,re=Z.low,T=z.high^(H<<1|re>>>31),_=z.low^(re<<1|H>>>31),Q=0;Q<5;Q++){var E=C[D+5*Q];E.high^=T,E.low^=_}for(var ee=1;ee<25;ee++){var T,_,E=C[ee],ce=E.high,Ce=E.low,O=c[ee];O<32?(T=ce<<O|Ce>>>32-O,_=Ce<<O|ce>>>32-O):(T=Ce<<O-32|ce>>>64-O,_=ce<<O-32|Ce>>>64-O);var V=h[d[ee]];V.high=T,V.low=_}var W=h[0],N=C[0];W.high=N.high,W.low=N.low;for(var D=0;D<5;D++)for(var Q=0;Q<5;Q++){var ee=D+5*Q,E=C[ee],We=h[ee],Ne=h[(D+1)%5+5*Q],vt=h[(D+2)%5+5*Q];E.high=We.high^~Ne.high&vt.high,E.low=We.low^~Ne.low&vt.low}var E=C[0],ue=u[S];E.high^=ue.high,E.low^=ue.low}},_doFinalize:function(){var g=this._data,v=g.words,C=this._nDataBytes*8,f=g.sigBytes*8,m=this.blockSize*32;v[f>>>5]|=1<<24-f%32,v[(t.ceil((f+1)/m)*m>>>5)-1]|=128,g.sigBytes=v.length*4,this._process();for(var w=this._state,y=this.cfg.outputLength/8,E=y/8,S=[],D=0;D<E;D++){var T=w[D],_=T.high,Q=T.low;_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,Q=(Q<<8|Q>>>24)&16711935|(Q<<24|Q>>>8)&4278255360,S.push(Q),S.push(_)}return new n.init(S,y)},clone:function(){for(var g=o.clone.call(this),v=g._state=this._state.slice(0),C=0;C<25;C++)v[C]=v[C].clone();return g}});i.SHA3=o._createHelper(p),i.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var Cm=he((Ma,mm)=>{"use strict";(function(e,t){typeof Ma=="object"?mm.exports=Ma=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ma,function(e){return function(t){var i=e,s=i.lib,n=s.WordArray,o=s.Hasher,r=i.algo,a=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),h=n.create([1352829926,1548603684,1836072691,2053994217,0]),p=r.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,E){for(var S=0;S<16;S++){var D=E+S,T=y[D];y[D]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var _=this._hash.words,Q=u.words,M=h.words,z=a.words,Z=l.words,H=c.words,re=d.words,ee,ce,Ce,O,V,W,N,We,Ne,vt;W=ee=_[0],N=ce=_[1],We=Ce=_[2],Ne=O=_[3],vt=V=_[4];for(var ue,S=0;S<80;S+=1)ue=ee+y[E+z[S]]|0,S<16?ue+=g(ce,Ce,O)+Q[0]:S<32?ue+=v(ce,Ce,O)+Q[1]:S<48?ue+=C(ce,Ce,O)+Q[2]:S<64?ue+=f(ce,Ce,O)+Q[3]:ue+=m(ce,Ce,O)+Q[4],ue=ue|0,ue=w(ue,H[S]),ue=ue+V|0,ee=V,V=O,O=w(Ce,10),Ce=ce,ce=ue,ue=W+y[E+Z[S]]|0,S<16?ue+=m(N,We,Ne)+M[0]:S<32?ue+=f(N,We,Ne)+M[1]:S<48?ue+=C(N,We,Ne)+M[2]:S<64?ue+=v(N,We,Ne)+M[3]:ue+=g(N,We,Ne)+M[4],ue=ue|0,ue=w(ue,re[S]),ue=ue+vt|0,W=vt,vt=Ne,Ne=w(We,10),We=N,N=ue;ue=_[1]+Ce+Ne|0,_[1]=_[2]+O+vt|0,_[2]=_[3]+V+W|0,_[3]=_[4]+ee+N|0,_[4]=_[0]+ce+We|0,_[0]=ue},_doFinalize:function(){var y=this._data,E=y.words,S=this._nDataBytes*8,D=y.sigBytes*8;E[D>>>5]|=128<<24-D%32,E[(D+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,y.sigBytes=(E.length+1)*4,this._process();for(var T=this._hash,_=T.words,Q=0;Q<5;Q++){var M=_[Q];_[Q]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return T},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});function g(y,E,S){return y^E^S}function v(y,E,S){return y&E|~y&S}function C(y,E,S){return(y|~E)^S}function f(y,E,S){return y&S|E&~S}function m(y,E,S){return y^(E|~S)}function w(y,E){return y<<E|y>>>32-E}i.RIPEMD160=o._createHelper(p),i.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var La=he((_a,vm)=>{"use strict";(function(e,t){typeof _a=="object"?vm.exports=_a=t(me()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_a,function(e){(function(){var t=e,i=t.lib,s=i.Base,n=t.enc,o=n.Utf8,r=t.algo,a=r.HMAC=s.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=o.parse(c));var d=l.blockSize,u=d*4;c.sigBytes>u&&(c=l.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),g=h.words,v=p.words,C=0;C<d;C++)g[C]^=1549556828,v[C]^=909522486;h.sigBytes=p.sigBytes=u,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,d=c.finalize(l);c.reset();var u=c.finalize(this._oKey.clone().concat(d));return u}})})()})});var ym=he((Oa,wm)=>{"use strict";(function(e,t,i){typeof Oa=="object"?wm.exports=Oa=t(me(),Da(),La()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Oa,function(e){return function(){var t=e,i=t.lib,s=i.Base,n=i.WordArray,o=t.algo,r=o.SHA256,a=o.HMAC,l=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:r,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var u=this.cfg,h=a.create(u.hasher,c),p=n.create(),g=n.create([1]),v=p.words,C=g.words,f=u.keySize,m=u.iterations;v.length<f;){var w=h.update(d).finalize(g);h.reset();for(var y=w.words,E=y.length,S=w,D=1;D<m;D++){S=h.finalize(S),h.reset();for(var T=S.words,_=0;_<E;_++)y[_]^=T[_]}p.concat(w),C[0]++}return p.sigBytes=f*4,p}});t.PBKDF2=function(c,d,u){return l.create(u).compute(c,d)}}(),e.PBKDF2})});var Bi=he((Ba,Sm)=>{"use strict";(function(e,t,i){typeof Ba=="object"?Sm.exports=Ba=t(me(),qd(),La()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Ba,function(e){return function(){var t=e,i=t.lib,s=i.Base,n=i.WordArray,o=t.algo,r=o.MD5,a=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:r,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var d,u=this.cfg,h=u.hasher.create(),p=n.create(),g=p.words,v=u.keySize,C=u.iterations;g.length<v;){d&&h.update(d),d=h.update(l).finalize(c),h.reset();for(var f=1;f<C;f++)d=h.finalize(d),h.reset();p.concat(d)}return p.sigBytes=v*4,p}});t.EvpKDF=function(l,c,d){return a.create(d).compute(l,c)}}(),e.EvpKDF})});var Je=he((ka,xm)=>{"use strict";(function(e,t,i){typeof ka=="object"?xm.exports=ka=t(me(),Bi()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(ka,function(e){e.lib.Cipher||function(t){var i=e,s=i.lib,n=s.Base,o=s.WordArray,r=s.BufferedBlockAlgorithm,a=i.enc,l=a.Utf8,c=a.Base64,d=i.algo,u=d.EvpKDF,h=s.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(M,z){return this.create(this._ENC_XFORM_MODE,M,z)},createDecryptor:function(M,z){return this.create(this._DEC_XFORM_MODE,M,z)},init:function(M,z,Z){this.cfg=this.cfg.extend(Z),this._xformMode=M,this._key=z,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(z){return typeof z=="string"?Q:D}return function(z){return{encrypt:function(Z,H,re){return M(H).encrypt(z,Z,H,re)},decrypt:function(Z,H,re){return M(H).decrypt(z,Z,H,re)}}}}()}),p=s.StreamCipher=h.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1}),g=i.mode={},v=s.BlockCipherMode=n.extend({createEncryptor:function(M,z){return this.Encryptor.create(M,z)},createDecryptor:function(M,z){return this.Decryptor.create(M,z)},init:function(M,z){this._cipher=M,this._iv=z}}),C=g.CBC=function(){var M=v.extend();M.Encryptor=M.extend({processBlock:function(Z,H){var re=this._cipher,ee=re.blockSize;z.call(this,Z,H,ee),re.encryptBlock(Z,H),this._prevBlock=Z.slice(H,H+ee)}}),M.Decryptor=M.extend({processBlock:function(Z,H){var re=this._cipher,ee=re.blockSize,ce=Z.slice(H,H+ee);re.decryptBlock(Z,H),z.call(this,Z,H,ee),this._prevBlock=ce}});function z(Z,H,re){var ee,ce=this._iv;ce?(ee=ce,this._iv=t):ee=this._prevBlock;for(var Ce=0;Ce<re;Ce++)Z[H+Ce]^=ee[Ce]}return M}(),f=i.pad={},m=f.Pkcs7={pad:function(M,z){for(var Z=z*4,H=Z-M.sigBytes%Z,re=H<<24|H<<16|H<<8|H,ee=[],ce=0;ce<H;ce+=4)ee.push(re);var Ce=o.create(ee,H);M.concat(Ce)},unpad:function(M){var z=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=z}},w=s.BlockCipher=h.extend({cfg:h.cfg.extend({mode:C,padding:m}),reset:function(){var M;h.reset.call(this);var z=this.cfg,Z=z.iv,H=z.mode;this._xformMode==this._ENC_XFORM_MODE?M=H.createEncryptor:(M=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,Z&&Z.words):(this._mode=M.call(H,this,Z&&Z.words),this._mode.__creator=M)},_doProcessBlock:function(M,z){this._mode.processBlock(M,z)},_doFinalize:function(){var M,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),z.unpad(M)),M},blockSize:128/32}),y=s.CipherParams=n.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),E=i.format={},S=E.OpenSSL={stringify:function(M){var z,Z=M.ciphertext,H=M.salt;return H?z=o.create([1398893684,1701076831]).concat(H).concat(Z):z=Z,z.toString(c)},parse:function(M){var z,Z=c.parse(M),H=Z.words;return H[0]==1398893684&&H[1]==1701076831&&(z=o.create(H.slice(2,4)),H.splice(0,4),Z.sigBytes-=16),y.create({ciphertext:Z,salt:z})}},D=s.SerializableCipher=n.extend({cfg:n.extend({format:S}),encrypt:function(M,z,Z,H){H=this.cfg.extend(H);var re=M.createEncryptor(Z,H),ee=re.finalize(z),ce=re.cfg;return y.create({ciphertext:ee,key:Z,iv:ce.iv,algorithm:M,mode:ce.mode,padding:ce.padding,blockSize:M.blockSize,formatter:H.format})},decrypt:function(M,z,Z,H){H=this.cfg.extend(H),z=this._parse(z,H.format);var re=M.createDecryptor(Z,H).finalize(z.ciphertext);return re},_parse:function(M,z){return typeof M=="string"?z.parse(M,this):M}}),T=i.kdf={},_=T.OpenSSL={execute:function(M,z,Z,H,re){if(H||(H=o.random(64/8)),re)var ee=u.create({keySize:z+Z,hasher:re}).compute(M,H);else var ee=u.create({keySize:z+Z}).compute(M,H);var ce=o.create(ee.words.slice(z),Z*4);return ee.sigBytes=z*4,y.create({key:ee,iv:ce,salt:H})}},Q=s.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:_}),encrypt:function(M,z,Z,H){H=this.cfg.extend(H);var re=H.kdf.execute(Z,M.keySize,M.ivSize,H.salt,H.hasher);H.iv=re.iv;var ee=D.encrypt.call(this,M,z,re.key,H);return ee.mixIn(re),ee},decrypt:function(M,z,Z,H){H=this.cfg.extend(H),z=this._parse(z,H.format);var re=H.kdf.execute(Z,M.keySize,M.ivSize,z.salt,H.hasher);H.iv=re.iv;var ee=D.decrypt.call(this,M,z,re.key,H);return ee}})}()})});var Em=he((Na,bm)=>{"use strict";(function(e,t,i){typeof Na=="object"?bm.exports=Na=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Na,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(s,n){var o=this._cipher,r=o.blockSize;i.call(this,s,n,r,o),this._prevBlock=s.slice(n,n+r)}}),t.Decryptor=t.extend({processBlock:function(s,n){var o=this._cipher,r=o.blockSize,a=s.slice(n,n+r);i.call(this,s,n,r,o),this._prevBlock=a}});function i(s,n,o,r){var a,l=this._iv;l?(a=l.slice(0),this._iv=void 0):a=this._prevBlock,r.encryptBlock(a,0);for(var c=0;c<o;c++)s[n+c]^=a[c]}return t}(),e.mode.CFB})});var Rm=he((Va,Fm)=>{"use strict";(function(e,t,i){typeof Va=="object"?Fm.exports=Va=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Va,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(s,n){var o=this._cipher,r=o.blockSize,a=this._iv,l=this._counter;a&&(l=this._counter=a.slice(0),this._iv=void 0);var c=l.slice(0);o.encryptBlock(c,0),l[r-1]=l[r-1]+1|0;for(var d=0;d<r;d++)s[n+d]^=c[d]}});return t.Decryptor=i,t}(),e.mode.CTR})});var Tm=he((Ga,Dm)=>{"use strict";(function(e,t,i){typeof Ga=="object"?Dm.exports=Ga=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ga,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var r=o>>16&255,a=o>>8&255,l=o&255;r===255?(r=0,a===255?(a=0,l===255?l=0:++l):++a):++r,o=0,o+=r<<16,o+=a<<8,o+=l}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var n=t.Encryptor=t.extend({processBlock:function(o,r){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._counter;c&&(d=this._counter=c.slice(0),this._iv=void 0),s(d);var u=d.slice(0);a.encryptBlock(u,0);for(var h=0;h<l;h++)o[r+h]^=u[h]}});return t.Decryptor=n,t}(),e.mode.CTRGladman})});var Im=he((Ha,Am)=>{"use strict";(function(e,t,i){typeof Ha=="object"?Am.exports=Ha=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ha,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(s,n){var o=this._cipher,r=o.blockSize,a=this._iv,l=this._keystream;a&&(l=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var c=0;c<r;c++)s[n+c]^=l[c]}});return t.Decryptor=i,t}(),e.mode.OFB})});var Mm=he((Wa,Pm)=>{"use strict";(function(e,t,i){typeof Wa=="object"?Pm.exports=Wa=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Wa,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),t.Decryptor=t.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),t}(),e.mode.ECB})});var Lm=he((za,_m)=>{"use strict";(function(e,t,i){typeof za=="object"?_m.exports=za=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(za,function(e){return e.pad.AnsiX923={pad:function(t,i){var s=t.sigBytes,n=i*4,o=n-s%n,r=s+o-1;t.clamp(),t.words[r>>>2]|=o<<24-r%4*8,t.sigBytes+=o},unpad:function(t){var i=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=i}},e.pad.Ansix923})});var Bm=he((Ua,Om)=>{"use strict";(function(e,t,i){typeof Ua=="object"?Om.exports=Ua=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ua,function(e){return e.pad.Iso10126={pad:function(t,i){var s=i*4,n=s-t.sigBytes%s;t.concat(e.lib.WordArray.random(n-1)).concat(e.lib.WordArray.create([n<<24],1))},unpad:function(t){var i=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=i}},e.pad.Iso10126})});var Nm=he((ja,km)=>{"use strict";(function(e,t,i){typeof ja=="object"?km.exports=ja=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ja,function(e){return e.pad.Iso97971={pad:function(t,i){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,i)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var Gm=he(($a,Vm)=>{"use strict";(function(e,t,i){typeof $a=="object"?Vm.exports=$a=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})($a,function(e){return e.pad.ZeroPadding={pad:function(t,i){var s=i*4;t.clamp(),t.sigBytes+=s-(t.sigBytes%s||s)},unpad:function(t){for(var i=t.words,s=t.sigBytes-1,s=t.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){t.sigBytes=s+1;break}}},e.pad.ZeroPadding})});var Wm=he((Ka,Hm)=>{"use strict";(function(e,t,i){typeof Ka=="object"?Hm.exports=Ka=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ka,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var Um=he((qa,zm)=>{"use strict";(function(e,t,i){typeof qa=="object"?zm.exports=qa=t(me(),Je()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qa,function(e){return function(t){var i=e,s=i.lib,n=s.CipherParams,o=i.enc,r=o.Hex,a=i.format,l=a.Hex={stringify:function(c){return c.ciphertext.toString(r)},parse:function(c){var d=r.parse(c);return n.create({ciphertext:d})}}}(),e.format.Hex})});var $m=he((Ya,jm)=>{"use strict";(function(e,t,i){typeof Ya=="object"?jm.exports=Ya=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ya,function(e){return function(){var t=e,i=t.lib,s=i.BlockCipher,n=t.algo,o=[],r=[],a=[],l=[],c=[],d=[],u=[],h=[],p=[],g=[];(function(){for(var f=[],m=0;m<256;m++)m<128?f[m]=m<<1:f[m]=m<<1^283;for(var w=0,y=0,m=0;m<256;m++){var E=y^y<<1^y<<2^y<<3^y<<4;E=E>>>8^E&255^99,o[w]=E,r[E]=w;var S=f[w],D=f[S],T=f[D],_=f[E]*257^E*16843008;a[w]=_<<24|_>>>8,l[w]=_<<16|_>>>16,c[w]=_<<8|_>>>24,d[w]=_;var _=T*16843009^D*65537^S*257^w*16843008;u[E]=_<<24|_>>>8,h[E]=_<<16|_>>>16,p[E]=_<<8|_>>>24,g[E]=_,w?(w=S^f[f[f[T^S]]],y^=f[f[y]]):w=y=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],C=n.AES=s.extend({_doReset:function(){var f;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var m=this._keyPriorReset=this._key,w=m.words,y=m.sigBytes/4,E=this._nRounds=y+6,S=(E+1)*4,D=this._keySchedule=[],T=0;T<S;T++)T<y?D[T]=w[T]:(f=D[T-1],T%y?y>6&&T%y==4&&(f=o[f>>>24]<<24|o[f>>>16&255]<<16|o[f>>>8&255]<<8|o[f&255]):(f=f<<8|f>>>24,f=o[f>>>24]<<24|o[f>>>16&255]<<16|o[f>>>8&255]<<8|o[f&255],f^=v[T/y|0]<<24),D[T]=D[T-y]^f);for(var _=this._invKeySchedule=[],Q=0;Q<S;Q++){var T=S-Q;if(Q%4)var f=D[T];else var f=D[T-4];Q<4||T<=4?_[Q]=f:_[Q]=u[o[f>>>24]]^h[o[f>>>16&255]]^p[o[f>>>8&255]]^g[o[f&255]]}}},encryptBlock:function(f,m){this._doCryptBlock(f,m,this._keySchedule,a,l,c,d,o)},decryptBlock:function(f,m){var w=f[m+1];f[m+1]=f[m+3],f[m+3]=w,this._doCryptBlock(f,m,this._invKeySchedule,u,h,p,g,r);var w=f[m+1];f[m+1]=f[m+3],f[m+3]=w},_doCryptBlock:function(f,m,w,y,E,S,D,T){for(var _=this._nRounds,Q=f[m]^w[0],M=f[m+1]^w[1],z=f[m+2]^w[2],Z=f[m+3]^w[3],H=4,re=1;re<_;re++){var ee=y[Q>>>24]^E[M>>>16&255]^S[z>>>8&255]^D[Z&255]^w[H++],ce=y[M>>>24]^E[z>>>16&255]^S[Z>>>8&255]^D[Q&255]^w[H++],Ce=y[z>>>24]^E[Z>>>16&255]^S[Q>>>8&255]^D[M&255]^w[H++],O=y[Z>>>24]^E[Q>>>16&255]^S[M>>>8&255]^D[z&255]^w[H++];Q=ee,M=ce,z=Ce,Z=O}var ee=(T[Q>>>24]<<24|T[M>>>16&255]<<16|T[z>>>8&255]<<8|T[Z&255])^w[H++],ce=(T[M>>>24]<<24|T[z>>>16&255]<<16|T[Z>>>8&255]<<8|T[Q&255])^w[H++],Ce=(T[z>>>24]<<24|T[Z>>>16&255]<<16|T[Q>>>8&255]<<8|T[M&255])^w[H++],O=(T[Z>>>24]<<24|T[Q>>>16&255]<<16|T[M>>>8&255]<<8|T[z&255])^w[H++];f[m]=ee,f[m+1]=ce,f[m+2]=Ce,f[m+3]=O},keySize:256/32});t.AES=s._createHelper(C)}(),e.AES})});var qm=he((Qa,Km)=>{"use strict";(function(e,t,i){typeof Qa=="object"?Km.exports=Qa=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Qa,function(e){return function(){var t=e,i=t.lib,s=i.WordArray,n=i.BlockCipher,o=t.algo,r=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=n.extend({_doReset:function(){for(var v=this._key,C=v.words,f=[],m=0;m<56;m++){var w=r[m]-1;f[m]=C[w>>>5]>>>31-w%32&1}for(var y=this._subKeys=[],E=0;E<16;E++){for(var S=y[E]=[],D=l[E],m=0;m<24;m++)S[m/6|0]|=f[(a[m]-1+D)%28]<<31-m%6,S[4+(m/6|0)]|=f[28+(a[m+24]-1+D)%28]<<31-m%6;S[0]=S[0]<<1|S[0]>>>31;for(var m=1;m<7;m++)S[m]=S[m]>>>(m-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var T=this._invSubKeys=[],m=0;m<16;m++)T[m]=y[15-m]},encryptBlock:function(v,C){this._doCryptBlock(v,C,this._subKeys)},decryptBlock:function(v,C){this._doCryptBlock(v,C,this._invSubKeys)},_doCryptBlock:function(v,C,f){this._lBlock=v[C],this._rBlock=v[C+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var m=0;m<16;m++){for(var w=f[m],y=this._lBlock,E=this._rBlock,S=0,D=0;D<8;D++)S|=c[D][((E^w[D])&d[D])>>>0];this._lBlock=E,this._rBlock=y^S}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),v[C]=this._lBlock,v[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(v,C){var f=(this._lBlock>>>v^this._rBlock)&C;this._rBlock^=f,this._lBlock^=f<<v}function p(v,C){var f=(this._rBlock>>>v^this._lBlock)&C;this._lBlock^=f,this._rBlock^=f<<v}t.DES=n._createHelper(u);var g=o.TripleDES=n.extend({_doReset:function(){var v=this._key,C=v.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var f=C.slice(0,2),m=C.length<4?C.slice(0,2):C.slice(2,4),w=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=u.createEncryptor(s.create(f)),this._des2=u.createEncryptor(s.create(m)),this._des3=u.createEncryptor(s.create(w))},encryptBlock:function(v,C){this._des1.encryptBlock(v,C),this._des2.decryptBlock(v,C),this._des3.encryptBlock(v,C)},decryptBlock:function(v,C){this._des3.decryptBlock(v,C),this._des2.encryptBlock(v,C),this._des1.decryptBlock(v,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=n._createHelper(g)}(),e.TripleDES})});var Qm=he((Xa,Ym)=>{"use strict";(function(e,t,i){typeof Xa=="object"?Ym.exports=Xa=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Xa,function(e){return function(){var t=e,i=t.lib,s=i.StreamCipher,n=t.algo,o=n.RC4=s.extend({_doReset:function(){for(var l=this._key,c=l.words,d=l.sigBytes,u=this._S=[],h=0;h<256;h++)u[h]=h;for(var h=0,p=0;h<256;h++){var g=h%d,v=c[g>>>2]>>>24-g%4*8&255;p=(p+u[h]+v)%256;var C=u[h];u[h]=u[p],u[p]=C}this._i=this._j=0},_doProcessBlock:function(l,c){l[c]^=r.call(this)},keySize:256/32,ivSize:0});function r(){for(var l=this._S,c=this._i,d=this._j,u=0,h=0;h<4;h++){c=(c+1)%256,d=(d+l[c])%256;var p=l[c];l[c]=l[d],l[d]=p,u|=l[(l[c]+l[d])%256]<<24-h*8}return this._i=c,this._j=d,u}t.RC4=s._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)r.call(this)}});t.RC4Drop=s._createHelper(a)}(),e.RC4})});var Zm=he((Za,Xm)=>{"use strict";(function(e,t,i){typeof Za=="object"?Xm.exports=Za=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Za,function(e){return function(){var t=e,i=t.lib,s=i.StreamCipher,n=t.algo,o=[],r=[],a=[],l=n.Rabbit=s.extend({_doReset:function(){for(var d=this._key.words,u=this.cfg.iv,h=0;h<4;h++)d[h]=(d[h]<<8|d[h]>>>24)&16711935|(d[h]<<24|d[h]>>>8)&4278255360;var p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var h=0;h<4;h++)c.call(this);for(var h=0;h<8;h++)g[h]^=p[h+4&7];if(u){var v=u.words,C=v[0],f=v[1],m=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,y=m>>>16|w&4294901760,E=w<<16|m&65535;g[0]^=m,g[1]^=y,g[2]^=w,g[3]^=E,g[4]^=m,g[5]^=y,g[6]^=w,g[7]^=E;for(var h=0;h<4;h++)c.call(this)}},_doProcessBlock:function(d,u){var h=this._X;c.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,d[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var d=this._X,u=this._C,h=0;h<8;h++)r[h]=u[h];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<r[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<r[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<r[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<r[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<r[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<r[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<r[6]>>>0?1:0)|0,this._b=u[7]>>>0<r[7]>>>0?1:0;for(var h=0;h<8;h++){var p=d[h]+u[h],g=p&65535,v=p>>>16,C=((g*g>>>17)+g*v>>>15)+v*v,f=((p&4294901760)*p|0)+((p&65535)*p|0);a[h]=C^f}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=s._createHelper(l)}(),e.Rabbit})});var e0=he((Ja,Jm)=>{"use strict";(function(e,t,i){typeof Ja=="object"?Jm.exports=Ja=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ja,function(e){return function(){var t=e,i=t.lib,s=i.StreamCipher,n=t.algo,o=[],r=[],a=[],l=n.RabbitLegacy=s.extend({_doReset:function(){var d=this._key.words,u=this.cfg.iv,h=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],p=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var g=0;g<4;g++)c.call(this);for(var g=0;g<8;g++)p[g]^=h[g+4&7];if(u){var v=u.words,C=v[0],f=v[1],m=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,y=m>>>16|w&4294901760,E=w<<16|m&65535;p[0]^=m,p[1]^=y,p[2]^=w,p[3]^=E,p[4]^=m,p[5]^=y,p[6]^=w,p[7]^=E;for(var g=0;g<4;g++)c.call(this)}},_doProcessBlock:function(d,u){var h=this._X;c.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,d[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var d=this._X,u=this._C,h=0;h<8;h++)r[h]=u[h];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<r[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<r[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<r[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<r[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<r[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<r[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<r[6]>>>0?1:0)|0,this._b=u[7]>>>0<r[7]>>>0?1:0;for(var h=0;h<8;h++){var p=d[h]+u[h],g=p&65535,v=p>>>16,C=((g*g>>>17)+g*v>>>15)+v*v,f=((p&4294901760)*p|0)+((p&65535)*p|0);a[h]=C^f}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=s._createHelper(l)}(),e.RabbitLegacy})});var i0=he((el,t0)=>{"use strict";(function(e,t,i){typeof el=="object"?t0.exports=el=t(me(),ls(),cs(),Bi(),Je()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(el,function(e){return function(){var t=e,i=t.lib,s=i.BlockCipher,n=t.algo;let o=16,r=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function c(g,v){let C=v>>24&255,f=v>>16&255,m=v>>8&255,w=v&255,y=g.sbox[0][C]+g.sbox[1][f];return y=y^g.sbox[2][m],y=y+g.sbox[3][w],y}function d(g,v,C){let f=v,m=C,w;for(let y=0;y<o;++y)f=f^g.pbox[y],m=c(g,f)^m,w=f,f=m,m=w;return w=f,f=m,m=w,m=m^g.pbox[o],f=f^g.pbox[o+1],{left:f,right:m}}function u(g,v,C){let f=v,m=C,w;for(let y=o+1;y>1;--y)f=f^g.pbox[y],m=c(g,f)^m,w=f,f=m,m=w;return w=f,f=m,m=w,m=m^g.pbox[1],f=f^g.pbox[0],{left:f,right:m}}function h(g,v,C){for(let E=0;E<4;E++){g.sbox[E]=[];for(let S=0;S<256;S++)g.sbox[E][S]=a[E][S]}let f=0;for(let E=0;E<o+2;E++)g.pbox[E]=r[E]^v[f],f++,f>=C&&(f=0);let m=0,w=0,y=0;for(let E=0;E<o+2;E+=2)y=d(g,m,w),m=y.left,w=y.right,g.pbox[E]=m,g.pbox[E+1]=w;for(let E=0;E<4;E++)for(let S=0;S<256;S+=2)y=d(g,m,w),m=y.left,w=y.right,g.sbox[E][S]=m,g.sbox[E][S+1]=w;return!0}var p=n.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,v=g.words,C=g.sigBytes/4;h(l,v,C)}},encryptBlock:function(g,v){var C=d(l,g[v],g[v+1]);g[v]=C.left,g[v+1]=C.right},decryptBlock:function(g,v){var C=u(l,g[v],g[v+1]);g[v]=C.left,g[v+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=s._createHelper(p)}(),e.Blowfish})});var n0=he((tl,s0)=>{"use strict";(function(e,t,i){typeof tl=="object"?s0.exports=tl=t(me(),Vo(),em(),im(),ls(),om(),cs(),qd(),Da(),dm(),Yd(),pm(),fm(),Cm(),La(),ym(),Bi(),Je(),Em(),Rm(),Tm(),Im(),Mm(),Lm(),Bm(),Nm(),Gm(),Wm(),Um(),$m(),qm(),Qm(),Zm(),e0(),i0()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(tl,function(e){return e})});var jn=class{},$n=class{},Fi=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let s=i.indexOf(":");if(s>0){let n=i.slice(0,s),o=n.toLowerCase(),r=i.slice(s+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(r):this.headers.set(o,[r])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,s)=>{this.setHeaderEntries(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(t.name,i);let n=(t.op==="a"?this.headers.get(i):void 0)||[];n.push(...s),this.headers.set(i,n);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let r=this.headers.get(i);if(!r)return;r=r.filter(a=>o.indexOf(a)===-1),r.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,r)}break}}setHeaderEntries(t,i){let s=(Array.isArray(i)?i:[i]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,s),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Hl=class{encodeKey(t){return Ph(t)}encodeValue(t){return Ph(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function gC(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[r,a]=o==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],l=i.get(r)||[];l.push(a),i.set(r,l)}),i}var fC=/%(\d[a-f0-9])/gi,mC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ph(e){return encodeURIComponent(e).replace(fC,(t,i)=>mC[i]??t)}function mr(e){return`${e}`}var Yi=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hl,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let s=t.fromObject[i],n=Array.isArray(s)?s.map(mr):[mr(s)];this.map.set(i,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(s=>{let n=t[s];Array.isArray(n)?n.forEach(o=>{i.push({param:s,value:o,op:"a"})}):i.push({param:s,value:n,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(mr(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let s=this.map.get(t.param)||[],n=s.indexOf(mr(t.value));n!==-1&&s.splice(n,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Wl=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function CC(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Mh(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _h(e){return typeof Blob<"u"&&e instanceof Blob}function Lh(e){return typeof FormData<"u"&&e instanceof FormData}function vC(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Un=class e{constructor(t,i,s,n){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(CC(this.method)||n?(this.body=s!==void 0?s:null,o=n):o=s,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fi,this.context??=new Wl,!this.params)this.params=new Yi,this.urlWithParams=i;else{let r=this.params.toString();if(r.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+r}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Mh(this.body)||_h(this.body)||Lh(this.body)||vC(this.body)?this.body:this.body instanceof Yi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Lh(this.body)?null:_h(this.body)?this.body.type||null:Mh(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,s=t.url||this.url,n=t.responseType||this.responseType,o=t.transferCache??this.transferCache,r=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),d)),new e(i,s,r,{params:d,headers:c,context:u,reportProgress:l,responseType:n,withCredentials:a,transferCache:o})}},jt=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(jt||{}),Kn=class{constructor(t,i=200,s="OK"){this.headers=t.headers||new Fi,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Cr=class e extends Kn{constructor(t={}){super(t),this.type=jt.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qn=class e extends Kn{constructor(t={}){super(t),this.type=jt.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qi=class extends Kn{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Nh=200,wC=204;function Gl(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Qn=(()=>{let t=class t{constructor(s){this.handler=s}request(s,n,o={}){let r;if(s instanceof Un)r=s;else{let c;o.headers instanceof Fi?c=o.headers:c=new Fi(o.headers);let d;o.params&&(o.params instanceof Yi?d=o.params:d=new Yi({fromObject:o.params})),r=new Un(s,n,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ne(r).pipe(Gi(c=>this.handler.handle(c)));if(s instanceof Un||o.observe==="events")return a;let l=a.pipe(Si(c=>c instanceof qn));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(Se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(Se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(s,n={}){return this.request("DELETE",s,n)}get(s,n={}){return this.request("GET",s,n)}head(s,n={}){return this.request("HEAD",s,n)}jsonp(s,n){return this.request("JSONP",s,{params:new Yi().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(s,n={}){return this.request("OPTIONS",s,n)}patch(s,n,o={}){return this.request("PATCH",s,Gl(o,n))}post(s,n,o={}){return this.request("POST",s,Gl(o,n))}put(s,n,o={}){return this.request("PUT",s,Gl(o,n))}};t.\u0275fac=function(n){return new(n||t)(te(jn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),yC=/^\)\]\}',?\n/,SC="X-Request-URL";function Oh(e){if(e.url)return e.url;let t=SC.toLocaleLowerCase();return e.headers.get(t)}var zl=(()=>{let t=class t{constructor(){this.fetchImpl=X(Ul,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=X(Ge)}handle(s){return new yl(n=>{let o=new AbortController;return this.doRequest(s,o.signal,n).then(jl,r=>n.error(new qi({error:r}))),()=>o.abort()})}doRequest(s,n,o){return Mn(this,null,function*(){let r=this.createRequestInit(s),a;try{let g=this.fetchImpl(s.urlWithParams,R({signal:n},r));xC(g),o.next({type:jt.Sent}),a=yield g}catch(g){o.error(new qi({error:g,status:g.status??0,statusText:g.statusText,url:s.urlWithParams,headers:g.headers}));return}let l=new Fi(a.headers),c=a.statusText,d=Oh(a)??s.urlWithParams,u=a.status,h=null;if(s.reportProgress&&o.next(new Cr({headers:l,status:u,statusText:c,url:d})),a.body){let g=a.headers.get("content-length"),v=[],C=a.body.getReader(),f=0,m,w,y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Mn(this,null,function*(){for(;;){let{done:S,value:D}=yield C.read();if(S)break;if(v.push(D),f+=D.length,s.reportProgress){w=s.responseType==="text"?(w??"")+(m??=new TextDecoder).decode(D,{stream:!0}):void 0;let T=()=>o.next({type:jt.DownloadProgress,total:g?+g:void 0,loaded:f,partialText:w});y?y.run(T):T()}}}));let E=this.concatChunks(v,f);try{let S=a.headers.get("Content-Type")??"";h=this.parseBody(s,E,S)}catch(S){o.error(new qi({error:S,headers:new Fi(a.headers),status:a.status,statusText:a.statusText,url:Oh(a)??s.urlWithParams}));return}}u===0&&(u=h?Nh:0),u>=200&&u<300?(o.next(new qn({body:h,headers:l,status:u,statusText:c,url:d})),o.complete()):o.error(new qi({error:h,headers:l,status:u,statusText:c,url:d}))})}parseBody(s,n,o){switch(s.responseType){case"json":let r=new TextDecoder().decode(n).replace(yC,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(s){let n={},o=s.withCredentials?"include":void 0;if(s.headers.forEach((r,a)=>n[r]=a.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let r=s.detectContentTypeHeader();r!==null&&(n["Content-Type"]=r)}return{body:s.serializeBody(),method:s.method,headers:n,credentials:o}}concatChunks(s,n){let o=new Uint8Array(n),r=0;for(let a of s)o.set(a,r),r+=a.length;return o}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),Ul=class{};function jl(){}function xC(e){e.then(jl,jl)}function bC(e,t){return t(e)}function EC(e,t,i){return(s,n)=>Vt(i,()=>t(s,o=>e(o,n)))}var Vh=new ve(""),FC=new ve(""),RC=new ve("",{providedIn:"root",factory:()=>!0});var Bh=(()=>{let t=class t extends jn{constructor(s,n){super(),this.backend=s,this.injector=n,this.chain=null,this.pendingTasks=X(tr),this.contributeToStability=X(RC)}handle(s){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Vh),...this.injector.get(FC,[])]));this.chain=n.reduceRight((o,r)=>EC(o,r,this.injector),bC)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(s,o=>this.backend.handle(o)).pipe(Gs(()=>this.pendingTasks.remove(n)))}else return this.chain(s,n=>this.backend.handle(n))}};t.\u0275fac=function(n){return new(n||t)(te($n),te(zi))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})();var DC=/^\)\]\}',?\n/;function TC(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var kh=(()=>{let t=class t{constructor(s){this.xhrFactory=s}handle(s){if(s.method==="JSONP")throw new Me(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?rt(n.\u0275loadImpl()):ne(null)).pipe(Dt(()=>new yl(r=>{let a=n.build();if(a.open(s.method,s.urlWithParams),s.withCredentials&&(a.withCredentials=!0),s.headers.forEach((C,f)=>a.setRequestHeader(C,f.join(","))),s.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!s.headers.has("Content-Type")){let C=s.detectContentTypeHeader();C!==null&&a.setRequestHeader("Content-Type",C)}if(s.responseType){let C=s.responseType.toLowerCase();a.responseType=C!=="json"?C:"text"}let l=s.serializeBody(),c=null,d=()=>{if(c!==null)return c;let C=a.statusText||"OK",f=new Fi(a.getAllResponseHeaders()),m=TC(a)||s.url;return c=new Cr({headers:f,status:a.status,statusText:C,url:m}),c},u=()=>{let{headers:C,status:f,statusText:m,url:w}=d(),y=null;f!==wC&&(y=typeof a.response>"u"?a.responseText:a.response),f===0&&(f=y?Nh:0);let E=f>=200&&f<300;if(s.responseType==="json"&&typeof y=="string"){let S=y;y=y.replace(DC,"");try{y=y!==""?JSON.parse(y):null}catch(D){y=S,E&&(E=!1,y={error:D,text:y})}}E?(r.next(new qn({body:y,headers:C,status:f,statusText:m,url:w||void 0})),r.complete()):r.error(new qi({error:y,headers:C,status:f,statusText:m,url:w||void 0}))},h=C=>{let{url:f}=d(),m=new qi({error:C,status:a.status||0,statusText:a.statusText||"Unknown Error",url:f||void 0});r.error(m)},p=!1,g=C=>{p||(r.next(d()),p=!0);let f={type:jt.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(f.total=C.total),s.responseType==="text"&&a.responseText&&(f.partialText=a.responseText),r.next(f)},v=C=>{let f={type:jt.UploadProgress,loaded:C.loaded};C.lengthComputable&&(f.total=C.total),r.next(f)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),s.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",v)),a.send(l),r.next({type:jt.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),s.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",v)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(n){return new(n||t)(te(fr))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),Gh=new ve(""),AC="XSRF-TOKEN",IC=new ve("",{providedIn:"root",factory:()=>AC}),PC="X-XSRF-TOKEN",MC=new ve("",{providedIn:"root",factory:()=>PC}),vr=class{},_C=(()=>{let t=class t{constructor(s,n,o){this.doc=s,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let s=this.doc.cookie||"";return s!==this.lastCookieString&&(this.parseCount++,this.lastToken=hr(s,this.cookieName),this.lastCookieString=s),this.lastToken}};t.\u0275fac=function(n){return new(n||t)(te(Ae),te(Ze),te(IC))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})();function LC(e,t){let i=e.url.toLowerCase();if(!X(Gh)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let s=X(vr).getToken(),n=X(MC);return s!=null&&!e.headers.has(n)&&(e=e.clone({headers:e.headers.set(n,s)})),t(e)}var Hh=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Hh||{});function OC(e,t){return{\u0275kind:e,\u0275providers:t}}function I_(...e){let t=[Qn,kh,Bh,{provide:jn,useExisting:Bh},{provide:$n,useFactory:()=>X(zl,{optional:!0})??X(kh)},{provide:Vh,useValue:LC,multi:!0},{provide:Gh,useValue:!0},{provide:vr,useClass:_C}];for(let i of e)t.push(...i.\u0275providers);return Hs(t)}function P_(){return OC(Hh.Fetch,[zl,{provide:$n,useExisting:zl}])}var ql=class extends Eh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yl=class e extends ql{static makeCurrent(){bh(new e)}onAndCancel(t,i,s){return t.addEventListener(i,s),()=>{t.removeEventListener(i,s)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=kC();return i==null?null:NC(i)}resetBaseElement(){Xn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hr(document.cookie,t)}},Xn=null;function kC(){return Xn=Xn||document.querySelector("base"),Xn?Xn.getAttribute("href"):null}function NC(e){return new URL(e,document.baseURI).pathname}var Ql=class{addToWindow(t){Wi.getAngularTestability=(s,n=!0)=>{let o=t.findTestabilityInTree(s,n);if(o==null)throw new Me(5103,!1);return o},Wi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Wi.getAllAngularRootElements=()=>t.getAllRootElements();let i=s=>{let n=Wi.getAllAngularTestabilities(),o=n.length,r=function(){o--,o==0&&s()};n.forEach(a=>{a.whenStable(r)})};Wi.frameworkStabilizers||(Wi.frameworkStabilizers=[]),Wi.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,s){if(i==null)return null;let n=t.getTestability(i);return n??(s?fs().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},VC=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),Xl=new ve(""),Kh=(()=>{let t=class t{constructor(s,n){this._zone=n,this._eventNameToPlugin=new Map,s.forEach(o=>{o.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,n,o){return this._findPluginFor(n).addEventListener(s,n,o)}getZone(){return this._zone}_findPluginFor(s){let n=this._eventNameToPlugin.get(s);if(n)return n;if(n=this._plugins.find(r=>r.supports(s)),!n)throw new Me(5101,!1);return this._eventNameToPlugin.set(s,n),n}};t.\u0275fac=function(n){return new(n||t)(te(Xl),te(Ge))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),wr=class{constructor(t){this._doc=t}},$l="ng-app-id",qh=(()=>{let t=class t{constructor(s,n,o,r={}){this.doc=s,this.appId=n,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gr(r),this.resetHostNodes()}addStyles(s){for(let n of s)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(s){for(let n of s)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let s=this.styleNodesInDOM;s&&(s.forEach(n=>n.remove()),s.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(let n of this.getAllStyles())this.addStyleToHost(s,n)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(let n of this.hostNodes)this.addStyleToHost(n,s)}onStyleRemoved(s){let n=this.styleRef;n.get(s)?.elements?.forEach(o=>o.remove()),n.delete(s)}collectServerRenderedStyles(){let s=this.doc.head?.querySelectorAll(`style[${$l}="${this.appId}"]`);if(s?.length){let n=new Map;return s.forEach(o=>{o.textContent!=null&&n.set(o.textContent,o)}),n}return null}changeUsageCount(s,n){let o=this.styleRef;if(o.has(s)){let r=o.get(s);return r.usage+=n,r.usage}return o.set(s,{usage:n,elements:[]}),n}getStyleElement(s,n){let o=this.styleNodesInDOM,r=o?.get(n);if(r?.parentNode===s)return o.delete(n),r.removeAttribute($l),r;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute($l,this.appId),s.appendChild(a),a}}addStyleToHost(s,n){let o=this.getStyleElement(s,n),r=this.styleRef,a=r.get(n)?.elements;a?a.push(o):r.set(n,{elements:[o],usage:1})}resetHostNodes(){let s=this.hostNodes;s.clear(),s.add(this.doc.head)}};t.\u0275fac=function(n){return new(n||t)(te(Ae),te(ir),te(Il,8),te(Ze))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),Kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jl=/%COMP%/g,Yh="%COMP%",GC=`_nghost-${Yh}`,HC=`_ngcontent-${Yh}`,WC=!0,zC=new ve("",{providedIn:"root",factory:()=>WC});function UC(e){return HC.replace(Jl,e)}function jC(e){return GC.replace(Jl,e)}function Qh(e,t){return t.map(i=>i.replace(Jl,e))}var zh=(()=>{let t=class t{constructor(s,n,o,r,a,l,c,d=null){this.eventManager=s,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=gr(l),this.defaultRenderer=new Zn(s,a,c,this.platformIsServer)}createRenderer(s,n){if(!s||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===On.ShadowDom&&(n=J(R({},n),{encapsulation:On.Emulated}));let o=this.getOrCreateRenderer(s,n);return o instanceof yr?o.applyToHost(s):o instanceof Jn&&o.applyStyles(),o}getOrCreateRenderer(s,n){let o=this.rendererByCompId,r=o.get(n.id);if(!r){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(n.encapsulation){case On.Emulated:r=new yr(c,d,n,this.appId,u,a,l,h);break;case On.ShadowDom:return new Zl(c,d,s,n,a,l,this.nonce,h);default:r=new Jn(c,d,n,u,a,l,h);break}o.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(n){return new(n||t)(te(Kh),te(qh),te(ir),te(zC),te(Ae),te(Ze),te(Ge),te(Il))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),Zn=class{constructor(t,i,s,n){this.eventManager=t,this.doc=i,this.ngZone=s,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Kl[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Uh(t)?t.content:t).appendChild(i)}insertBefore(t,i,s){t&&(Uh(t)?t.content:t).insertBefore(i,s)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let s=typeof t=="string"?this.doc.querySelector(t):t;if(!s)throw new Me(-5104,!1);return i||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,s,n){if(n){i=n+":"+i;let o=Kl[n];o?t.setAttributeNS(o,i,s):t.setAttribute(i,s)}else t.setAttribute(i,s)}removeAttribute(t,i,s){if(s){let n=Kl[s];n?t.removeAttributeNS(n,i):t.removeAttribute(`${s}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,s,n){n&(Bn.DashCase|Bn.Important)?t.style.setProperty(i,s,n&Bn.Important?"important":""):t.style[i]=s}removeStyle(t,i,s){s&Bn.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,s){t!=null&&(t[i]=s)}setValue(t,i){t.nodeValue=i}listen(t,i,s){if(typeof t=="string"&&(t=fs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(s))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Uh(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Zl=class extends Zn{constructor(t,i,s,n,o,r,a,l){super(t,o,r,l),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Qh(n.id,n.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,s){return super.insertBefore(this.nodeOrShadowRoot(t),i,s)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jn=class extends Zn{constructor(t,i,s,n,o,r,a,l){super(t,o,r,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=n,this.styles=l?Qh(l,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yr=class extends Jn{constructor(t,i,s,n,o,r,a,l){let c=n+"-"+s.id;super(t,i,s,o,r,a,l,c),this.contentAttr=UC(c),this.hostAttr=jC(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let s=super.createElement(t,i);return super.setAttribute(s,this.contentAttr,""),s}},$C=(()=>{let t=class t extends wr{constructor(s){super(s)}supports(s){return!0}addEventListener(s,n,o){return s.addEventListener(n,o,!1),()=>this.removeEventListener(s,n,o)}removeEventListener(s,n,o){return s.removeEventListener(n,o)}};t.\u0275fac=function(n){return new(n||t)(te(Ae))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})(),jh=["alt","control","meta","shift"],KC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qC={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},YC=(()=>{let t=class t extends wr{constructor(s){super(s)}supports(s){return t.parseEventName(s)!=null}addEventListener(s,n,o){let r=t.parseEventName(n),a=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fs().onAndCancel(s,r.domEventName,a))}static parseEventName(s){let n=s.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let r=t._normalizeKey(n.pop()),a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),jh.forEach(d=>{let u=n.indexOf(d);u>-1&&(n.splice(u,1),a+=d+".")}),a+=r,n.length!=0||r.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(s,n){let o=KC[s.key]||s.key,r="";return n.indexOf("code.")>-1&&(o=s.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),jh.forEach(a=>{if(a!==o){let l=qC[a];l(s)&&(r+=a+".")}}),r+=o,r===n)}static eventCallback(s,n,o){return r=>{t.matchEventFullKeyCode(r,s)&&o.runGuarded(()=>n(r))}}static _normalizeKey(s){return s==="esc"?"escape":s}};t.\u0275fac=function(n){return new(n||t)(te(Ae))},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})();function QC(){Yl.makeCurrent()}function XC(){return new Al}function ZC(){return Xu(document),document}var JC=[{provide:Ze,useValue:Ah},{provide:Zu,useValue:QC,multi:!0},{provide:Ae,useFactory:ZC,deps:[]}],j_=vh(wh,"browser",JC),ev=new ve(""),tv=[{provide:lr,useClass:Ql,deps:[]},{provide:Ch,useClass:cr,deps:[Ge,Ll,lr]},{provide:cr,useClass:cr,deps:[Ge,Ll,lr]}],iv=[{provide:Yu,useValue:"root"},{provide:Al,useFactory:XC,deps:[]},{provide:Xl,useClass:$C,multi:!0,deps:[Ae,Ge,Ze]},{provide:Xl,useClass:YC,multi:!0,deps:[Ae]},zh,qh,Kh,{provide:dh,useExisting:zh},{provide:fr,useClass:VC,deps:[]},[]],$_=(()=>{let t=class t{constructor(s){}static withServerTransition(s){return{ngModule:t,providers:[{provide:ir,useValue:s.appId}]}}};t.\u0275fac=function(n){return new(n||t)(te(ev,12))},t.\u0275mod=De({type:t}),t.\u0275inj=Re({providers:[...iv,...tv],imports:[ft,yh]});let e=t;return e})();var Xh=(()=>{let t=class t{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}};t.\u0275fac=function(n){return new(n||t)(te(Ae))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ms=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:function(n){let o=null;return n?o=new(n||t):o=te(sv),o},providedIn:"root"});let e=t;return e})(),sv=(()=>{let t=class t extends ms{constructor(s){super(),this._doc=s}sanitize(s,n){if(n==null)return null;switch(s){case ei.NONE:return n;case ei.HTML:return zs(n,"HTML")?Ws(n):oh(this._doc,String(n)).toString();case ei.STYLE:return zs(n,"Style")?Ws(n):n;case ei.SCRIPT:if(zs(n,"Script"))return Ws(n);throw new Me(5200,!1);case ei.URL:return zs(n,"URL")?Ws(n):nh(String(n));case ei.RESOURCE_URL:if(zs(n,"ResourceURL"))return Ws(n);throw new Me(5201,!1);default:throw new Me(5202,!1)}}bypassSecurityTrustHtml(s){return Ju(s)}bypassSecurityTrustStyle(s){return eh(s)}bypassSecurityTrustScript(s){return th(s)}bypassSecurityTrustUrl(s){return ih(s)}bypassSecurityTrustResourceUrl(s){return sh(s)}};t.\u0275fac=function(n){return new(n||t)(te(Ae))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var le="primary",fo=Symbol("RouteTitle"),nc=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Qs(e){return new nc(e)}function nv(e,t,i){let s=i.path.split("/");if(s.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||s.length<e.length))return null;let n={};for(let o=0;o<s.length;o++){let r=s[o],a=e[o];if(r[0]===":")n[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:e.slice(0,s.length),posParams:n}}function ov(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!gi(e[i],t[i]))return!1;return!0}function gi(e,t){let i=e?oc(e):void 0,s=t?oc(t):void 0;if(!i||!s||i.length!=s.length)return!1;let n;for(let o=0;o<i.length;o++)if(n=i[o],!lp(e[n],t[n]))return!1;return!0}function oc(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lp(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),s=[...t].sort();return i.every((n,o)=>s[o]===n)}else return e===t}function cp(e){return e.length>0?e[e.length-1]:null}function Zi(e){return ku(e)?e:dr(e)?rt(Promise.resolve(e)):ne(e)}var rv={exact:up,subset:hp},dp={exact:av,subset:lv,ignored:()=>!0};function Zh(e,t,i){return rv[i.paths](e.root,t.root,i.matrixParams)&&dp[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function av(e,t){return gi(e,t)}function up(e,t,i){if(!vs(e.segments,t.segments)||!Er(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let s in t.children)if(!e.children[s]||!up(e.children[s],t.children[s],i))return!1;return!0}function lv(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>lp(e[i],t[i]))}function hp(e,t,i){return pp(e,t,t.segments,i)}function pp(e,t,i,s){if(e.segments.length>i.length){let n=e.segments.slice(0,i.length);return!(!vs(n,i)||t.hasChildren()||!Er(n,i,s))}else if(e.segments.length===i.length){if(!vs(e.segments,i)||!Er(e.segments,i,s))return!1;for(let n in t.children)if(!e.children[n]||!hp(e.children[n],t.children[n],s))return!1;return!0}else{let n=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!vs(e.segments,n)||!Er(e.segments,n,s)||!e.children[le]?!1:pp(e.children[le],t,o,s)}}function Er(e,t,i){return t.every((s,n)=>dp[i](e[n].parameters,s.parameters))}var Qi=class{constructor(t=new Ie([],{}),i={},s=null){this.root=t,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){return uv.serialize(this)}},Ie=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fr(this)}},Cs=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Qs(this.parameters),this._parameterMap}toString(){return fp(this)}};function cv(e,t){return vs(e,t)&&e.every((i,s)=>gi(i.parameters,t[s].parameters))}function vs(e,t){return e.length!==t.length?!1:e.every((i,s)=>i.path===t[s].path)}function dv(e,t){let i=[];return Object.entries(e.children).forEach(([s,n])=>{s===le&&(i=i.concat(t(n,s)))}),Object.entries(e.children).forEach(([s,n])=>{s!==le&&(i=i.concat(t(n,s)))}),i}var mo=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:()=>new Xs,providedIn:"root"});let e=t;return e})(),Xs=class{parse(t){let i=new ac(t);return new Qi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${eo(t.root,!0)}`,s=gv(t.queryParams),n=typeof t.fragment=="string"?`#${hv(t.fragment)}`:"";return`${i}${s}${n}`}},uv=new Xs;function Fr(e){return e.segments.map(t=>fp(t)).join("/")}function eo(e,t){if(!e.hasChildren())return Fr(e);if(t){let i=e.children[le]?eo(e.children[le],!1):"",s=[];return Object.entries(e.children).forEach(([n,o])=>{n!==le&&s.push(`${n}:${eo(o,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}else{let i=dv(e,(s,n)=>n===le?[eo(e.children[le],!1)]:[`${n}:${eo(s,!1)}`]);return Object.keys(e.children).length===1&&e.children[le]!=null?`${Fr(e)}/${i[0]}`:`${Fr(e)}/(${i.join("//")})`}}function gp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xr(e){return gp(e).replace(/%3B/gi,";")}function hv(e){return encodeURI(e)}function rc(e){return gp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rr(e){return decodeURIComponent(e)}function Jh(e){return Rr(e.replace(/\+/g,"%20"))}function fp(e){return`${rc(e.path)}${pv(e.parameters)}`}function pv(e){return Object.entries(e).map(([t,i])=>`;${rc(t)}=${rc(i)}`).join("")}function gv(e){let t=Object.entries(e).map(([i,s])=>Array.isArray(s)?s.map(n=>`${xr(i)}=${xr(n)}`).join("&"):`${xr(i)}=${xr(s)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var fv=/^[^\/()?;#]+/;function ec(e){let t=e.match(fv);return t?t[0]:""}var mv=/^[^\/()?;=#]+/;function Cv(e){let t=e.match(mv);return t?t[0]:""}var vv=/^[^=?&#]+/;function wv(e){let t=e.match(vv);return t?t[0]:""}var yv=/^[^&#]+/;function Sv(e){let t=e.match(yv);return t?t[0]:""}var ac=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(s[le]=new Ie(t,i)),s}parseSegment(){let t=ec(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Me(4009,!1);return this.capture(t),new Cs(Rr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=Cv(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let n=ec(this.remaining);n&&(s=n,this.capture(s))}t[Rr(i)]=Rr(s)}parseQueryParam(t){let i=wv(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let r=Sv(this.remaining);r&&(s=r,this.capture(s))}let n=Jh(i),o=Jh(s);if(t.hasOwnProperty(n)){let r=t[n];Array.isArray(r)||(r=[r],t[n]=r),r.push(o)}else t[n]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=ec(this.remaining),n=this.remaining[s.length];if(n!=="/"&&n!==")"&&n!==";")throw new Me(4010,!1);let o;s.indexOf(":")>-1?(o=s.slice(0,s.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=le);let r=this.parseChildren();i[o]=Object.keys(r).length===1?r[le]:new Ie([],r),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Me(4011,!1)}};function mp(e){return e.segments.length>0?new Ie([],{[le]:e}):e}function Cp(e){let t={};for(let[s,n]of Object.entries(e.children)){let o=Cp(n);if(s===le&&o.segments.length===0&&o.hasChildren())for(let[r,a]of Object.entries(o.children))t[r]=a;else(o.segments.length>0||o.hasChildren())&&(t[s]=o)}let i=new Ie(e.segments,t);return xv(i)}function xv(e){if(e.numberOfChildren===1&&e.children[le]){let t=e.children[le];return new Ie(e.segments.concat(t.segments),t.children)}return e}function ro(e){return e instanceof Qi}function bv(e,t,i=null,s=null){let n=vp(e);return wp(n,t,i,s)}function vp(e){let t;function i(o){let r={};for(let l of o.children){let c=i(l);r[l.outlet]=c}let a=new Ie(o.url,r);return o===e&&(t=a),a}let s=i(e.root),n=mp(s);return t??n}function wp(e,t,i,s){let n=e;for(;n.parent;)n=n.parent;if(t.length===0)return tc(n,n,n,i,s);let o=Ev(t);if(o.toRoot())return tc(n,n,new Ie([],{}),i,s);let r=Fv(o,n,e),a=r.processChildren?so(r.segmentGroup,r.index,o.commands):Sp(r.segmentGroup,r.index,o.commands);return tc(n,r.segmentGroup,a,i,s)}function Dr(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ao(e){return typeof e=="object"&&e!=null&&e.outlets}function tc(e,t,i,s,n){let o={};s&&Object.entries(s).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let r;e===t?r=i:r=yp(e,t,i);let a=mp(Cp(r));return new Qi(a,o,n)}function yp(e,t,i){let s={};return Object.entries(e.children).forEach(([n,o])=>{o===t?s[n]=i:s[n]=yp(o,t,i)}),new Ie(e.segments,s)}var Tr=class{constructor(t,i,s){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=s,t&&s.length>0&&Dr(s[0]))throw new Me(4003,!1);let n=s.find(ao);if(n&&n!==cp(s))throw new Me(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ev(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Tr(!0,0,e);let t=0,i=!1,s=e.reduce((n,o,r)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:r===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,o]},[]);return new Tr(i,t,s)}var Ks=class{constructor(t,i,s){this.segmentGroup=t,this.processChildren=i,this.index=s}};function Fv(e,t,i){if(e.isAbsolute)return new Ks(t,!0,0);if(!i)return new Ks(t,!1,NaN);if(i.parent===null)return new Ks(i,!0,0);let s=Dr(e.commands[0])?0:1,n=i.segments.length-1+s;return Rv(i,n,e.numberOfDoubleDots)}function Rv(e,t,i){let s=e,n=t,o=i;for(;o>n;){if(o-=n,s=s.parent,!s)throw new Me(4005,!1);n=s.segments.length}return new Ks(s,!1,n-o)}function Dv(e){return ao(e[0])?e[0].outlets:{[le]:e}}function Sp(e,t,i){if(e??=new Ie([],{}),e.segments.length===0&&e.hasChildren())return so(e,t,i);let s=Tv(e,t,i),n=i.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){let o=new Ie(e.segments.slice(0,s.pathIndex),{});return o.children[le]=new Ie(e.segments.slice(s.pathIndex),e.children),so(o,0,n)}else return s.match&&n.length===0?new Ie(e.segments,{}):s.match&&!e.hasChildren()?lc(e,t,i):s.match?so(e,0,n):lc(e,t,i)}function so(e,t,i){if(i.length===0)return new Ie(e.segments,{});{let s=Dv(i),n={};if(Object.keys(s).some(o=>o!==le)&&e.children[le]&&e.numberOfChildren===1&&e.children[le].segments.length===0){let o=so(e.children[le],t,i);return new Ie(e.segments,o.children)}return Object.entries(s).forEach(([o,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[o]=Sp(e.children[o],t,r))}),Object.entries(e.children).forEach(([o,r])=>{s[o]===void 0&&(n[o]=r)}),new Ie(e.segments,n)}}function Tv(e,t,i){let s=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(s>=i.length)return o;let r=e.segments[n],a=i[s];if(ao(a))break;let l=`${a}`,c=s<i.length-1?i[s+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!tp(l,c,r))return o;s+=2}else{if(!tp(l,{},r))return o;s++}n++}return{match:!0,pathIndex:n,commandIndex:s}}function lc(e,t,i){let s=e.segments.slice(0,t),n=0;for(;n<i.length;){let o=i[n];if(ao(o)){let l=Av(o.outlets);return new Ie(s,l)}if(n===0&&Dr(i[0])){let l=e.segments[t];s.push(new Cs(l.path,ep(i[0]))),n++;continue}let r=ao(o)?o.outlets[le]:`${o}`,a=n<i.length-1?i[n+1]:null;r&&a&&Dr(a)?(s.push(new Cs(r,ep(a))),n+=2):(s.push(new Cs(r,{})),n++)}return new Ie(s,{})}function Av(e){let t={};return Object.entries(e).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(t[i]=lc(new Ie([],{}),0,s))}),t}function ep(e){let t={};return Object.entries(e).forEach(([i,s])=>t[i]=`${s}`),t}function tp(e,t,i){return e==i.path&&gi(t,i.parameters)}var no="imperative",nt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(nt||{}),$t=class{constructor(t,i){this.id=t,this.url=i}},Zs=class extends $t{constructor(t,i,s="imperative",n=null){super(t,i),this.type=nt.NavigationStart,this.navigationTrigger=s,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Di=class extends $t{constructor(t,i,s){super(t,i),this.urlAfterRedirects=s,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(At||{}),Ar=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ar||{}),Ri=class extends $t{constructor(t,i,s,n){super(t,i),this.reason=s,this.code=n,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xi=class extends $t{constructor(t,i,s,n){super(t,i),this.reason=s,this.code=n,this.type=nt.NavigationSkipped}},lo=class extends $t{constructor(t,i,s,n){super(t,i),this.error=s,this.target=n,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ir=class extends $t{constructor(t,i,s,n){super(t,i),this.urlAfterRedirects=s,this.state=n,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cc=class extends $t{constructor(t,i,s,n){super(t,i),this.urlAfterRedirects=s,this.state=n,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dc=class extends $t{constructor(t,i,s,n,o){super(t,i),this.urlAfterRedirects=s,this.state=n,this.shouldActivate=o,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},uc=class extends $t{constructor(t,i,s,n){super(t,i),this.urlAfterRedirects=s,this.state=n,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hc=class extends $t{constructor(t,i,s,n){super(t,i),this.urlAfterRedirects=s,this.state=n,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pc=class{constructor(t){this.route=t,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gc=class{constructor(t){this.route=t,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fc=class{constructor(t){this.snapshot=t,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mc=class{constructor(t){this.snapshot=t,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cc=class{constructor(t){this.snapshot=t,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vc=class{constructor(t){this.snapshot=t,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pr=class{constructor(t,i,s){this.routerEvent=t,this.position=i,this.anchor=s,this.type=nt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},co=class{},Js=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};var wc=class{constructor(t){this.injector=t,this.outlet=null,this.route=null,this.children=new Co(this.injector),this.attachRef=null}},Co=(()=>{let t=class t{constructor(s){this.parentInjector=s,this.contexts=new Map}onChildOutletCreated(s,n){let o=this.getOrCreateContext(s);o.outlet=n,this.contexts.set(s,o)}onChildOutletDestroyed(s){let n=this.getContext(s);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let n=this.getContext(s);return n||(n=new wc(this.parentInjector),this.contexts.set(s,n)),n}getContext(s){return this.contexts.get(s)||null}};t.\u0275fac=function(n){return new(n||t)(te(zi))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Mr=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=yc(t,this._root);return i?i.children.map(s=>s.value):[]}firstChild(t){let i=yc(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Sc(t,this._root);return i.length<2?[]:i[i.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return Sc(t,this._root).map(i=>i.value)}};function yc(e,t){if(e===t.value)return t;for(let i of t.children){let s=yc(e,i);if(s)return s}return null}function Sc(e,t){if(e===t.value)return[t];for(let i of t.children){let s=Sc(e,i);if(s.length)return s.unshift(t),s}return[]}var Tt=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function $s(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var _r=class extends Mr{constructor(t,i){super(t),this.snapshot=i,Ic(this,t)}toString(){return this.snapshot.toString()}};function xp(e){let t=Iv(e),i=new Nt([new Cs("",{})]),s=new Nt({}),n=new Nt({}),o=new Nt({}),r=new Nt(""),a=new en(i,s,o,r,n,le,e,t.root);return a.snapshot=t.root,new _r(new Tt(a,[]),t)}function Iv(e){let t={},i={},s={},n="",o=new qs([],t,s,n,i,le,e,null,{});return new Or("",new Tt(o,[]))}var en=class{constructor(t,i,s,n,o,r,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=s,this.fragmentSubject=n,this.dataSubject=o,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Se(c=>c[fo]))??ne(void 0),this.url=t,this.params=i,this.queryParams=s,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(t=>Qs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(t=>Qs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lr(e,t,i="emptyOnly"){let s,{routeConfig:n}=e;return t!==null&&(i==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?s={params:R(R({},t.params),e.params),data:R(R({},t.data),e.data),resolve:R(R(R(R({},e.data),t.data),n?.data),e._resolvedData)}:s={params:R({},e.params),data:R({},e.data),resolve:R(R({},e.data),e._resolvedData??{})},n&&Ep(n)&&(s.resolve[fo]=n.title),s}var qs=class{get title(){return this.data?.[fo]}constructor(t,i,s,n,o,r,a,l,c){this.url=t,this.params=i,this.queryParams=s,this.fragment=n,this.data=o,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(s=>s.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Or=class extends Mr{constructor(t,i){super(i),this.url=t,Ic(this,i)}toString(){return bp(this._root)}};function Ic(e,t){t.value._routerState=e,t.children.forEach(i=>Ic(e,i))}function bp(e){let t=e.children.length>0?` { ${e.children.map(bp).join(", ")} } `:"";return`${e.value}${t}`}function ic(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,gi(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),gi(t.params,i.params)||e.paramsSubject.next(i.params),ov(t.url,i.url)||e.urlSubject.next(i.url),gi(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xc(e,t){let i=gi(e.params,t.params)&&cv(e.url,t.url),s=!e.parent!=!t.parent;return i&&!s&&(!e.parent||xc(e.parent,t.parent))}function Ep(e){return typeof e.title=="string"||e.title===null}var Pv=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=X(Co),this.location=X(Us),this.changeDetector=X(ii),this.inputBinder=X(Gr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(s){if(s.name){let{firstChange:n,previousValue:o}=s.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(s){return this.parentContexts.getContext(s)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let s=this.parentContexts.getContext(this.name);s?.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Me(4012,!1);this.location.detach();let s=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(s.instance),s}attach(s,n){this.activated=s,this._activatedRoute=n,this.location.insert(s.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(s.instance)}deactivate(){if(this.activated){let s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,n){if(this.isActivated)throw new Me(4013,!1);this._activatedRoute=s;let o=this.location,a=s.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new bc(s,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]});let e=t;return e})(),bc=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,s){this.route=t,this.childContexts=i,this.parent=s}get(t,i){return t===en?this.route:t===Co?this.childContexts:this.parent.get(t,i)}},Gr=new ve(""),ip=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(s){this.unsubscribeFromRouteData(s),this.subscribeToRouteData(s)}unsubscribeFromRouteData(s){this.outletDataSubscriptions.get(s)?.unsubscribe(),this.outletDataSubscriptions.delete(s)}subscribeToRouteData(s){let{activatedRoute:n}=s,o=er([n.queryParams,n.params,n.data]).pipe(Dt(([r,a,l],c)=>(l=R(R(R({},r),a),l),c===0?ne(l):Promise.resolve(l)))).subscribe(r=>{if(!s.isActivated||!s.activatedComponentRef||s.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(s);return}let a=xh(n.component);if(!a){this.unsubscribeFromRouteData(s);return}for(let{templateName:l}of a.inputs)s.activatedComponentRef.setInput(l,r[l])});this.outletDataSubscriptions.set(s,o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})();function Mv(e,t,i){let s=uo(e,t._root,i?i._root:void 0);return new _r(s,t)}function uo(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let s=i.value;s._futureSnapshot=t.value;let n=_v(e,t,i);return new Tt(s,n)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let r=o.route;return r.value._futureSnapshot=t.value,r.children=t.children.map(a=>uo(e,a)),r}}let s=Lv(t.value),n=t.children.map(o=>uo(e,o));return new Tt(s,n)}}function _v(e,t,i){return t.children.map(s=>{for(let n of i.children)if(e.shouldReuseRoute(s.value,n.value.snapshot))return uo(e,s,n);return uo(e,s)})}function Lv(e){return new en(new Nt(e.url),new Nt(e.params),new Nt(e.queryParams),new Nt(e.fragment),new Nt(e.data),e.outlet,e.component,e)}var ho=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},Fp="ngNavigationCancelingError";function Br(e,t){let{redirectTo:i,navigationBehaviorOptions:s}=ro(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=Rp(!1,At.Redirect);return n.url=i,n.navigationBehaviorOptions=s,n}function Rp(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[Fp]=!0,i.cancellationCode=t,i}function Ov(e){return Dp(e)&&ro(e.url)}function Dp(e){return!!e&&e[Fp]}var Bv=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=de({type:t,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(n,o){n&1&&q(0,"router-outlet")},dependencies:[Pv],encapsulation:2});let e=t;return e})();function kv(e,t){return e.providers&&!e._injector&&(e._injector=Ml(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Pc(e){let t=e.children&&e.children.map(Pc),i=t?J(R({},e),{children:t}):R({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==le&&(i.component=Bv),i}function si(e){return e.outlet||le}function Nv(e,t){let i=e.filter(s=>si(s)===t);return i.push(...e.filter(s=>si(s)!==t)),i}function vo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Vv=(e,t,i,s)=>Se(n=>(new Ec(t,n.targetRouterState,n.currentRouterState,i,s).activate(e),n)),Ec=class{constructor(t,i,s,n,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=s,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,t),ic(this.futureState.root),this.activateChildRoutes(i,s,t)}deactivateChildRoutes(t,i,s){let n=$s(i);t.children.forEach(o=>{let r=o.value.outlet;this.deactivateRoutes(o,n[r],s),delete n[r]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,s)})}deactivateRoutes(t,i,s){let n=t.value,o=i?i.value:null;if(n===o)if(n.component){let r=s.getContext(n.outlet);r&&this.deactivateChildRoutes(t,i,r.children)}else this.deactivateChildRoutes(t,i,s);else o&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let s=i.getContext(t.value.outlet),n=s&&t.value.component?s.children:i,o=$s(t);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,n);if(s&&s.outlet){let r=s.outlet.detach(),a=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let s=i.getContext(t.value.outlet),n=s&&t.value.component?s.children:i,o=$s(t);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,n);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(t,i,s){let n=$s(i);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],s),this.forwardEvent(new vc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mc(t.value.snapshot))}activateRoutes(t,i,s){let n=t.value,o=i?i.value:null;if(ic(n),n===o)if(n.component){let r=s.getOrCreateContext(n.outlet);this.activateChildRoutes(t,i,r.children)}else this.activateChildRoutes(t,i,s);else if(n.component){let r=s.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),ic(a.route.value),this.activateChildRoutes(t,null,r.children)}else{let a=vo(n.snapshot);r.attachRef=null,r.route=n,r.injector=a??r.injector,r.outlet&&r.outlet.activateWith(n,r.injector),this.activateChildRoutes(t,null,r.children)}}else this.activateChildRoutes(t,null,s)}},kr=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ys=class{constructor(t,i){this.component=t,this.route=i}};function Gv(e,t,i){let s=e._root,n=t?t._root:null;return to(s,n,i,[s.value])}function Hv(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function sn(e,t){let i=Symbol(),s=t.get(e,i);return s===i?typeof e=="function"&&!Ku(e)?e:t.get(e):s}function to(e,t,i,s,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=$s(t);return e.children.forEach(r=>{Wv(r,o[r.value.outlet],i,s.concat([r.value]),n),delete o[r.value.outlet]}),Object.entries(o).forEach(([r,a])=>oo(a,i.getContext(r),n)),n}function Wv(e,t,i,s,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,r=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){let l=zv(r,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new kr(s)):(o.data=r.data,o._resolvedData=r._resolvedData),o.component?to(e,t,a?a.children:null,s,n):to(e,t,i,s,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Ys(a.outlet.component,r))}else r&&oo(t,a,n),n.canActivateChecks.push(new kr(s)),o.component?to(e,null,a?a.children:null,s,n):to(e,null,i,s,n);return n}function zv(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!vs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vs(e.url,t.url)||!gi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xc(e,t)||!gi(e.queryParams,t.queryParams);case"paramsChange":default:return!xc(e,t)}}function oo(e,t,i){let s=$s(e),n=e.value;Object.entries(s).forEach(([o,r])=>{n.component?t?oo(r,t.children.getContext(o),i):oo(r,null,i):oo(r,t,i)}),n.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Ys(t.outlet.component,n)):i.canDeactivateChecks.push(new Ys(null,n)):i.canDeactivateChecks.push(new Ys(null,n))}function wo(e){return typeof e=="function"}function Uv(e){return typeof e=="boolean"}function jv(e){return e&&wo(e.canLoad)}function $v(e){return e&&wo(e.canActivate)}function Kv(e){return e&&wo(e.canActivateChild)}function qv(e){return e&&wo(e.canDeactivate)}function Yv(e){return e&&wo(e.canMatch)}function Tp(e){return e instanceof Nu||e?.name==="EmptyError"}var br=Symbol("INITIAL_VALUE");function tn(){return Dt(e=>er(e.map(t=>t.pipe(Vs(1),ju(br)))).pipe(Se(t=>{for(let i of t)if(i!==!0){if(i===br)return br;if(i===!1||Qv(i))return i}return!0}),Si(t=>t!==br),Vs(1)))}function Qv(e){return ro(e)||e instanceof ho}function Xv(e,t){return Rt(i=>{let{targetSnapshot:s,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:r}}=i;return r.length===0&&o.length===0?ne(J(R({},i),{guardsResult:!0})):Zv(r,s,n,e).pipe(Rt(a=>a&&Uv(a)?Jv(s,o,e,t):ne(a)),Se(a=>J(R({},i),{guardsResult:a})))})}function Zv(e,t,i,s){return rt(e).pipe(Rt(n=>nw(n.component,n.route,i,t,s)),Hi(n=>n!==!0,!0))}function Jv(e,t,i,s){return rt(t).pipe(Gi(n=>Vu(tw(n.route.parent,s),ew(n.route,s),sw(e,n.path,i),iw(e,n.route,i))),Hi(n=>n!==!0,!0))}function ew(e,t){return e!==null&&t&&t(new Cc(e)),ne(!0)}function tw(e,t){return e!==null&&t&&t(new fc(e)),ne(!0)}function iw(e,t,i){let s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||s.length===0)return ne(!0);let n=s.map(o=>El(()=>{let r=vo(t)??i,a=sn(o,r),l=$v(a)?a.canActivate(t,e):Vt(r,()=>a(t,e));return Zi(l).pipe(Hi())}));return ne(n).pipe(tn())}function sw(e,t,i){let s=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(r=>Hv(r)).filter(r=>r!==null).map(r=>El(()=>{let a=r.guards.map(l=>{let c=vo(r.node)??i,d=sn(l,c),u=Kv(d)?d.canActivateChild(s,e):Vt(c,()=>d(s,e));return Zi(u).pipe(Hi())});return ne(a).pipe(tn())}));return ne(o).pipe(tn())}function nw(e,t,i,s,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let r=o.map(a=>{let l=vo(t)??n,c=sn(a,l),d=qv(c)?c.canDeactivate(e,t,i,s):Vt(l,()=>c(e,t,i,s));return Zi(d).pipe(Hi())});return ne(r).pipe(tn())}function ow(e,t,i,s){let n=t.canLoad;if(n===void 0||n.length===0)return ne(!0);let o=n.map(r=>{let a=sn(r,e),l=jv(a)?a.canLoad(t,i):Vt(e,()=>a(t,i));return Zi(l)});return ne(o).pipe(tn(),Ap(s))}function Ap(e){return Bu(at(t=>{if(typeof t!="boolean")throw Br(e,t)}),Se(t=>t===!0))}function rw(e,t,i,s){let n=t.canMatch;if(!n||n.length===0)return ne(!0);let o=n.map(r=>{let a=sn(r,e),l=Yv(a)?a.canMatch(t,i):Vt(e,()=>a(t,i));return Zi(l)});return ne(o).pipe(tn(),Ap(s))}var po=class{constructor(t){this.segmentGroup=t||null}},go=class extends Error{constructor(t){super(),this.urlTree=t}};function js(e){return _n(new po(e))}function aw(e){return _n(new Me(4e3,!1))}function lw(e){return _n(Rp(!1,At.GuardRejected))}var Fc=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let s=[],n=i.root;for(;;){if(s=s.concat(n.segments),n.numberOfChildren===0)return ne(s);if(n.numberOfChildren>1||!n.children[le])return aw(`${t.redirectTo}`);n=n.children[le]}}applyRedirectCommands(t,i,s,n,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:p,data:g,title:v}=n,C=Vt(o,()=>a({params:p,data:g,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:v}));if(C instanceof Qi)throw new go(C);i=C}let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,s);if(i[0]==="/")throw new go(r);return r}applyRedirectCreateUrlTree(t,i,s,n){let o=this.createSegmentGroup(t,i.root,s,n);return new Qi(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let s={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);s[n]=i[a]}else s[n]=o}),s}createSegmentGroup(t,i,s,n){let o=this.createSegments(t,i.segments,s,n),r={};return Object.entries(i.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(t,l,s,n)}),new Ie(o,r)}createSegments(t,i,s,n){return i.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,s))}findPosParam(t,i,s){let n=s[i.path.substring(1)];if(!n)throw new Me(4001,!1);return n}findOrReturn(t,i){let s=0;for(let n of i){if(n.path===t.path)return i.splice(s),n;s++}return t}},Rc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cw(e,t,i,s,n){let o=Mc(e,t,i);return o.matched?(s=kv(t,s),rw(s,t,i,n).pipe(Se(r=>r===!0?o:R({},Rc)))):ne(o)}function Mc(e,t,i){if(t.path==="**")return dw(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?R({},Rc):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let n=(t.matcher||nv)(i,e,t);if(!n)return R({},Rc);let o={};Object.entries(n.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let r=n.consumed.length>0?R(R({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:i.slice(n.consumed.length),parameters:r,positionalParamSegments:n.posParams??{}}}function dw(e){return{matched:!0,parameters:e.length>0?cp(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function sp(e,t,i,s){return i.length>0&&pw(e,i,s)?{segmentGroup:new Ie(t,hw(s,new Ie(i,e.children))),slicedSegments:[]}:i.length===0&&gw(e,i,s)?{segmentGroup:new Ie(e.segments,uw(e,i,s,e.children)),slicedSegments:i}:{segmentGroup:new Ie(e.segments,e.children),slicedSegments:i}}function uw(e,t,i,s){let n={};for(let o of i)if(Hr(e,t,o)&&!s[si(o)]){let r=new Ie([],{});n[si(o)]=r}return R(R({},s),n)}function hw(e,t){let i={};i[le]=t;for(let s of e)if(s.path===""&&si(s)!==le){let n=new Ie([],{});i[si(s)]=n}return i}function pw(e,t,i){return i.some(s=>Hr(e,t,s)&&si(s)!==le)}function gw(e,t,i){return i.some(s=>Hr(e,t,s))}function Hr(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function fw(e,t,i,s){return si(e)!==s&&(s===le||!Hr(t,i,e))?!1:Mc(t,e,i).matched}function mw(e,t,i){return t.length===0&&!e.children[i]}var Dc=class{};function Cw(e,t,i,s,n,o,r="emptyOnly"){return new Tc(e,t,i,s,n,r,o).recognize()}var vw=31,Tc=class{constructor(t,i,s,n,o,r,a){this.injector=t,this.configLoader=i,this.rootComponentType=s,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new Fc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Me(4002,`'${t.segmentGroup}'`)}recognize(){let t=sp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Se(({children:i,rootSnapshot:s})=>{let n=new Tt(s,i),o=new Or("",n),r=bv(s,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(r),{state:o,tree:r}}))}match(t){let i=new qs([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,le,i).pipe(Se(s=>({children:s,rootSnapshot:i})),Ns(s=>{if(s instanceof go)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof po?this.noMatchError(s):s}))}processSegmentGroup(t,i,s,n,o){return s.segments.length===0&&s.hasChildren()?this.processChildren(t,i,s,o):this.processSegment(t,i,s,s.segments,n,!0,o).pipe(Se(r=>r instanceof Tt?[r]:[]))}processChildren(t,i,s,n){let o=[];for(let r of Object.keys(s.children))r==="primary"?o.unshift(r):o.push(r);return rt(o).pipe(Gi(r=>{let a=s.children[r],l=Nv(i,r);return this.processSegmentGroup(t,l,a,r,n)}),Uu((r,a)=>(r.push(...a),r)),Fl(null),zu(),Rt(r=>{if(r===null)return js(s);let a=Ip(r);return ww(a),ne(a)}))}processSegment(t,i,s,n,o,r,a){return rt(i).pipe(Gi(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,s,n,o,r,a).pipe(Ns(c=>{if(c instanceof po)return ne(null);throw c}))),Hi(l=>!!l),Ns(l=>{if(Tp(l))return mw(s,n,o)?ne(new Dc):js(s);throw l}))}processSegmentAgainstRoute(t,i,s,n,o,r,a,l){return fw(s,n,o,r)?s.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,s,o,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,s,o,r,l):js(n):js(n)}expandSegmentAgainstRouteUsingRedirect(t,i,s,n,o,r,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=Mc(i,n,o);if(!l)return js(i);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vw&&(this.allowRedirects=!1));let p=new qs(o,c,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,np(n),si(n),n.component??n._loadedComponent??null,n,op(n)),g=Lr(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(n,v).pipe(Rt(C=>this.processSegment(t,s,i,C.concat(h),r,!1,a)))}matchSegmentAgainstRoute(t,i,s,n,o,r){let a=cw(i,s,n,t,this.urlSerializer);return s.path==="**"&&(i.children={}),a.pipe(Dt(l=>l.matched?(t=s._injector??t,this.getChildConfig(t,s,n).pipe(Dt(({routes:c})=>{let d=s._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:p}=l,g=new qs(h,u,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,np(s),si(s),s.component??s._loadedComponent??null,s,op(s)),v=Lr(g,r,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:C,slicedSegments:f}=sp(i,h,p,c);if(f.length===0&&C.hasChildren())return this.processChildren(d,c,C,g).pipe(Se(w=>new Tt(g,w)));if(c.length===0&&f.length===0)return ne(new Tt(g,[]));let m=si(s)===o;return this.processSegment(d,c,C,f,m?le:o,!0,g).pipe(Se(w=>new Tt(g,w instanceof Tt?[w]:[])))}))):js(i)))}getChildConfig(t,i,s){return i.children?ne({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?ne({routes:i._loadedRoutes,injector:i._loadedInjector}):ow(t,i,s,this.urlSerializer).pipe(Rt(n=>n?this.configLoader.loadChildren(t,i).pipe(at(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):lw(i))):ne({routes:[],injector:t})}};function ww(e){e.sort((t,i)=>t.value.outlet===le?-1:i.value.outlet===le?1:t.value.outlet.localeCompare(i.value.outlet))}function yw(e){let t=e.value.routeConfig;return t&&t.path===""}function Ip(e){let t=[],i=new Set;for(let s of e){if(!yw(s)){t.push(s);continue}let n=t.find(o=>s.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...s.children),i.add(n)):t.push(s)}for(let s of i){let n=Ip(s.children);t.push(new Tt(s.value,n))}return t.filter(s=>!i.has(s))}function np(e){return e.data||{}}function op(e){return e.resolve||{}}function Sw(e,t,i,s,n,o){return Rt(r=>Cw(e,t,i,s,r.extractedUrl,n,o).pipe(Se(({state:a,tree:l})=>J(R({},r),{targetSnapshot:a,urlAfterRedirects:l}))))}function xw(e,t){return Rt(i=>{let{targetSnapshot:s,guards:{canActivateChecks:n}}=i;if(!n.length)return ne(i);let o=new Set(n.map(l=>l.route)),r=new Set;for(let l of o)if(!r.has(l))for(let c of Pp(l))r.add(c);let a=0;return rt(r).pipe(Gi(l=>o.has(l)?bw(l,s,e,t):(l.data=Lr(l,l.parent,e).resolve,ne(void 0))),at(()=>a++),Rl(1),Rt(l=>a===r.size?ne(i):Vi))})}function Pp(e){let t=e.children.map(i=>Pp(i)).flat();return[e,...t]}function bw(e,t,i,s){let n=e.routeConfig,o=e._resolve;return n?.title!==void 0&&!Ep(n)&&(o[fo]=n.title),Ew(o,e,t,s).pipe(Se(r=>(e._resolvedData=r,e.data=Lr(e,e.parent,i).resolve,null)))}function Ew(e,t,i,s){let n=oc(e);if(n.length===0)return ne({});let o={};return rt(n).pipe(Rt(r=>Fw(e[r],t,i,s).pipe(Hi(),at(a=>{if(a instanceof ho)throw Br(new Xs,a);o[r]=a}))),Rl(1),Wu(o),Ns(r=>Tp(r)?Vi:_n(r)))}function Fw(e,t,i,s){let n=vo(t)??s,o=sn(e,n),r=o.resolve?o.resolve(t,i):Vt(n,()=>o(t,i));return Zi(r)}function sc(e){return Dt(t=>{let i=e(t);return i?rt(i).pipe(Se(()=>t)):ne(t)})}var Mp=(()=>{let t=class t{buildTitle(s){let n,o=s.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(r=>r.outlet===le);return n}getResolvedTitleForRoute(s){return s.data[fo]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:()=>X(Rw),providedIn:"root"});let e=t;return e})(),Rw=(()=>{let t=class t extends Mp{constructor(s){super(),this.title=s}updateTitle(s){let n=this.buildTitle(s);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(te(Xh))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yo=new ve("",{providedIn:"root",factory:()=>({})}),Nr=new ve(""),_c=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(ur)}loadComponent(s){if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return ne(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);let n=Zi(s.loadComponent()).pipe(Se(_p),at(r=>{this.onLoadEndListener&&this.onLoadEndListener(s),s._loadedComponent=r}),Gs(()=>{this.componentLoaders.delete(s)})),o=new xl(n,()=>new Fe).pipe(Sl());return this.componentLoaders.set(s,o),o}loadChildren(s,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ne({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=Dw(n,this.compiler,s,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(n)})),a=new xl(r,()=>new Fe).pipe(Sl());return this.childrenLoaders.set(n,a),a}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Dw(e,t,i,s){return Zi(e.loadChildren()).pipe(Se(_p),Rt(n=>n instanceof uh||Array.isArray(n)?ne(n):rt(t.compileModuleAsync(n))),Se(n=>{s&&s(e);let o,r,a=!1;return Array.isArray(n)?(r=n,a=!0):(o=n.create(i).injector,r=o.get(Nr,[],{optional:!0,self:!0}).flat()),{routes:r.map(Pc),injector:o}}))}function Tw(e){return e&&typeof e=="object"&&"default"in e}function _p(e){return Tw(e)?e.default:e}var Lc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:()=>X(Aw),providedIn:"root"});let e=t;return e})(),Aw=(()=>{let t=class t{shouldProcessUrl(s){return!0}extract(s){return s}merge(s,n){return s}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Lp=new ve(""),Op=new ve("");function Iw(e,t,i){let s=e.get(Op),n=e.get(Ae);return e.get(Ge).runOutsideAngular(()=>{if(!n.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,r=new Promise(c=>{o=c}),a=n.startViewTransition(()=>(o(),Pw(e))),{onViewTransitionCreated:l}=s;return l&&Vt(e,()=>l({transition:a,from:t,to:i})),r})}function Pw(e){return new Promise(t=>{Pl(t,{injector:e})})}var Mw=new ve(""),Oc=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=X(_c),this.environmentInjector=X(zi),this.urlSerializer=X(mo),this.rootContexts=X(Co),this.location=X(zn),this.inputBindingEnabled=X(Gr,{optional:!0})!==null,this.titleStrategy=X(Mp),this.options=X(yo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(Lc),this.createViewTransition=X(Lp,{optional:!0}),this.navigationErrorHandler=X(Mw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let s=o=>this.events.next(new pc(o)),n=o=>this.events.next(new gc(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=s}complete(){this.transitions?.complete()}handleNavigationRequest(s){let n=++this.navigationId;this.transitions?.next(J(R(R({},this.transitions.value),s),{id:n}))}setupNavigations(s,n,o){return this.transitions=new Nt({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(r=>r.id!==0),Se(r=>J(R({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Dt(r=>{let a=!1,l=!1;return ne(r).pipe(Dt(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),Vi;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?J(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!s.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??s.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new Xi(c.id,this.urlSerializer.serialize(c.rawUrl),h,Ar.IgnoredSameUrlNavigation)),c.resolve(!1),Vi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ne(c).pipe(Dt(h=>{let p=this.transitions?.getValue();return this.events.next(new Zs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Vi:Promise.resolve(h)}),Sw(this.environmentInjector,this.configLoader,this.rootComponentType,s.config,this.urlSerializer,this.paramsInheritanceStrategy),at(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=J(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Ir(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:v,extras:C}=c,f=new Zs(h,this.urlSerializer.serialize(p),g,v);this.events.next(f);let m=xp(this.rootComponentType).snapshot;return this.currentTransition=r=J(R({},c),{targetSnapshot:m,urlAfterRedirects:p,extras:J(R({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ne(r)}else{let h="";return this.events.next(new Xi(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Ar.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Vi}}),at(c=>{let d=new cc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Se(c=>(this.currentTransition=r=J(R({},c),{guards:Gv(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),Xv(this.environmentInjector,c=>this.events.next(c)),at(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Br(this.urlSerializer,c.guardsResult);let d=new dc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Si(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",At.GuardRejected),!1)),sc(c=>{if(c.guards.canActivateChecks.length)return ne(c).pipe(at(d=>{let u=new uc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Dt(d=>{let u=!1;return ne(d).pipe(xw(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",At.NoDataFromResolver)}}))}),at(d=>{let u=new hc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),sc(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(at(p=>{u.component=p}),Se(()=>{})));for(let p of u.children)h.push(...d(p));return h};return er(d(c.targetSnapshot.root)).pipe(Fl(null),Vs(1))}),sc(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:c,targetSnapshot:d}=r,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?rt(u).pipe(Se(()=>r)):ne(r)}),Se(c=>{let d=Mv(s.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=J(R({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,r}),at(()=>{this.events.next(new co)}),Vv(this.rootContexts,s.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Vs(1),at({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Di(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),$u(this.transitionAbortSubject.pipe(at(c=>{throw c}))),Gs(()=>{!a&&!l&&this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ns(c=>{if(l=!0,Dp(c))this.events.next(new Ri(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),Ov(c)?this.events.next(new Js(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let d=new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let u=Vt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof ho){let{message:h,cancellationCode:p}=Br(this.urlSerializer,u);this.events.next(new Ri(r.id,this.urlSerializer.serialize(r.extractedUrl),h,p)),this.events.next(new Js(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let h=s.errorHandler(c);r.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Vi}))}))}cancelNavigationTransition(s,n,o){let r=new Ri(s.id,this.urlSerializer.serialize(s.extractedUrl),n,o);this.events.next(r),s.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _w(e){return e!==no}var Lw=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:()=>X(Ow),providedIn:"root"});let e=t;return e})(),Ac=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},Ow=(()=>{let t=class t extends Ac{};t.\u0275fac=(()=>{let s;return function(o){return(s||(s=Ve(t)))(o||t)}})(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Bp=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:()=>X(Bw),providedIn:"root"});let e=t;return e})(),Bw=(()=>{let t=class t extends Bp{constructor(){super(...arguments),this.location=X(zn),this.urlSerializer=X(mo),this.options=X(yo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(Lc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(s){return this.location.subscribe(n=>{n.type==="popstate"&&s(n.url,n.state)})}handleRouterEvent(s,n){if(s instanceof Zs)this.stateMemento=this.createStateMemento();else if(s instanceof Xi)this.rawUrlTree=n.initialUrl;else if(s instanceof Ir){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else s instanceof co?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):s instanceof Ri&&(s.code===At.GuardRejected||s.code===At.NoDataFromResolver)?this.restoreHistory(n):s instanceof lo?this.restoreHistory(n,!0):s instanceof Di&&(this.lastSuccessfulId=s.id,this.currentPageId=this.browserPageId)}setBrowserUrl(s,n){let o=this.urlSerializer.serialize(s);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let r=this.browserPageId,a=R(R({},n.extras.state),this.generateNgRouterState(n.id,r));this.location.replaceState(o,"",a)}else{let r=R(R({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(s,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===s.finalUrl&&r===0&&(this.resetState(s),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(s,n){return this.canceledNavigationResolution==="computed"?{navigationId:s,\u0275routerPageId:n}:{navigationId:s}}};t.\u0275fac=(()=>{let s;return function(o){return(s||(s=Ve(t)))(o||t)}})(),t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),io=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(io||{});function kp(e,t){e.events.pipe(Si(i=>i instanceof Di||i instanceof Ri||i instanceof lo||i instanceof Xi),Se(i=>i instanceof Di||i instanceof Xi?io.COMPLETE:(i instanceof Ri?i.code===At.Redirect||i.code===At.SupersededByNewNavigation:!1)?io.REDIRECTING:io.FAILED),Si(i=>i!==io.REDIRECTING),Vs(1)).subscribe(()=>{t()})}function kw(e){throw e}var Nw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ws=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=X(ar),this.stateManager=X(Bp),this.options=X(yo,{optional:!0})||{},this.pendingTasks=X(tr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(Oc),this.urlSerializer=X(mo),this.location=X(zn),this.urlHandlingStrategy=X(Lc),this._events=new Fe,this.errorHandler=this.options.errorHandler||kw,this.navigated=!1,this.routeReuseStrategy=X(Lw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(Nr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(Gr,{optional:!0}),this.eventsSubscription=new Ou,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:s=>{this.console.warn(s)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let s=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(n,r),n instanceof Ri&&n.code!==At.Redirect&&n.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Di)this.navigated=!0;else if(n instanceof Js){let a=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=R({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_w(o.source)},a);this.scheduleNavigation(l,no,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Hw(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(s)}resetRootComponentType(s){this.routerState.root.component=s,this.navigationTransitions.rootComponentType=s}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((s,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(s,"popstate",n)},0)})}navigateToSyncWithBrowser(s,n,o){let r={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=R({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let l=this.parseUrl(s);this.scheduleNavigation(l,n,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(s){this.config=s.map(Pc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(s,n={}){let{relativeTo:o,queryParams:r,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=R(R({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=vp(p)}catch{(typeof s[0]!="string"||s[0][0]!=="/")&&(s=[]),h=this.currentUrlTree.root}return wp(h,s,u,d??null)}navigateByUrl(s,n={skipLocationChange:!1}){let o=ro(s)?s:this.parseUrl(s),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,no,null,n)}navigate(s,n={skipLocationChange:!1}){return Gw(s),this.navigateByUrl(this.createUrlTree(s,n),n)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){try{return this.urlSerializer.parse(s)}catch{return this.urlSerializer.parse("/")}}isActive(s,n){let o;if(n===!0?o=R({},Nw):n===!1?o=R({},Vw):o=n,ro(s))return Zh(this.currentUrlTree,s,o);let r=this.parseUrl(s);return Zh(this.currentUrlTree,r,o)}removeEmptyProps(s){return Object.entries(s).reduce((n,[o,r])=>(r!=null&&(n[o]=r),n),{})}scheduleNavigation(s,n,o,r,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,p)=>{l=h,c=p});let u=this.pendingTasks.add();return kp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:s,extras:r,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Gw(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Me(4008,!1)}function Hw(e){return!(e instanceof co)&&!(e instanceof Js)}var Vr=class{};var Ww=(()=>{let t=class t{constructor(s,n,o,r,a){this.router=s,this.injector=o,this.preloadingStrategy=r,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Si(s=>s instanceof Di),Gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,n){let o=[];for(let r of n){r.providers&&!r._injector&&(r._injector=Ml(r.providers,s,`Route: ${r.path}`));let a=r._injector??s,l=r._loadedInjector??a;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(a,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(l,r.children??r._loadedRoutes))}return rt(o).pipe(bl())}preloadConfig(s,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(s,n):o=ne(null);let r=o.pipe(Rt(a=>a===null?ne(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??s,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return rt([r,a]).pipe(bl())}else return r})}};t.\u0275fac=function(n){return new(n||t)(te(ws),te(ur),te(zi),te(Vr),te(_c))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Np=new ve(""),zw=(()=>{let t=class t{constructor(s,n,o,r,a={}){this.urlSerializer=s,this.transitions=n,this.viewportScroller=o,this.zone=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=X(zi),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof Zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof Di?(this.lastId=s.id,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.urlAfterRedirects).fragment)):s instanceof Xi&&s.code===Ar.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof Pr&&(s.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(s.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,n){this.zone.runOutsideAngular(()=>Mn(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Pl(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Pr(s,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){lh()},t.\u0275prov=ie({token:t,factory:t.\u0275fac});let e=t;return e})();function Uw(e){return e.routerState.root}function So(e,t){return{\u0275kind:e,\u0275providers:t}}function jw(){let e=X(di);return t=>{let i=e.get(pi);if(t!==i.components[0])return;let s=e.get(ws),n=e.get(Vp);e.get(Bc)===1&&s.initialNavigation(),e.get(Gp,null,Dl.Optional)?.setUpPreloading(),e.get(Np,null,Dl.Optional)?.init(),s.resetRootComponentType(i.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Vp=new ve("",{factory:()=>new Fe}),Bc=new ve("",{providedIn:"root",factory:()=>1});function $w(){return So(2,[{provide:Bc,useValue:0},{provide:Ol,multi:!0,deps:[di],useFactory:t=>{let i=t.get(Fh,Promise.resolve());return()=>i.then(()=>new Promise(s=>{let n=t.get(ws),o=t.get(Vp);kp(n,()=>{s(!0)}),t.get(Oc).afterPreactivation=()=>(s(!0),o.closed?ne(void 0):o),n.initialNavigation()}))}}])}function Kw(){return So(3,[{provide:Ol,multi:!0,useFactory:()=>{let t=X(ws);return()=>{t.setUpLocationChangeListener()}}},{provide:Bc,useValue:2}])}var Gp=new ve("");function qw(e){return So(0,[{provide:Gp,useExisting:Ww},{provide:Vr,useExisting:e}])}function Yw(){return So(8,[ip,{provide:Gr,useExisting:ip}])}function Qw(e){let t=[{provide:Lp,useValue:Iw},{provide:Op,useValue:R({skipNextTransition:!!e?.skipInitialTransition},e)}];return So(9,t)}var rp=new ve("ROUTER_FORROOT_GUARD"),Xw=[zn,{provide:mo,useClass:Xs},ws,Co,{provide:en,useFactory:Uw,deps:[ws]},_c,[]],pL=(()=>{let t=class t{constructor(s){}static forRoot(s,n){return{ngModule:t,providers:[Xw,[],{provide:Nr,multi:!0,useValue:s},{provide:rp,useFactory:ty,deps:[[ws,new Tl,new qu]]},{provide:yo,useValue:n||{}},n?.useHash?Jw():ey(),Zw(),n?.preloadingStrategy?qw(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?iy(n):[],n?.bindToComponentInputs?Yw().\u0275providers:[],n?.enableViewTransitions?Qw().\u0275providers:[],sy()]}}static forChild(s){return{ngModule:t,providers:[{provide:Nr,multi:!0,useValue:s}]}}};t.\u0275fac=function(n){return new(n||t)(te(rp,8))},t.\u0275mod=De({type:t}),t.\u0275inj=Re({});let e=t;return e})();function Zw(){return{provide:Np,useFactory:()=>{let e=X(Ih),t=X(Ge),i=X(yo),s=X(Oc),n=X(mo);return i.scrollOffset&&e.setOffset(i.scrollOffset),new zw(n,s,e,t,i)}}}function Jw(){return{provide:kl,useClass:Dh}}function ey(){return{provide:kl,useClass:Rh}}function ty(e){return"guarded"}function iy(e){return[e.initialNavigation==="disabled"?Kw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?$w().\u0275providers:[]]}var ap=new ve("");function sy(){return[{provide:ap,useFactory:jw},{provide:Bl,multi:!0,useExisting:ap}]}var gn=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let s=t?this.allAsyncListeners:this.allSyncListeners,n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let s=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()}),n=this.getListeners(i,t,!1)??new Set,o=new Set(n);o.size>0&&s(o,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function mL(e){return e!=null&&e.length>0}function we(e){if(!(!e||!e.length))return e[e.length-1]}function ss(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,n)=>i?i(s,t[n]):t[n]===s)}function CL(e,t){return ss(e,t)}function ny(e){return e.sort((t,i)=>t-i)}function vL(e,t){if(e)for(let i=e.length-2;i>=0;i--){let s=e[i]===t,n=e[i+1]===t;s&&n&&e.splice(i+1,1)}}function ug(e,t){let i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function _t(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function oy(e,t){for(let i=0;i<t.length;i++)ug(e,t[i])}function ry(e,t){for(let i=0;i<t.length;i++)_t(e,t[i])}function ia(e,t,i){e.splice(i,0,t)}function wL(e,t,i){if(!(e==null||t==null))for(let s=t.length-1;s>=0;s--){let n=t[s];ia(e,n,i)}}function hg(e,t,i){ry(e,t),t.slice().reverse().forEach(s=>ia(e,s,i))}function bs(e,t){return e.indexOf(t)>-1}function ay(e){return[].concat.apply([],e)}function Hp(e,t){t==null||e==null||t.forEach(i=>e.push(i))}function yL(e,t){if(e!=null)for(let i=e.length-1;i>=0;i--)t(e[i],i)}var pg="__ag_Grid_Stop_Propagation",ly=["touchstart","touchend","touchmove","touchcancel","scroll"],kc={};function un(e){e[pg]=!0}function es(e){return e[pg]===!0}var gg=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof kc[i]=="boolean")return kc[i];let s=document.createElement(e[i]||"div");return i="on"+i,kc[i]=i in s}})();function Jc(e,t,i){let s=t;for(;s;){let n=e.getDomData(s,i);if(n)return n;s=s.parentElement}return null}function cy(e,t){return!t||!e?!1:uy(t).indexOf(e)>=0}function dy(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function uy(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():dy(t)}function hy(e,t,i,s){let o=bs(ly,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,o)}var P=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t){this.localEventService||(this.localEventService=new gn),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let s in t){let n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?hy(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);let s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);let i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}let o={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(o)};e.forEach(n=>this.setupGridOptionListener(n,s))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},md=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,s))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}};function Es(e){return e==null||e===""?null:e}function G(e,t=!1){return e!=null&&(e!==""||t)}function xe(e){return!G(e)}function Lt(e){return e==null||e.length===0}function ed(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Fs(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;let t=parseInt(e,10);return isNaN(t)?void 0:t}function td(e){if(e!==void 0)return e===null||e===""?!1:id(e)}function id(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function sd(e,t){let i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function py(e,t,i=!1){let s=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function o(r,a){return r>a?1:r<a?-1:0}if(typeof e!="string"||!i)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}function Zr(e){if(e instanceof Set||e instanceof Map){let t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}var Cd=new Set(["__proto__","constructor","prototype"]);function oi(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let[i,s]of Object.entries(e))t(i,s)}}function gy(e){let t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(Cd.has(i[s]))continue;let n=i[s],o=e[n];t[n]=o}return t}function nd(e,t){if(!e)return;let i=e,s={};return Object.keys(i).forEach(n=>{if(t&&t.indexOf(n)>=0||Cd.has(n))return;let o=i[n];od(o)&&o.constructor===Object?s[n]=nd(o):s[n]=o}),s}function Ts(e){if(!e)return[];let t=Object;if(typeof t.values=="function")return t.values(e);let i=[];for(let s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function Kt(e,t,i=!0,s=!1){G(t)&&oi(t,(n,o)=>{if(Cd.has(n))return;let r=e[n];r!==o&&(s&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[n]=r),od(o)&&od(r)&&!Array.isArray(r)?Kt(r,o,i,s):(i||o!==void 0)&&(e[n]=o))})}function Do(e,t,i){if(!t||!e)return;if(!i)return e[t];let s=t.split("."),n=e;for(let o=0;o<s.length;o++){if(n==null)return;n=n[s[o]]}return n}function od(e){return typeof e=="object"&&e!==null}var fy={resizable:!0,sortable:!0},my=0;function fg(){return my++}function is(e){return e instanceof Cg}var mg=20,Cg=class extends P{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=fg(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new gn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);let t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);let s=e.hide,n=e.initialHide;s!==void 0?this.visible=!s:this.visible=!n,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let o=e.flex,r=e.initialFlex;o!==void 0?this.flex=o:r!==void 0&&(this.flex=r)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=G(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=G(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??mg,this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=G(this.colDef.tooltipField)||G(this.colDef.tooltipValueGetter)||G(this.colDef.tooltipComponent)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=Fs(e.width),s=Fs(e.initialWidth);return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(xe(this.colDef)||xe(this.colDef.showRowGroup))return!1;let t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new md(this.frameworkOverrides));let i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){return e.group&&!this.gos.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??fy[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return xe(this.sort)}isSorting(){return G(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));let s=this.createColumnEvent("filterChanged",t);i&&Kt(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){let e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(xe(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(xe(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ct(e){return e instanceof Jr}var Jr=class extends P{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=fg(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{is(t)?e.push(t):Ct(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1,s=this.findChildrenRemovingPadding();for(let o=0,r=s.length;o<r;o++){let a=s[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}let n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=i=>{i.forEach(s=>{Ct(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Cy={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Wp={};function vd(e,t){Wp[t]||(e(),Wp[t]=!0)}function Pi(e,...t){console.log("AG Grid: "+e,...t)}function L(e,...t){vd(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function ke(e,...t){vd(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function wd(e){return!!(e&&e.constructor&&e.call&&e.apply)}function vy(e){wy(e,400)}var Nc=[],Vc=!1;function zp(e){Nc.push(e),!Vc&&(Vc=!0,window.setTimeout(()=>{let t=Nc.slice();Nc.length=0,Vc=!1,t.forEach(i=>i())},0))}function wy(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function Ot(e,t){let i;return function(...s){let n=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,s)},t)}}function Up(e,t){let i=0;return function(...s){let n=this,o=new Date().getTime();o-i<t||(i=o,e.apply(n,s))}}function yy(e,t,i=100,s){let n=new Date().getTime(),o=null,r=!1,a=()=>{let l=new Date().getTime()-n>i;(e()||l)&&(t(),r=!0,o!=null&&(window.clearInterval(o),o=null),l&&s&&L(s))};a(),r||(o=window.setInterval(a,10))}function SL(...e){return t=>e.reduce((i,s)=>s(i),t)}var Sy=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=ed(e);let i=0;for(;;){let s;if(e?(s=e,i!==0&&(s+="_"+i)):t?(s=t,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},ua="ag-Grid-AutoColumn";function yd(e){let t=[],i=s=>{for(let n=0;n<s.length;n++){let o=s[n];is(o)?t.push(o):Ct(o)&&i(o.getChildren())}};return i(e),t}function Ii(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function an(e,t,i){let s={};if(!t)return;_i(null,t,o=>{s[o.getInstanceId()]=o}),i&&_i(null,i,o=>{s[o.getInstanceId()]=null});let n=Object.values(s).filter(o=>o!=null);e.destroyBeans(n)}function jp(e){return e.getId().startsWith(ua)}function ea(e){let t=[];return e instanceof Array?e.some(s=>typeof s!="string")?L("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):L("colDef.type should be of type 'string' | 'string[]'"),t}var xy=class extends P{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){let n=new Sy,{existingCols:o,existingGroups:r,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);let l=this.recursivelyCreateColumns(e,0,t,o,n,r,s),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,n);return _i(null,d,(h,p)=>{Ct(h)&&h.setupExpandable(),h.setOriginalParent(p)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){let t=[],i=[],s=[];return e&&_i(null,e,n=>{if(Ct(n)){let o=n;i.push(o)}else{let o=n;s.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}createForAutoGroups(e,t){let i=[],s=this.findDepth(t);return e.forEach(n=>{let o=n;for(let r=s-1;r>=0;r--){let a=new Jr(null,`FAKE_PATH_${n.getId()}}_${r}`,!0,r);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}s===0&&n.setOriginalParent(null),i.push(o)}),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Ct(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){let n=[];for(let o=0;o<e.length;o++){let r=e[o];if(Ct(r)){let a=r,l=this.balanceColumnTree(a.getChildren(),t+1,i,s);a.setChildren(l),n.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){let d=s.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),h=new Jr(u,d,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(n.push(a),e.some(d=>Ct(d))){l.setChildren([r]);continue}else{l.setChildren(e);break}n.push(r)}}return n}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){let n=e[s];if(Ct(n)){let o=n,r=this.findMaxDept(o.getChildren(),t+1);i<r&&(i=r)}}return i}recursivelyCreateColumns(e,t,i,s,n,o,r){if(!e)return[];let a=new Array(e.length);for(let l=0;l<a.length;l++){let c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,s,n,o,r):a[l]=this.createColumn(i,c,s,n,r)}return a}createColumnGroup(e,t,i,s,n,o,r){let a=this.createMergedColGroupDef(t),l=n.getUniqueKey(a.groupId||null,null),c=new Jr(a,l,!1,i);this.createBean(c);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let h=this.recursivelyCreateColumns(a.children,i+1,e,s,n,o,r);return c.setChildren(h),c}createMergedColGroupDef(e){let t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,n){let o=this.findExistingColumn(t,i);o&&i?.splice(o.idx,1);let r=o?.column;if(r){let a=this.addColumnDefaultAndTypes(t,r.getColId());r.setColDef(a,t,n),this.applyColumnState(r,a,n)}else{let a=s.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);r=new Cg(l,t,a,e),this.createBean(r)}return this.dataTypeService?.addColumnListeners(r),r}applyColumnState(e,t,i){let s=Fs(t.flex);if(s!==void 0&&e.setFlex(s),e.getFlex()<=0){let a=Fs(t.width);if(a!=null)e.setActualWidth(a,i);else{let l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));let o=Fs(t.sortIndex);o!==void 0&&e.setSortIndex(o);let r=td(t.hide);r!==void 0&&e.setVisible(!r,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){let s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){let n=t[s];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:s,group:n}}}addColumnDefaultAndTypes(e,t){let i={},s=this.gos.get("defaultColDef");Kt(i,s,!1,!0);let n=this.updateColDefAndGetColumnType(i,e,t);n&&this.assignColumnTypes(n,i),Kt(i,e,!1,!0);let o=this.gos.get("autoGroupColumnDef"),r=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&r&&Kt(i,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){let s=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),n=t.type??s??e.type;return e.type=n,n?ea(n):void 0}assignColumnTypes(e,t){if(!e.length)return;let i=Object.assign({},Cy),s=this.gos.get("columnTypes")||{};oi(s,(n,o)=>{n in i?L(`the column type '${n}' is a default column type and cannot be overridden.`):(o.type&&L("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[n]=o)}),e.forEach(n=>{let o=i[n.trim()];o?Kt(t,o,!1,!0):L("colDef.type '"+n+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function _i(e,t,i){if(t)for(let s=0;s<t.length;s++){let n=t[s];Ct(n)&&_i(n,n.getChildren(),i),i(n,e)}}var by=class extends P{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){let e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(ln(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(ln(t.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(ln(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),ln(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e,t){let i=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();let s=this.colDefCols&&this.colDefCols.list,n=this.colDefCols&&this.colDefCols.tree,o=this.columnFactory.createColumnTree(this.colDefs,!0,n,t);an(this.context,this.colDefCols?.tree,o.columnTree);let r=o.columnTree,a=o.treeDept,l=yd(r),c={};l.forEach(u=>c[u.getId()]=u),this.colDefCols={tree:r,treeDepth:a,list:l,map:c},this.funcColsService.extractCols(t,s),this.ready=!0,this.refreshCols(),e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),t==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){if(!this.colDefCols)return;let e=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!ss(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){let e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){let{map:t,list:i,tree:s,treeDepth:n}=e;this.cols={list:i.slice(),map:R({},t),tree:s.slice(),treeDepth:n},e.list.some(r=>this.cols?.map[r.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{let{map:t,list:i,tree:s,treeDepth:n}=this.colDefCols;this.cols={list:i.slice(),map:R({},t),tree:s.slice(),treeDepth:n}}}getColsToShow(){let e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{let n=jp(s);if(e){let o=t&&bs(t,s);return n||o}else return n||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Ey(this.cols))}createAutoCols(){let e=this.gos.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),n=!(i.length>0||this.gos.get("treeData"))||t||e,o=()=>{this.autoCols&&(an(this.context,this.autoCols.tree),this.autoCols=null)};if(n||!this.autoColService){o();return}let r=this.autoColService.createAutoCols(i)??[],a=Fy(r,this.autoCols?.list||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;o();let[u,h]=this.columnFactory.createForAutoGroups(r,this.cols?.tree);this.autoCols={list:r,tree:u,treeDepth:h,map:{}};let p=g=>{if(!g)return null;let v=g.filter(C=>!jp(C));return[...r,...v]};this.lastOrder=p(this.lastOrder),this.lastPivotOrder=p(this.lastPivotOrder)}refreshAll(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Lt(e))return;if(this.gos.isDomLayout("print")){L("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;t===!0||t==="left"?s="left":t==="right"?s="right":s=null;let n=[];e.forEach(o=>{if(!o)return;let r=this.getCol(o);r&&r.getPinned()!==s&&(r.setPinned(s),n.push(r))}),n.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(n,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;Ct(e)?s=e.getId():s=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return _i(null,this.cols?.tree,i=>{Ct(i)&&i.getId()===e&&(t=i)}),t}isColGroupLocked(e){let t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;let s=this.funcColsService.getRowGroupColumns().findIndex(n=>n.getColId()===e.getColId());return t>s}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||L("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){let e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;let t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;let s=new Map(this.cols.list.map(l=>[l,!0])),n=e.filter(l=>s.has(l)),o=new Map(n.map(l=>[l,!0])),r=this.cols.list.filter(l=>!o.has(l)),a=n.slice();r.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}let d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{let v=a.indexOf(g)>=0,C=d.indexOf(g)<0;v&&C&&d.push(g)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}let u=d.map(p=>a.indexOf(p)),h=Math.max(...u);ia(a,l,h+1)}),this.cols.list=a}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;let e=this.colDefCols.list.filter(i=>this.cols.list.indexOf(i)>=0),t=this.cols.list.filter(i=>e.indexOf(i)<0);this.cols.list=[...t,...e],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(e){if(this.cols==null)return;let t=[],i={};e.forEach(n=>{if(i[n])return;let o=this.cols.map[n];o&&(t.push(o),i[n]=!0)});let s=0;if(this.cols.list.forEach(n=>{let o=n.getColId();if(i[o]!=null)return;o.startsWith(ua)?ia(t,n,s++):t.push(n)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){L("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,s)=>{let n=this.cols.list.indexOf(i),o=this.cols.list.indexOf(s);return n-o})}resetColDefIntoCol(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){hg(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;let e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((s,n)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(n)):this.lastOrder&&e.sort((s,n)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(n));let t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(L("Pivot mode not available with treeData."),!1):!0}isPivotActive(){let e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Lt(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}setColumnDefs(e,t){let i=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(i,t)}destroy(){an(this.context,this.colDefCols?.tree),an(this.context,this.autoCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){let t=this.pivotResultColsService.getPivotResultCols()?.list;return[].concat(this.colDefCols?.list||[],this.autoCols?.list||[],t||[])}getColsForKeys(e){return e?e.map(i=>this.getCol(i)).filter(i=>i!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;let{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let n=0;n<s.length;n++)if($p(s[n],e))return s[n];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols==null?null:this.autoCols.list.find(t=>$p(t,e))||null}getAutoCols(){return this.autoCols?.list||null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&this.eventDispatcher.headerHeight(e)}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){let e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}};function ln(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Ey(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function $p(e,t){let i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}function Fy(e,t){return ss(e,t,(i,s)=>i.getColId()===s.getColId())}var Ry=class extends P{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:n,source:o="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;let r=[],a=-1,l=i??this.gos.get("skipHeaderOnAutoSize"),c=s??l;for(;a!==0;){a=0;let d=[];t.forEach(u=>{if(!u)return;let h=this.columnModel.getCol(u);if(!h||r.indexOf(h)>=0)return;let p=this.autoWidthCalculator.getPreferredWidthForColumn(h,l);if(p>0){let g=this.normaliseColumnWidth(h,p);h.setActualWidth(g,o),r.push(h),a++}d.push(h)}),d.length&&this.visibleColsService.refresh(o)}c||this.autoSizeColumnGroupsByColumns(t,o,n),this.eventDispatcher.columnResized(r,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){let s=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let o,r=[];for(let a of s){for(let l of this.ctrlsService.getHeaderRowContainerCtrls())if(o=l.getHeaderCtrlForColumn(a),o)break;o&&o.resizeLeafColumnsToFit(t)}return r}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}let i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){let i=e.getMinWidth();t<i&&(t=i);let s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},Dy=class extends P{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>_t(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>_t(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>_t(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){let t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);let i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Lt(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;let s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){let s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;let s=this.rowGroupCols[e],n=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(n,i)}setColList(e,t,i,s,n,o,r){let a=this.columnModel.getCols();if(Lt(a))return;let l=new Map;t.forEach((d,u)=>l.set(d,u)),t.length=0,G(e)&&e.forEach(d=>{let u=this.columnModel.getColDefCol(d);u&&t.push(u)}),t.forEach((d,u)=>{let h=l.get(d);if(h===void 0){l.set(d,0);return}s&&h!==u||l.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{let u=t.indexOf(d)>=0;o(u,d)}),n&&this.columnModel.refreshCols(),this.visibleColsService.refresh(r),this.eventDispatcher.columnChanged(i,[...l.keys()],r)}updateColList(e,t,i,s,n,o,r){if(!e||Lt(e))return;let a=!1;e.forEach(l=>{if(!l)return;let c=this.columnModel.getColDefCol(l);if(c){if(i){if(t.indexOf(c)>=0)return;t.push(c)}else{if(t.indexOf(c)<0)return;_t(t,c)}n(c),a=!0}}),a&&(s&&this.columnModel.refreshCols(),this.visibleColsService.refresh(r),this.eventDispatcher.genericColumnEvent(o,t,r))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{let s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{let s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,s,n,o,r){let a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(h=>{let p=e.indexOf(h)<0,g=h.getColDef(),v=td(o(g)),C=td(r(g)),f=Fs(s(g)),m=Fs(n(g)),w;v!==void 0?w=v:f!==void 0?f===null?w=!1:w=f>=0:p?C!==void 0?w=C:m!==void 0?w=m!=null&&m>=0:w=!1:w=t.indexOf(h)>=0,w&&((p?f!=null||m!=null:f!=null)?a.push(h):l.push(h))});let d=h=>{let p=s(h.getColDef()),g=n(h.getColDef());return p??g};a.sort((h,p)=>{let g=d(h),v=d(p);return g===v?0:g<v?-1:1});let u=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&u.push(h)}),l.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},s=(n,o,r,a,l,c)=>{let d=this.columnModel.getColDefCols();if(!o.length||!d)return[];let u=Object.keys(n),h=new Set(u),p=new Set(u),g=new Set(o.map(S=>{let D=S.getColId();return p.delete(D),D}).concat(u)),v=[],C={},f=0;for(let S=0;S<d.length;S++){let D=d[S].getColId();g.has(D)&&(v.push(D),C[D]=f++)}let m=1e3,w=!1,y=0,E=S=>{let D=C[S];for(let T=y;T<D;T++){let _=v[T];p.has(_)&&(n[_][l]=m++,p.delete(_))}y=D};o.forEach(S=>{let D=S.getColId();if(h.has(D))E(D),n[D][l]=m++;else{let T=S.getColDef();(T[l]===null||T[l]===void 0&&T[c]==null)&&(w||(T[r]||T[r]===void 0&&T[a]?E(D):(p.forEach(M=>{n[M][l]=m+C[M]}),m+=v.length,w=!0)),i[D]||(i[D]={colId:D}),i[D][l]=m++)}})};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},Ty=class extends P{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){let i=this.columnModel.getColDefCols()||[];if(Lt(i))return!1;if(e&&e.state&&!e.state.forEach)return L("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),n=(a,l,c)=>{let d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),h={},p={},g=[],v=[],C=0,f=this.funcColsService.getRowGroupColumns().slice(),m=this.funcColsService.getPivotColumns().slice();a.forEach(S=>{let D=S.colId||"";if(D.startsWith(ua)){g.push(S),v.push(S);return}let _=c(D);_?(this.syncColumnWithStateItem(_,S,e.defaultState,h,p,!1,t,s),_t(u,_)):(v.push(S),C+=1)});let w=S=>this.syncColumnWithStateItem(S,null,e.defaultState,h,p,!1,t,s);u.forEach(w),this.funcColsService.sortRowGroupColumns(Kp.bind(this,h,f)),this.funcColsService.sortPivotColumns(Kp.bind(this,p,m)),this.columnModel.refreshCols();let E=(this.columnModel.getAutoCols()||[]).slice();return g.forEach(S=>{let D=this.columnModel.getAutoCol(S.colId);_t(E,D),this.syncColumnWithStateItem(D,S,e.defaultState,null,null,!0,t,s)}),E.forEach(w),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:v,unmatchedCount:C}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:r}=n(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(o.length>0||G(e.defaultState)){let l=this.pivotResultColsService.getPivotResultCols()?.list;r=n(o,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),r===0}resetColumnState(e){let t=this.columnModel.getColDefCols();if(Lt(t))return;let i=this.columnModel.getColDefColTree(),s=yd(i),n=[],o=1e3,r=1e3,a=[],l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),s&&(a=a.concat(s)),a.forEach(c=>{let d=this.getColumnStateFromColDef(c);xe(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=o++),xe(d.pivotIndex)&&d.pivot&&(d.pivotIndex=r++),n.push(d)}),this.applyColumnState({state:n,applyOrder:!0},e)}getColumnStateFromColDef(e){let t=(g,v)=>g??v??null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),o=t(i.hide,i.initialHide),r=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex),c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:o,pinned:r,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:p}}syncColumnWithStateItem(e,t,i,s,n,o,r,a){if(!e)return;let l=(y,E)=>{let S={value1:void 0,value2:void 0},D=!1;return t&&(t[y]!==void 0&&(S.value1=t[y],D=!0),G(E)&&t[E]!==void 0&&(S.value2=t[E],D=!0)),!D&&i&&(i[y]!==void 0&&(S.value1=i[y]),G(E)&&i[E]!==void 0&&(S.value2=i[E])),S},c=l("hide").value1;c!==void 0&&e.setVisible(!c,r);let d=l("pinned").value1;d!==void 0&&e.setPinned(d);let u=e.getColDef().minWidth??mg,h=l("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){let y=l("width").value1;y!=null&&u!=null&&y>=u&&e.setActualWidth(y,r)}let p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,r):e.setSort(void 0,r));let g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),o||!e.isPrimary())return;let v=l("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,r),a.addValueCol(e))):(G(v)&&L("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,r),a.removeValueCol(e))));let{value1:C,value2:f}=l("rowGroup","rowGroupIndex");(C!==void 0||f!==void 0)&&(typeof f=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,r),a.addGroupCol(e)),s&&typeof f=="number"&&(s[e.getId()]=f)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,r),a.removeGroupCol(e)));let{value1:m,value2:w}=l("pivot","pivotIndex");(m!==void 0||w!==void 0)&&(typeof w=="number"||m?(e.isPivotActive()||(e.setPivotActive(!0,r),a.addPivotCol(e)),n&&typeof w=="number"&&(n[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,r),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;let t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){let t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(n=>{s[n.colId]=n}),()=>{let n=this.columnModel.getAllCols(),o=(v,C,f,m)=>{let w=C.map(m),y=f.map(m);if(ss(w,y))return;let S=new Set(C);f.forEach(_=>{S.delete(_)||S.add(_)});let D=[...S],T={type:v,columns:D,column:D.length===1?D[0]:null,source:e};this.eventService.dispatchEvent(T)},r=v=>{let C=[];return n.forEach(f=>{let m=s[f.getColId()];m&&v(m,f)&&C.push(f)}),C},a=v=>v.getColId();o("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),o("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);let c=r((v,C)=>{let f=v.aggFunc!=null,m=f!=C.isValueActive(),w=f&&v.aggFunc!=C.getAggFunc();return m||w});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);let d=(v,C)=>v.width!=C.getActualWidth();this.eventDispatcher.columnResized(r(d),!0,e);let u=(v,C)=>v.pinned!=C.getPinned();this.eventDispatcher.columnPinned(r(u),e);let h=(v,C)=>v.hide==C.isVisible();this.eventDispatcher.columnVisible(r(h),e);let g=r((v,C)=>v.sort!=C.getSort()||v.sortIndex!=C.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(e,g),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){let i=this.columnGetStateService.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);let n={};e.forEach(l=>{s[l.colId]&&(n[l.colId]=!0)});let o=e.filter(l=>n[l.colId]),r=i.filter(l=>n[l.colId]),a=[];r.forEach((l,c)=>{let d=o&&o[c];if(d&&d.colId!==l.colId){let u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},Kp=(e,t,i,s)=>{let n=e[i.getId()],o=e[s.getId()],r=n!=null,a=o!=null;if(r&&a)return n-o;if(r)return-1;if(a)return 1;let l=t.indexOf(i),c=t.indexOf(s),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},Ay=class extends P{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){let s=this.columnModel.getCols();if(!s)return;let n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i,s=!0){let n=this.columnModel.getCols();if(!n)return;if(this.columnAnimationService.start(),t>n.length-e.length){L("tried to insert columns in invalid location, toIndex = ",t),L("remember that you should not count the moving columns when calculating the new index");return}let o=this.columnModel.getColsForKeys(e);this.doesMovePassRules(o,t)&&(this.columnModel.moveInCols(o,t,i),this.eventDispatcher.columnMoved({movedColumns:o,source:i,toIndex:t,finished:s}),this.columnAnimationService.finish())}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){let s=this.columnModel.getCols().slice();return hg(s,e,t),s}doesMovePassLockedPositions(e){let t=o=>o?o==="left"||o===!0?-1:1:0,i=this.gos.get("enableRtl"),s=i?1:-1,n=!0;return e.forEach(o=>{let r=t(o.getColDef().lockPosition);i?r>s&&(n=!1):r<s&&(n=!1),s=r}),n}doesMovePassMarryChildren(e){let t=!0,i=this.columnModel.getColTree();return _i(null,i,s=>{if(!Ct(s))return;let n=s,o=n.getColGroupDef();if(!(o&&o.marryChildren))return;let a=[];n.getLeafColumns().forEach(h=>{let p=e.indexOf(h);a.push(p)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=n.getLeafColumns().length-1;d>u&&(t=!1)}),t}placeLockedColumns(e){let t=[],i=[],s=[];return e.forEach(o=>{let r=o.getColDef().lockPosition;r==="right"?s.push(o):r==="left"||r===!0?t.push(o):i.push(o)}),this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},Iy=/[&<>"']/g,Py={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xL(e){let t=String.fromCharCode;function i(u){let h=[];if(!u)return[];let p=u.length,g=0,v,C;for(;g<p;)v=u.charCodeAt(g++),v>=55296&&v<=56319&&g<p?(C=u.charCodeAt(g++),(C&64512)==56320?h.push(((v&1023)<<10)+(C&1023)+65536):(h.push(v),g--)):h.push(v);return h}function s(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}function n(u,h){return t(u>>h&63|128)}function o(u){if(!(u&4294967168))return t(u);let h="";return u&4294965248?u&4294901760?u&4292870144||(h=t(u>>18&7|240),h+=n(u,12),h+=n(u,6)):(s(u),h=t(u>>12&15|224),h+=n(u,6)):h=t(u>>6&31|192),h+=t(u&63|128),h}let r=i(e),a=r.length,l=-1,c,d="";for(;++l<a;)c=r[l],d+=o(c);return d}function wi(e,t){if(e==null)return null;let i=e.toString().toString();return t?i:i.replace(Iy,s=>Py[s])}function My(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function _y(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var Ly=class extends P{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){let s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){let o=e.headerValueGetter;if(o){let r=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return typeof o=="function"?o(r):typeof o=="string"?this.expressionService.evaluate(o,r):(L("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return My(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;let i=e.getColDef().pivotValueColumn,s=G(i),n=null,o;if(s){let r=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&r.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;n=i?i.getAggFunc():null,o=!0}else{let r=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();r&&a?(n=e.getAggFunc(),o=!0):o=!1}if(o){let r=typeof n=="string"?n:"func";return`${this.localeService.getLocaleTextFunc()(r,r)}(${t})`}return t}},Oy=class extends P{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){an(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;let i=this.columnModel.getColDefCol(t),s=null;return this.pivotResultCols.list.forEach(n=>{let o=n.getColDef().pivotKeys,r=n.getColDef().pivotValueColumn;ss(o,e)&&r===i&&(s=n)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);let i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);an(this.context,this.pivotResultCols?.tree,i.columnTree);let s=i.columnTree,n=i.treeDept,o=yd(s),r={};this.pivotResultCols={tree:s,treeDepth:n,list:o,map:r},this.pivotResultCols.list.forEach(a=>this.pivotResultCols.map[a.getId()]=a),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}processPivotResultColDef(e){let t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;let s=n=>{n.forEach(o=>{if(G(o.children)){let a=o;i&&i(a),s(a.children)}else t&&t(o)})};e&&s(e)}},By=class extends P{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){let n=[];e.forEach(o=>{let r=this.columnModel.getColDefCol(o.key)||this.columnModel.getCol(o.key);if(!r)return;if(n.push({width:o.newWidth,ratios:[1],columns:[r]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){let l=this.visibleColsService.getColAfter(r);if(!l)return;let c=r.getActualWidth()-o.newWidth,d=l.getActualWidth()+c;n.push({width:d,ratios:[1],columns:[l]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){let{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(i){let d=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(d,i,s)}return}let o=[],r=[];t.forEach(d=>{let{width:u,columns:h,ratios:p}=d,g={},v={};h.forEach(m=>r.push(m));let C=!0,f=0;for(;C;){if(f++,f>1e3){ke("infinite loop in resizeColumnSets");break}C=!1;let m=[],w=0,y=u;h.forEach((S,D)=>{if(v[S.getId()])y-=g[S.getId()];else{m.push(S);let _=p[D];w+=_}});let E=1/w;m.forEach((S,D)=>{let T=D===m.length-1,_;T?_=y:(_=Math.round(p[D]*u*E),y-=_);let Q=S.getMinWidth(),M=S.getMaxWidth();_<Q?(_=Q,v[S.getId()]=!0,C=!0):M>0&&_>M&&(_=M,v[S.getId()]=!0,C=!0),g[S.getId()]=_})}h.forEach(m=>{let w=g[m.getId()];m.getActualWidth()!==w&&(m.setActualWidth(w,s),o.push(m))})});let a=o.length>0,l=[];a&&(l=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());let c=r.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,s,l)}checkMinAndMaxWidthsForSet(e){let{columns:t,width:i}=e,s=0,n=0,o=!0;t.forEach(l=>{let c=l.getMinWidth();s+=c||0;let d=l.getMaxWidth();d>0?n+=d:o=!1});let r=i>=s,a=!o||i<=n;return r&&a}refreshFlexedColumns(e={}){let t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=this.visibleColsService.getCenterCols(),s=-1;if(e.resizingCols){let h=new Set(e.resizingCols);for(let p=i.length-1;p>=0;p--)if(h.has(i[p])){s=p;break}}let n=0,o=[],r=0,a=0;for(let h=0;h<i.length;h++)i[h].getFlex()&&h>s?(o.push(i[h]),a+=i[h].getFlex(),r+=i[h].getMinWidth()):n+=i[h].getActualWidth();if(!o.length)return[];let l=[];n+r>this.flexViewportWidth&&(o.forEach(h=>h.setActualWidth(h.getMinWidth(),t)),l=o,o=[]);let c=[],d;e:for(;;){d=this.flexViewportWidth-n;let h=d/a;for(let p=0;p<o.length;p++){let g=o[p],v=h*g.getFlex(),C=0,f=g.getMinWidth(),m=g.getMaxWidth();if(v<f?C=f:v>m&&(C=m),C){g.setActualWidth(C,t),ug(o,g),a-=g.getFlex(),l.push(g),n+=g.getActualWidth();continue e}c[p]=Math.round(v)}break}let u=d;return o.forEach((h,p)=>{h.setActualWidth(Math.min(c[p],u),t),l.push(h),u-=c[p]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,o),o}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}let n={};s&&s?.columnLimits?.forEach(g=>{var v=g,{key:h}=v,p=wl(v,["key"]);n[typeof h=="string"?h:h.getColId()]=p});let o=this.visibleColsService.getAllCols(),r=e===Ii(o);if(e<=0||!o.length||r)return;let a=[],l=[];o.forEach(h=>{h.getColDef().suppressSizeToFit===!0?l.push(h):a.push(h)});let c=a.slice(0),d=!1,u=h=>{_t(a,h),l.push(h)};for(a.forEach(h=>{h.resetActualWidth(t);let p=n?.[h.getId()],g=p?.minWidth??s?.defaultMinWidth,v=p?.maxWidth??s?.defaultMaxWidth,C=h.getActualWidth();typeof g=="number"&&C<g?h.setActualWidth(g,t,!0):typeof v=="number"&&C>v&&h.setActualWidth(v,t,!0)});!d;){d=!0;let h=e-Ii(l);if(h<=0)a.forEach(p=>{let g=n?.[p.getId()]?.minWidth??s?.defaultMinWidth;if(typeof g=="number"){p.setActualWidth(g,t,!0);return}p.setMinimum(t)});else{let p=h/Ii(a),g=h;for(let v=a.length-1;v>=0;v--){let C=a[v],f=n?.[C.getId()],m=f?.minWidth??s?.defaultMinWidth,w=f?.maxWidth??s?.defaultMaxWidth,y=C.getMinWidth(),E=C.getMaxWidth(),S=typeof m=="number"&&m>y?m:y,D=typeof w=="number"&&w<E?w:E,T=Math.round(C.getActualWidth()*p);T<S?(T=S,u(C),d=!1):T>D?(T=D,u(C),d=!1):v===0&&(T=g),C.setActualWidth(T,t,!0),g-=T}}}c.forEach(h=>{h.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:n}=e,o=i?.map(({colId:r,minWidth:a,maxWidth:l})=>({key:r,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:n,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function vg(e,t){return e+"_"+t}function Qe(e){return e instanceof wg}var wg=class extends P{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return vg(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Qe(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=we(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{is(t)?e.push(t):Qe(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{is(t)?e.push(t):Qe(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(Qe(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},ky=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},Ny=class extends P{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Gc(this.treeLeft),this.columnsCenter=Gc(this.treeCenter),this.columnsRight=Gc(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}updateBodyWidths(){let e=Ii(this.columnsCenter),t=Ii(this.columnsLeft),i=Ii(this.columnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;let n={type:"columnContainerWidthChanged"};this.eventService.dispatchEvent(n);let o={type:"displayedColumnsWidthChanged"};this.eventService.dispatchEvent(o)}}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?we(this.columnsRight):null):(t=this.columnsLeft?we(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}buildTrees(){let e=this.columnModel.getColsToShow(),t=e.filter(o=>o.getPinned()=="left"),i=e.filter(o=>o.getPinned()=="right"),s=e.filter(o=>o.getPinned()!="left"&&o.getPinned()!="right"),n=new ky;this.treeLeft=this.createGroups({columns:t,idCreator:n,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:n,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:n,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){let e=this.columnModel.getCols(),t=[],i=[],s=[];for(let n of e){let o=n.getPinned();o?o===!0||o==="left"?t.push(n):s.push(n):i.push(n)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return Qe(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Qe(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;let i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(n=>{if(s){let o=Ii(n);n.forEach(r=>{o-=r.getActualWidth(),r.setLeft(o,e)})}else{let o=0;n.forEach(r=>{r.setLeft(o,e),o+=r.getActualWidth()})}oy(i,n)}),i.forEach(n=>{n.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){let n=[],o=null;for(let r=0;r<t.length;r++){let a=t[r],l=t.length-r,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let h=c-1;for(let p=1;p<=h;p++)d.push(t[r+p]);r+=h}let u;i?(u=!1,d.forEach(h=>{i(h)&&(u=!0)})):u=!0,u&&(n.length===0&&o&&(s&&s(a))&&n.push(o),n.push(a)),o=a}return n}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){let t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n=t==="After"?we(s):s[0],o=`getCol${t}`;for(;;){let r=this[o](n);if(!r)return null;let a=this.getColGroupAtLevel(r,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),s,n;for(;s=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(s+n<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ss(this.treeCenter,!1,e),Ss(this.treeLeft,!1,e),Ss(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){let e=this.getAllTrees();Ss(e,!1,t=>{Qe(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){let s=this[t[i]]();if(s.length)return e?we(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Qe(e))return e;let i=this.getAllTrees(),s=typeof t=="number",n=null;return Ss(i,!1,o=>{if(Qe(o)){let r=o,a;s?a=e===r.getGroupId()&&t===r.getPartId():a=e===r.getGroupId(),a&&(n=r)}}),n}getColAfter(e){let t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Ii(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ii(this.columnsRight)}isColAtEdge(e,t){let i=this.getAllCols();if(!i.length)return!1;let s=t==="first",n;if(Qe(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;n=s?o[0]:we(o)}else n=e;return(s?i[0]:we(i))===n}createGroups(e){let{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(n),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,u=h=>{let p=d;d=h;let g=c[p],C=(Qe(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(C==null){for(let m=p;m<h;m++)a.push(c[m]);return}let f=this.createColGroup(C,i,r,s,o);for(let m=p;m<h;m++)f.addChild(c[m]);l.push(f)};for(let h=1;h<c.length;h++){let p=c[h],v=(Qe(p)?p.getProvidedColumnGroup():p).getOriginalParent(),C=c[d],m=(Qe(C)?C.getProvidedColumnGroup():C).getOriginalParent();v!==m&&u(h)}d<c.length&&u(c.length)}return o||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,s,n){let o=e.getGroupId(),r=t.getInstanceIdForKey(o),a=vg(o,r),l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),G(l)?l.reset():(l=new wg(e,o,r,s),n||this.createBean(l)),l}mapOldGroupsById(e){let t={},i=s=>{s.forEach(n=>{if(Qe(n)){let o=n;t[n.getUniqueId()]=o,i(o.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),Qe(i)){let s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function Ss(e,t,i){if(e)for(let s=0;s<e.length;s++){let n=e[s];if(Qe(n)){let o=t?n.getDisplayedChildren():n.getChildren();Ss(o,t,i)}i(n)}}function Gc(e){let t=[];return Ss(e,!0,i=>{is(i)&&t.push(i)}),t}var yg=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],Vy=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged"],Gy=[...yg,...Vy],Hy={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},dt=class{};dt.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];dt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];dt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];dt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];dt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"];dt.OTHER_PROPERTIES=["suppressStickyTotalRow"];dt.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];dt.ALL_PROPERTIES=[...dt.ARRAY_PROPERTIES,...dt.OBJECT_PROPERTIES,...dt.STRING_PROPERTIES,...dt.NUMBER_PROPERTIES,...dt.FUNCTION_PROPERTIES,...dt.BOOLEAN_PROPERTIES,...dt.OTHER_PROPERTIES];var Mo=dt,qt=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};qt.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";qt.PUBLIC_EVENTS=yg;qt.EVENT_CALLBACKS=Gy.map(e=>qt.getCallbackForEvent(e));qt.BOOLEAN_PROPERTIES=Mo.BOOLEAN_PROPERTIES;qt.ALL_PROPERTIES=Mo.ALL_PROPERTIES;qt.ALL_PROPERTIES_AND_CALLBACKS=[...qt.ALL_PROPERTIES,...qt.EVENT_CALLBACKS];qt.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(qt.ALL_PROPERTIES_AND_CALLBACKS);var _o=qt;function FL(e,t){typeof e!="object"&&(e={});let i=R({},e);return _o.ALL_PROPERTIES_AND_CALLBACKS.forEach(n=>{let o=t[n];typeof o<"u"&&o!==_o.VUE_OMITTED_PROPERTY&&(i[n]=o)}),i}function RL(e,t){if(!e)return;let i={},s=!1;if(Object.keys(e).filter(r=>_o.ALL_PROPERTIES_AND_CALLBACKS_SET.has(r)).forEach(r=>{i[r]=e[r],s=!0}),!s)return;let n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);let o={type:"componentStateChanged"};oi(i,(r,a)=>{o[r]=a}),t.dispatchEvent(o)}var Wy=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[e]!==!0&&e.length){let s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[e]!==!1&&e.length){let s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let s=(e||"").split(" ");if(s.length>1){s.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){let s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}};function Qt(e,t,i){i==null||typeof i=="string"&&i==""?Sd(e,t):Xt(e,t,i)}function Xt(e,t,i){e.setAttribute(Sg(t),i.toString())}function Sd(e,t){e.removeAttribute(Sg(t))}function Sg(e){return`aria-${e}`}function bt(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function zy(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function DL(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Uy(e){return e.getAttribute("aria-label")}function hn(e,t){Qt(e,"label",t)}function Lo(e,t){Qt(e,"labelledby",t)}function TL(e,t){Qt(e,"describedby",t)}function xg(e,t){Qt(e,"live",t)}function jy(e,t){Qt(e,"atomic",t)}function $y(e,t){Qt(e,"relevant",t)}function AL(e,t){Qt(e,"level",t)}function Ky(e,t){Qt(e,"disabled",t)}function xd(e,t){Qt(e,"hidden",t)}function IL(e,t){Qt(e,"activedescendant",t)}function sa(e,t){Xt(e,"expanded",t)}function PL(e){Sd(e,"expanded")}function qy(e,t){Xt(e,"setsize",t)}function Yy(e,t){Xt(e,"posinset",t)}function Qy(e,t){Xt(e,"multiselectable",t)}function Xy(e,t){Xt(e,"rowcount",t)}function bg(e,t){Xt(e,"rowindex",t)}function Zy(e,t){Xt(e,"colcount",t)}function Eg(e,t){Xt(e,"colindex",t)}function Jy(e,t){Xt(e,"colspan",t)}function eS(e,t){Xt(e,"sort",t)}function tS(e){Sd(e,"sort")}function na(e,t){Qt(e,"selected",t)}function ML(e,t){Xt(e,"checked",t===void 0?"mixed":t)}function iS(e,t){Qt(e,"controls",t.id),Lo(t,e.id)}function bd(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Hc,Wr,Wc,zc,Uc,jc,rd,ad;function Li(){return Hc===void 0&&(Hc=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Hc}function Fg(){if(Wr===void 0)if(Li()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Wr=e[1]!=null?parseFloat(e[1]):0)}else Wr=0;return Wr}function Ed(){if(Wc===void 0){let e=window;Wc=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Wc}function Rg(){return zc===void 0&&(zc=/(firefox)/i.test(navigator.userAgent)),zc}function Dg(){return Uc===void 0&&(Uc=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Uc}function ns(){return jc===void 0&&(jc=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jc}function ld(){return!Li()||Fg()>=15}function cd(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!Rg())?null:t.toString()}function sS(){if(!document.body)return-1;let e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),e}function nS(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function oS(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function rS(){return ad==null&&Tg(),ad}function Tg(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(ad=i,rd=i===0)}function Ag(){return rd==null&&Tg(),rd}var zr;function _L(e,t,i){let s=e.parentElement,n=s&&s.firstChild;for(;n;)t&&n.classList.toggle(t,n===e),i&&n.classList.toggle(i,n!==e),n=n.nextSibling}var aS="[tabindex], input, select, button, textarea, [href]",Ig="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Fd(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),n=t.call(e,Ig),o=ai(e);return s&&!n&&o}function He(e,t,i={}){let{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||xd(e,!t)}function lS(e,t,i={}){let{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||xd(e,!t)}function Oo(e,t){let i="disabled",s=t?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);s(e),kg(e.querySelectorAll("input"),n=>s(n))}function dn(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function As(e){let{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:o,borderLeftWidth:r,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function Rd(e){let t=As(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Bo(e){let t=As(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function Pg(e){let{height:t,marginBottom:i,marginTop:s}=As(e);return Math.floor(t+i+s)}function oa(e){let{width:t,marginLeft:i,marginRight:s}=As(e);return Math.floor(t+i+s)}function Mg(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:o}=As(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(o||0)}}function ra(){if(typeof zr=="boolean")return zr;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,zr=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),zr}function aa(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),Ed()&&!ra()&&(i=e.scrollWidth-e.clientWidth-i)),i}function la(e,t,i){i&&(ra()?t*=-1:(Li()||Ed())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function ut(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function vi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _g(e){return!!e.offsetParent}function ai(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!_g(e)||window.getComputedStyle(e).visibility!=="visible")}function pn(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Lg(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function Og(e,t){for(let i=0;i<t.length;i++){let s=t[i],n=e.children[i];n!==s&&e.insertBefore(s,n)}}function cS(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function Bg(e,t){if(t)for(let[i,s]of Object.entries(t)){if(!i||!i.length||s==null)continue;let n=_y(i),o=s.toString(),r=o.replace(/\s*!important/g,""),a=r.length!=o.length?"important":void 0;e.style.setProperty(n,r,a)}}function dS(e){return e.clientWidth<e.scrollWidth}function uS(e){return e.clientHeight<e.scrollHeight}function ca(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ri(e,t)}function ri(e,t){t=Dd(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function To(e,t){t=Dd(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Dd(e){return typeof e=="number"?`${e}px`:e}function Td(e){return e instanceof Node||e instanceof HTMLElement}function hS(e){if(e==null)return[];let t=[];return kg(e,i=>t.push(i)),t}function pS(e,t){if(e)for(let i=0;i<e.length;i++){let s=e[i];t(s.name,s.value)}}function Mi(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i.toString())}function kg(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}function LL(e,t){e.then(i=>{let s=i.getGui();s!=null&&(typeof s=="object"?t.appendChild(s):t.innerHTML=s)})}var Ad=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},gS=1e3,fS=1e3,qp=100,mS=(()=>{let e=class ys extends P{constructor(i,s,n,o){super(),this.parentComp=i,this.tooltipShowDelayOverride=s,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=o,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(i){this.popupService=i.popupService,this.userComponentFactory=i.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let i=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(i,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(i,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(i,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(i,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(i){let s=this.gos.get(i);return s<0&&L(`${i} should not be lower than 0`),Math.max(200,s)}getTooltipDelay(i){return i==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let i=this.gos.get("tooltipTrigger");return!i||i==="hover"?0:1}onMouseEnter(i){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ns()&&(ys.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(i)},qp):this.prepareToShowTooltip(i))}onMouseMove(i){this.lastMouseEvent&&(this.lastMouseEvent=i),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(i){let s=i.relatedTarget,n=this.parentComp.getGui(),o=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(s)||this.interactionEnabled&&o?.contains(s)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(i){if(this.state!=0||ys.isLocked)return;let s=0;i&&(s=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=i||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.state=1}isLastTooltipHiddenRecently(){let i=new Date().getTime(),s=ys.lastTooltipHideTime;return i-s<gS}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let i=R({},this.parentComp.getTooltipParams());if(!G(i.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(s)}hideTooltip(i){if(!i&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),ys.lastTooltipHideTime=new Date().getTime());let s={type:"tooltipHide",parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(s),i&&(this.isInteractingWithTooltip=!1),this.state=0}newTooltipComponentCallback(i,s){if(this.state!==2||this.tooltipInstanceCount!==i){this.destroyBean(s);return}let o=s.getGui();this.tooltipComp=s,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");let r=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let c=this.setToDoNothing.bind(this);[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:c,columnMoved:c})}this.interactionEnabled&&(this.tooltipTrigger===0?[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(o,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}):[this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(o,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}));let l={type:"tooltipShow",tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(i){let s=this.parentComp.getGui(),n=this.tooltipComp?.getGui(),o=i.relatedTarget;n?.contains(o)||(this.isInteractingWithTooltip=!1,s.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let i={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(J(R({},i),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(J(R({},i),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let i=this.tooltipPopupDestroyFunc,s=this.tooltipComp,n=this.tooltipTrigger===0?fS:0;window.setTimeout(()=>{i(),this.destroyBean(s)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(i=>{i&&i()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ys.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},qp)}unlockService(){ys.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return e.isLocked=!1,e})(),CS=mS,fn=class extends P{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new CS(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,s=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},vS=new Ad,Y=null,ye=class Ng extends P{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=vS.next(),this.cssClassManager=new Wy(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){let{newTooltipText:i,showDelayOverride:s,hideDelayOverride:n,location:o,shouldDisplayTooltip:r}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);let a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new fn({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>o??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:r})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,s,n=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){let o=this[i];if(o===Y)this[i]=n??t;else{let r=s&&s[i];!this.suppressDataRefValidation&&!r&&L(`Issue with data-ref: ${i} on ${this.constructor.name} with ${o}`)}}}createChildComponentsFromTags(t,i){hS(t.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;let o=this.createComponentFromElement(n,r=>{r.getGui()&&this.copyAttributesFromNode(n,r.getGui())},i);if(o){if(o.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);let r=Array.prototype.slice.call(n.children);o.addItems(r)}this.swapComponentForNode(o,t,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(t,i,s){let n=t.nodeName,o=this.getDataRefAttribute(t),r=n.indexOf("AG-")===0,a=r?this.componentSelectors.get(n):null,l=null;if(a){Ng.elementGettingCreated=t;let c=s&&o?s[o]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else r&&L(`Missing selector: ${n}`);return this.applyElementsToComponent(t,o,s,l),l}copyAttributesFromNode(t,i){pS(t.attributes,(s,n)=>i.setAttribute(s,n))}swapComponentForNode(t,i,s){let n=t.getGui();i.replaceChild(n,s),i.insertBefore(document.createComment(s.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){let i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i,s){let n=pn(t);this.setTemplateFromElement(n,i,s)}setTemplateFromElement(t,i,s,n=!1){if(this.eGui=t,this.suppressDataRefValidation=n,i)for(let o=0;o<i.length;o++){let r=i[o];this.componentSelectors.set(r.selector,r)}this.wireTemplate(t,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let s=i;return t==null?null:(s||(s=this.eGui),Td(t)?{element:t,parent:s}:{element:t.getGui(),parent:s})}prependChild(t,i){let{element:s,parent:n}=this.getContainerAndElement(t,i)||{};!s||!n||n.insertAdjacentElement("afterbegin",s)}appendChild(t,i){let{element:s,parent:n}=this.getContainerAndElement(t,i)||{};!s||!n||n.appendChild(s)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;let{skipAriaHidden:s}=i;lS(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;let{skipAriaHidden:s}=i;He(this.eGui,t,{skipAriaHidden:s});let n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},wS={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"};function Ti(e,t,i){let s=Bt(e,t,i);if(s){let{className:o}=s;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return s}let n=document.createElement("span");return n.appendChild(s),n}function Bt(e,t,i,s){let n=null,o=i&&i.getColDef().icons;if(o&&(n=o[e]),t&&!n){let r=t.get("icons");r&&(n=r[e])}if(n){let r;if(typeof n=="function")r=n();else if(typeof n=="string")r=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof r=="string")return pn(r);if(Td(r))return r;L("iconRenderer should return back a string or a dom object")}else{let r=document.createElement("span"),a=wS[e];return a||(s?a=e:(L(`Did not find icon ${e}`),a="")),r.setAttribute("class",`ag-icon ag-icon-${a}`),r.setAttribute("unselectable","on"),bt(r,"presentation"),r}}function Vg(e,t,i){if(i===0)return!1;let s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}var ts=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new gn,this.eElement=e,this.preventMouseClick=t;let i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;let s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!Vg(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},yS=`<span class="ag-sort-indicator-container">
        <span data-ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
        <span data-ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
        <span data-ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
        <span data-ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
        <span data-ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
    </span>`,Id=class extends ye{constructor(e){super(),this.eSortOrder=Y,this.eSortAsc=Y,this.eSortDesc=Y,this.eSortMixed=Y,this.eSortNone=Y,e||this.setTemplate(yS)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e,t=!1){this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!(!this.column.isSortable()&&!this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedEventListeners({newColumnsLoaded:this.updateIcons.bind(this),sortChanged:this.onSortChanged.bind(this),columnRowGroupChanged:this.onSortChanged.bind(this)}),this.onSortChanged())}addInIcon(e,t,i){if(t==null)return;let s=Bt(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){let t=e==="asc";He(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){let t=e==="desc";He(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){let t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;He(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";He(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;let e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(n=>this.sortController.getDisplaySortIndexForColumn(n)??!1),s=t>=0&&i;He(this.eSortOrder,s,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():ut(this.eSortOrder)}},SS={selector:"AG-SORT-INDICATOR",component:Id},xS=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,dd=class extends ye{constructor(){super(...arguments),this.eFilter=Y,this.eFilterButton=Y,this.eSortIndicator=Y,this.eMenu=Y,this.eLabel=Y,this.eText=Y,this.eSortOrder=Y,this.eSortAsc=Y,this.eSortDesc=Y,this.eSortMixed=Y,this.eSortNone=Y,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){let t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??xS;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[SS]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;let t=wi(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;let s=Bt(e,this.gos,i);s&&t.appendChild(s)}setupTap(){let{gos:e}=this;if(e.get("suppressTouch"))return;let t=new ts(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&G(this.eMenu),n=s?new ts(this.eMenu,!0):t;if(this.params.enableMenu){let o=s?"tap":"longTap",r=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(n,{[o]:r})}if(this.params.enableSorting){let o=r=>{let a=r.touchStart.target;i&&(this.eMenu?.contains(a)||this.eFilterButton?.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:o})}if(this.params.enableFilterButton){let o=new ts(this.eFilterButton,!0);this.addManagedListeners(o,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>t.destroy()),s&&this.addDestroyFunc(()=>n.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){vi(this.eMenu),this.eMenu=void 0;return}let e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){let t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Id(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{let i=this.params.column.isMoving(),n=new Date().getTime()-this.lastMovingChanged<50;if(!(i||n)){let a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});let e=()=>{let t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){let n=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(o=>this.params.column.getSort()==o.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return vi(t),!1;let s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();He(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},bS=class extends ye{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Y,this.agClosed=Y,this.agLabel=Y}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&L("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);let e=n=>{if(es(n))return;let o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);let t=n=>{un(n)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();let i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){let i=new ts(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let t=this.params.columnGroup.isExpanded();He(this.agOpened,t),He(this.agClosed,!t)}else He(this.agOpened,!1),He(this.agClosed,!1)}addInIcon(e,t){let i=Bt(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){He(this.agOpened,!1),He(this.agClosed,!1);return}}setupLabel(){let{displayName:e,columnGroup:t}=this.params;if(G(e)){let i=wi(e,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},Gg=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(Gg||{}),ES=(()=>{let e=class Ee{static register(i){Ee.__register(i,!0,void 0)}static registerModules(i){Ee.__registerModules(i,!0,void 0)}static __register(i,s,n){Ee.runVersionChecks(i),n!==void 0?(Ee.areGridScopedModules=!0,Ee.gridModulesMap[n]===void 0&&(Ee.gridModulesMap[n]={}),Ee.gridModulesMap[n][i.moduleName]=i):Ee.globalModulesMap[i.moduleName]=i,Ee.setModuleBased(s)}static __unRegisterGridModules(i){delete Ee.gridModulesMap[i]}static __registerModules(i,s,n){Ee.setModuleBased(s),i&&i.forEach(o=>Ee.__register(o,s,n))}static isValidModuleVersion(i){let[s,n]=i.version.split(".")||[],[o,r]=Ee.currentModuleVersion.split(".")||[];return s===o&&n===r}static runVersionChecks(i){Ee.currentModuleVersion||(Ee.currentModuleVersion=i.version);let s=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(i.version?Ee.isValidModuleVersion(i)||ke(s(`'${i.moduleName}' is version ${i.version} but the other modules are version ${Ee.currentModuleVersion}.`)):ke(s(`'${i.moduleName}' is incompatible.`)),i.validate){let n=i.validate();n.isValid||ke(`${n.message}`)}}static setModuleBased(i){Ee.moduleBased===void 0?Ee.moduleBased=i:Ee.moduleBased!==i&&(ke("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),ke("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Ee.isBundled=!0}static __assertRegistered(i,s,n){if(this.__isRegistered(i,n))return!0;let o;if(Ee.isBundled)o=`AG Grid: unable to use ${s} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Ee.moduleBased||Ee.moduleBased===void 0){let r=Object.entries(Gg).find(([a,l])=>l===i)?.[0];o=`AG Grid: unable to use ${s} as the ${r} is not registered${Ee.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${r} } from '${i}';
    
    ModuleRegistry.registerModules([ ${r} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${s} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return ke(o),!1}static __isRegistered(i,s){return!!Ee.globalModulesMap[i]||!!Ee.gridModulesMap[s]?.[i]}static __getRegisteredModules(i){return[...Zr(Ee.globalModulesMap),...Zr(Ee.gridModulesMap[i]||{})]}static __getGridRegisteredModules(i){return Zr(Ee.gridModulesMap[i]??{})||[]}static __isPackageBased(){return!Ee.moduleBased}};return e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e})(),St=ES,FS="\u2191",RS="\u2193",DS=class extends ye{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");let i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){let i=Math.abs(t),s=e.formatValue(i),n=G(s)?s:i,o=t>=0;o?this.eDelta.textContent=FS+n:this.eDelta.textContent=RS+n,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ut(this.eDelta)}refresh(e,t=!1){let i=e.value;if(i===this.lastValue||(G(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:G(e.value)?this.eValue.textContent=i:ut(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){let s=i-this.lastValue;this.showDelta(e,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},TS=class extends ye{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return xe(i)&&(i=""),i===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,G(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:G(e.value)?this.eCurrent.textContent=i:ut(this.eCurrent),!0)}},I=(()=>{let e=class{};return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e})(),AS=class extends ye{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){ut(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(He(this.eLabel,!1),bt(this.eLabel,"presentation")):(He(this.eLabel,!0),bt(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(ca(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return Oo(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Hg=class extends AS{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||Uy(e)!==null?Lo(e,""):Lo(e,t??"")}setAriaLabel(e){return hn(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ri(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},xs=class extends Hg{constructor(e,t,i="text",s="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=Y,this.eWrapper=Y,this.eInput=Y}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return ca(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Mi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return hn(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Oo(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Mi(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";Mi(this.eInput,"autocomplete",t)}return this}},ha=class extends xs{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let s=this.getInputElement(),n={type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t};this.eventService.dispatchEvent(n)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Pd={selector:"AG-CHECKBOX",component:ha},IS=class extends ye{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Pd]),this.eCheckbox=Y}init(e){this.params=e,this.updateCheckbox(e);let t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),xg(t,"polite"),this.addManagedListeners(t,{click:i=>{if(un(i),this.eCheckbox.isDisabled())return;let s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{un(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===I.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();let s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column){let a=e.column.getColId();a.startsWith(ua)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[a]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);let s=e.disabled!=null?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(s);let n=this.localeService.getLocaleTextFunc(),o=bd(n,t),r=s?o:`${n("ariaToggleCellValue","Press SPACE to toggle cell value")} (${o})`;this.eCheckbox.setInputAriaLabel(r)}onCheckboxChanged(e){let{column:t,node:i,value:s}=this.params,n={type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s};this.eventService.dispatchEvent(n);let o=this.params.node.setDataValue(this.params.column,e,"edit"),r={type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:o};this.eventService.dispatchEvent(r)}},PS=class extends ye{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Y,this.eLoadingText=Y}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){let e=Bt("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);let t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},MS=class extends ye{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Lo(e.eParentOfValue)),Lo(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");hn(this.getGui(),t)}setupLoading(e){let i=this.gos.getDocument().createElement("div");i.classList.add("ag-skeleton-effect");let s=e.node.rowIndex;if(s!=null){let r=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${r}%`}this.getGui().appendChild(i);let o=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");hn(this.getGui(),o)}refresh(e){return!1}destroy(){super.destroy()}},Wg=class extends ye{constructor(){super()}destroy(){super.destroy()}},_S=class extends Wg{init(){let e=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},LS=class extends Wg{init(){let e=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},mn=class extends ye{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},OS=class extends mn{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:t}=e;this.getGui().textContent=wi(t,!0)}};function BS(e,t,i){let s={},n=e.filter(o=>!t.some(r=>r===o));return n.length>0&&n.forEach(o=>s[o]=zg(o,i).values),s}function zg(e,t,i,s){let n=t.map((a,l)=>({value:a,relevance:kS(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(n.sort((a,l)=>l.relevance-a.relevance),i&&(n=n.filter(a=>a.relevance!==0)),n.length>0&&s&&s>0){let l=n[0].relevance*s;n=n.filter(c=>l-c.relevance<0)}let o=[],r=[];for(let a of n)o.push(a.value),r.push(a.idx);return{values:o,indices:r}}function kS(e,t){let i=e.replace(/\s/g,""),s=t.replace(/\s/g,""),n=0,o=-1;for(let r=0;r<i.length;r++){let a=s.indexOf(i[r],o+1);a!==-1&&(o=a,n+=100-o*100/1e4*100)}return n}var NS=class extends P{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:dd,agColumnGroupHeader:bS,agSortIndicator:Id,agAnimateShowChangeCellRenderer:DS,agAnimateSlideCellRenderer:TS,agLoadingCellRenderer:PS,agSkeletonCellRenderer:MS,agCheckboxCellRenderer:IS,agLoadingOverlay:_S,agNoRowsOverlay:LS,agTooltipComponent:OS},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){let e=this.gos.get("components");e!=null&&oi(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t){this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){let i=(a,l)=>({componentFromFramework:l,component:a}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(s!=null)return i(s,!0);let n=this.jsComps[t];if(n){let a=this.getFrameworkOverrides().isFrameworkComponent(n);return i(n,a)}let o=this.agGridDefaults[t];if(o)return i(o,!1);let r=this.enterpriseAgDefaultCompsModule[t];return r?St.__assertRegistered(r,`AG Grid '${e}' component: ${t}`,this.gridId):vd(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){let i=[...Object.keys(this.agGridDefaults).filter(n=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(n)),...Object.keys(this.jsComps)],s=zg(t,i,!0,.8).values;L(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&L(`         Did you mean: [${s.slice(0,3)}]?`),L(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Mt=class Fo{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Fo(i=>{let s=t.length,n=new Array(s);t.forEach((o,r)=>{o.then(a=>{n[r]=a,s--,s===0&&i(n)})})}):Fo.resolve()}static resolve(t=null){return new Fo(i=>i(t))}then(t){return new Fo(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},VS={propertyName:"dateComponent",cellRenderer:!1},GS={propertyName:"headerComponent",cellRenderer:!1},HS={propertyName:"headerGroupComponent",cellRenderer:!1},Yp={propertyName:"cellRenderer",cellRenderer:!0},WS={propertyName:"cellRenderer",cellRenderer:!1},zS={propertyName:"loadingCellRenderer",cellRenderer:!0},US={propertyName:"cellEditor",cellRenderer:!1},Qp={propertyName:"innerRenderer",cellRenderer:!0},jS={propertyName:"loadingOverlayComponent",cellRenderer:!1},$S={propertyName:"noRowsOverlayComponent",cellRenderer:!1},KS={propertyName:"tooltipComponent",cellRenderer:!1},Md={propertyName:"filter",cellRenderer:!1},qS={propertyName:"floatingFilterComponent",cellRenderer:!1},YS={propertyName:"toolPanel",cellRenderer:!1},QS={propertyName:"statusPanel",cellRenderer:!1},XS={propertyName:"fullWidthCellRenderer",cellRenderer:!0},ZS={propertyName:"loadingCellRenderer",cellRenderer:!0},JS={propertyName:"groupRowRenderer",cellRenderer:!0},ex={propertyName:"detailCellRenderer",cellRenderer:!0},tx={propertyName:"menuItem",cellRenderer:!1},Ug=class jg extends P{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getHeaderCompDetails(t,i){return this.getCompDetails(t,GS,"agColumnHeader",i)}getHeaderGroupCompDetails(t){let i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,HS,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,XS,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,ZS,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,JS,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,ex,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,Qp,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,Qp,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,Yp,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,WS,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,zS,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,US,"agCellEditor",i,!0)}getFilterDetails(t,i,s){return this.getCompDetails(t,Md,s,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,VS,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,jS,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,$S,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,KS,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,Yp,null,i)}getFloatingFilterCompDetails(t,i,s){return this.getCompDetails(t,qS,s,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,YS,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,QS,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,tx,"agMenuItem",i,!0)}getCompDetails(t,i,s,n,o=!1){let{propertyName:r,cellRenderer:a}=i,{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=jg.getCompKeys(this.frameworkOverrides,t,i,n),g=m=>{let w=this.userComponentRegistry.retrieve(r,m);w&&(c=w.componentFromFramework?void 0:w.component,d=w.componentFromFramework?w.component:void 0)};if(l!=null&&g(l),c==null&&d==null&&s!=null&&g(s),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(r,c)),!c&&!d){o&&ke(`Could not find component ${l}, did you forget to configure this component?`);return}let v=this.mergeParamsWithApplicationProvidedParams(t,i,n,u),C=c==null,f=c||d;return{componentFromFramework:C,componentClass:f,params:v,type:i,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(f,C,v,i)}}static getCompKeys(t,i,s,n){let{propertyName:o}=s,r,a,l,c,d,u;if(i){let h=i,p=h[o+"Selector"],g=p?p(n):null,v=C=>{typeof C=="string"?r=C:C!=null&&C!==!0&&(t.isFrameworkComponent(C)?l=C:a=C)};g?(v(g.component),c=g.params,d=g.popup,u=g.popupPosition):v(h[o])}return{compName:r,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,s,n){let o=n.propertyName,r=!i,a;if(r)a=new t;else{let c=this.componentMetadataProvider.retrieve(o);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,n)}let l=this.initComponent(a,s);return l==null?Mt.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,s,n=null){let o=this.gos.getGridCommonParams();Kt(o,s);let r=t,a=r&&r[i.propertyName+"Params"];if(typeof a=="function"){let l=a(s);Kt(o,l)}else typeof a=="object"&&Kt(o,a);return Kt(o,n),o}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function Ao(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var ix=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,i])=>{this.beans[t]=i}),e.beanClasses.forEach(t=>{let i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{let{beanName:i,bean:s}=t(this);this.beans[i]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},sx=class extends ix{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),St.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},nx=(e=>(e[e.SINGLE_SHEET=0]="SINGLE_SHEET",e[e.MULTI_SHEET=1]="MULTI_SHEET",e))(nx||{});var $g=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))($g||{}),ox=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(ox||{}),rx=`<div class="ag-dnd-ghost ag-unselectable">
<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
<div class="ag-dnd-ghost-label"></div>
</div>`,ax=class extends P{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}postConstruct(){this.dropIconMap={pinned:Ti("columnMovePin",this.gos,null),hide:Ti("columnMoveHide",this.gos,null),move:Ti("columnMoveMove",this.gos,null),left:Ti("columnMoveLeft",this.gos,null),right:Ti("columnMoveRight",this.gos,null),group:Ti("columnMoveGroup",this.gos,null),aggregate:Ti("columnMoveValue",this.gos,null),pivot:Ti("columnMovePivot",this.gos,null),notAllowed:Ti("dropNotAllowed",this.gos,null)}}addDragSource(e,t=!1){let i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){let t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),_t(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){let t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(e,t){let i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);let n=this.dropTargets.filter(r=>this.isMouseOnDropTarget(e,r)),o=this.findCurrentDropTarget(e,n);if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(e,i,s,t),this.lastDropTarget!==null&&o===null&&this.dragSource.onGridExit?.(this.dragItem),this.lastDropTarget===null&&o!==null&&this.dragSource.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(o,e,i,s,t),this.lastDropTarget=o;else if(o&&o.onDragging){let r=this.createDropTargetEvent(o,e,i,s,t);o.onDragging(r)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(let i of t){let s=i.getBoundingClientRect();if(s.width===0||s.height===0)return!1;let n=e.clientX>=s.left&&e.clientX<s.right,o=e.clientY>=s.top&&e.clientY<s.bottom;if(!n||!o)return!1}return!0}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),s=!1;for(let n of i)if(this.allContainersIntersect(e,n)){s=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:s&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){let i=t.length;if(i===0)return null;if(i===1)return t[0];let n=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(let o of n)for(let r of t)if(ay(this.getAllContainersFromDropTarget(r)).indexOf(o)!==-1)return r;return null}enterDragTargetIfExists(e,t,i,s,n){if(e){if(e.onDragEnter){let o=this.createDropTargetEvent(e,t,i,s,n);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){let n=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,n){let o=e.getContainer(),r=o.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-r.left,d=t.clientY-r.top;return this.gos.addGridCommonParams({event:t,x:c,y:d,vDirection:s,hDirection:i,dragSource:l,fromNudge:n,dragItem:a,dropZoneTarget:o})}positionGhost(e){let t=this.eGhost;if(!t)return;let s=t.getBoundingClientRect().height,n=nS()-2,o=oS()-2,r=Mg(t.offsetParent),{clientY:a,clientX:l}=e,c=a-r.top-s/2,d=l-r.left-10,u=this.gos.getDocument(),h=u.defaultView||window,p=h.pageYOffset||u.documentElement.scrollTop,g=h.pageXOffset||u.documentElement.scrollLeft;n>0&&d+t.clientWidth>n+g&&(d=n+g-t.clientWidth),d<0&&(d=0),o>0&&c+t.clientHeight>o+p&&(c=o+p-t.clientHeight),c<0&&(c=0),t.style.left=`${d}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=pn(rx),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);let e=this.eGhost.querySelector(".ag-dnd-ghost-label"),t=this.dragSource.dragItemName;wd(t)&&(t=t()),e.innerHTML=wi(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";let i=this.gos.getDocument(),s=null,n=null;try{s=i.fullscreenElement}catch{}finally{s||(s=this.gos.getRootNode());let o=s.querySelector("body");o?n=o:s instanceof ShadowRoot?n=s:s instanceof Document?n=s?.documentElement:n=s}this.eGhostParent=n,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):L("Could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){ut(this.eGhostIcon);let i=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}},lx=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let s=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<s.left+n,this.tickRight=e.clientX>s.right-n,this.tickUp=e.clientY<s.top+n&&!i,this.tickDown=e.clientY>s.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},cx=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(cx||{}),dx=class extends P{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{let t=e.gridBodyCtrl;this.autoScrollService=new lx({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let s=[...this.selectionService.getSelectedNodes()].sort((n,o)=>n.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(n)-this.getRowIndexNumber(o));if(s.indexOf(t)!==-1)return s}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){let i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return!i.contains(s)}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){let i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),n=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(we(t.split("-")),10)}moveRowAndClearHighlight(e){let t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,s=this.mouseEventService.getNormalisedPosition(e).y,n=e.dragItem.rowNodes,o=i?1:0;if(this.isFromThisGrid(e))n.forEach(r=>{r.rowTop<s&&(o-=1)}),this.moveRows(n,s,o);else{let r=this.gos.getRowIdCallback(),a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:n.filter(l=>!this.clientSideRowModel.getRowNode(r?.({data:l.data,level:0,rowPinned:l.rowPinned})??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){L("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){L("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))})),this.dragAndDropService.addDropTarget(R({isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0},t))}getRowDropZone(e){let t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),n=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?r=>{i(r),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}:i,onDragLeave:e.onDragLeave?r=>{s(r),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}:s,onDragging:e.onDragging?r=>{n(r),e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}:n,onDragStop:e.onDragStop?r=>{o(r),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:n,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,t){let i=this.mouseEventService.getNormalisedPosition(t).y,s=i>this.pageBoundsService.getCurrentPageHeight(),n=-1,o;s||(n=this.rowModel.getRowIndexAtPixel(i),o=this.rowModel.getRow(n));let r;switch(t.vDirection){case 1:r="down";break;case 0:r="up";break;default:r=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:n,overNode:o,y:i,vDirection:r})}dispatchGridEvent(e,t){let i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},ux=class extends P{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){let s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){let t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),_t(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let o=null,r=this.gos.get("suppressTouch");s&&!r&&(o=a=>{Fd(a.target)||(a.cancelable&&(a.preventDefault(),n&&a.stopPropagation()),this.onTouchStart(e,a))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let i=t.touches[0];this.touchLastTime=i,this.touchStart=i;let s=l=>this.onTouchMove(l,e.eElement),n=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},r=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:o,options:{passive:!1}},{target:r,type:"touchmove",listener:s,options:{passive:!0}},{target:r,type:"touchend",listener:n,options:{passive:!0}},{target:r,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){let i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let s=l=>this.onMouseMove(l,e.eElement),n=l=>this.onMouseUp(l,e.eElement),o=l=>l.preventDefault(),r=this.gos.getRootNode(),a=[{target:r,type:"mousemove",listener:s},{target:r,type:"mouseup",listener:n},{target:r,type:"contextmenu",listener:o}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:i,type:s,listener:n,options:o}=t;i.addEventListener(s,n,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:i,type:s,listener:n,options:o}=t;i.removeEventListener(s,n,o)})})}isEventNearStartEvent(e,t){let{dragStartPixels:i}=this.currentDragParams,s=G(i)?i:4;return Vg(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;let s={type:"dragStarted",target:i};this.eventService.dispatchEvent(s),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){let i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){Li()&&this.gos.getDocument().getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);let i={type:"dragStopped",target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}},ud=class extends ye{constructor(e,t,i,s,n,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=n,this.suppressVisibilityChange=o,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Bt("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new px(this,this.beans,this.rowNode,this.column):new hx(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&L("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s?.preventDefault()}})[0]);let i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let s=this.getDragItem(),n=s.rowNodes?.length||1,o=this.getRowDragText(this.column);return o?o(s,n):n===1?this.cellValueFn():`${n} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Kg=class extends P{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=wd(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},hx=class extends Kg{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},px=class extends Kg{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),o=i&&!n||s;this.setDisplayedOrVisible(o)}},gx=(()=>{let e=class rn{constructor(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=rn.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=i}setData(i){this.setDataCommon(i,!1)}updateData(i){this.setDataCommon(i,!0)}setDataCommon(i,s){let n=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let o=this.createDataChangedEvent(i,n,s);this.localEventService?.dispatchEvent(o)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(i,s,n){return{type:"dataChanged",node:this,oldData:s,newData:i,update:n}}getRowIndexString(){return this.rowIndex==null?(ke("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let i=new rn(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i}setDataAndId(i,s){let n=G(this.id)?this.createDaemonNode():null,o=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(s),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);let r=this.createDataChangedEvent(i,o,!1);this.localEventService?.dispatchEvent(r)}checkRowSelectable(){let i=this.beans.gos.get("isRowSelectable");this.setRowSelectable(i?i(this):!0)}setRowSelectable(i,s){if(this.selectable!==i){if(this.selectable=i,this.dispatchRowEvent("selectableChanged"),s)return;if(this.beans.gos.get("groupSelectsChildren")){let o=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:o??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(i){let s=this.beans.gos.getRowIdCallback();if(s)if(this.data){let n=this.getGroupKeys(!0);this.id=s({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(rn.ID_PREFIX_ROW_GROUP)&&ke(`Row IDs cannot start with ${rn.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=i}getGroupKeys(i=!1){let s=[],n=this;for(i&&(n=n.parent);n&&n.level>=0;)s.push(n.key),n=n.parent;return s.reverse(),s}isPixelInRange(i){return!G(this.rowTop)||!G(this.rowHeight)?!1:i>=this.rowTop&&i<this.rowTop+this.rowHeight}updateIfDifferent(i,s,n){this[i]!==s&&(this[i]=s,this.dispatchRowEvent(n))}setFirstChild(i){this.updateIfDifferent("firstChild",i,"firstChildChanged")}setLastChild(i){this.updateIfDifferent("lastChild",i,"lastChildChanged")}setChildIndex(i){this.updateIfDifferent("childIndex",i,"childIndexChanged")}setRowTop(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.dispatchRowEvent("topChanged"),this.setDisplayed(i!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(i){this.updateIfDifferent("displayed",i,"displayedChanged")}setDragging(i){this.updateIfDifferent("dragging",i,"draggingChanged")}setHighlighted(i){this.updateIfDifferent("highlighted",i,"rowHighlightChanged")}setHovered(i){this.hovered!==i&&(this.hovered=i)}isHovered(){return this.hovered}setAllChildrenCount(i){this.updateIfDifferent("allChildrenCount",i,"allChildrenCountChanged")}setMaster(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.dispatchRowEvent("masterChanged"))}setGroup(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(i,s=!1){this.rowHeight=i,this.rowHeightEstimated=s,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(i,s){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[s.getId()]=i,i!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ot(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let i=!1,s=!0,n=0,o=this.__autoHeights;if(o==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=o[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){i=!0;return}c=-1}else{i=!0;return}else s=!1;c>n&&(n=c)}),i)||((s||n<10)&&(n=this.beans.gos.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);let a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}setRowIndex(i){this.updateIfDifferent("rowIndex",i,"rowIndexChanged")}setUiLevel(i){this.updateIfDifferent("uiLevel",i,"uiLevelChanged")}setExpanded(i,s,n){if(this.expanded===i)return;this.expanded=i,this.dispatchRowEvent("expandedChanged");let o=J(R({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:i,event:s||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(i){return this.beans.gos.addGridCommonParams({type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(i,s,n){let r=typeof i!="string"?i:this.beans.columnModel.getCol(i)??this.beans.columnModel.getColDefCol(i),a=this.getValueFromValueService(r);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,a,s,n),!1;let l=this.beans.valueService.setValue(this,r,s,n);return this.dispatchCellChangedEvent(r,s,a),this.checkRowSelectable(),l}getValueFromValueService(i){let s=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!s,o=!1,r=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");typeof r!="function"?o=!!r:o=!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this});let a=this.beans.gos.get("groupSuppressBlankHeader"),l=n&&o&&!a;return this.beans.valueService.getValue(i,this,!1,l)}dispatchEventForSaveValueReadOnly(i,s,n,o){let r=this.beans.gos.addGridCommonParams({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),data:this.data,node:this,oldValue:s,newValue:n,value:n,source:o});this.beans.eventService.dispatchEvent(r)}setGroupValue(i,s){let n=this.beans.columnModel.getCol(i);xe(this.groupData)&&(this.groupData={});let o=n.getColId(),r=this.groupData[o];r!==s&&(this.groupData[o]=s,this.dispatchCellChangedEvent(n,s,r))}setAggData(i){let s=this.aggData;if(this.aggData=i,this.localEventService){let n=o=>{let r=this.aggData?this.aggData[o]:void 0,a=s?s[o]:void 0;if(r===a)return;let l=this.beans.columnModel.getCol(o);l&&this.dispatchCellChangedEvent(l,r,a)};for(let o in this.aggData)n(o);for(let o in i)o in this.aggData||n(o)}}updateHasChildren(){let i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){let n=this.beans.gos.get("treeData"),o=this.beans.gos.get("isServerSideGroup");i=!this.stub&&!this.footer&&(n?!!o&&o(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&Lt(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(i,s,n){let o={type:"cellChanged",node:this,column:i,newValue:s,oldValue:n};this.localEventService?.dispatchEvent(o)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(s=>s.depthFirstSearch(i)),i(this)}calculateSelectedFromChildren(){let i=!1,s=!1,n=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){let r=this.childrenAfterGroup[o],a=r.isSelected();if(!r.selectable){let l=r.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:s=!0;break;default:n=!0;break}}if(!(n||i&&s))return i?!0:s?!1:this.selectable?this.selected:null}setSelectedInitialValue(i){this.selected=i}dispatchRowEvent(i){let s={type:i,node:this};this.localEventService?.dispatchEvent(s)}selectThisNode(i,s,n="api"){let o=!this.selectable&&i,r=this.selected===i;if(o||r)return!1;this.selected=i,this.dispatchRowEvent("rowSelected");let a=this.sibling;a&&a.footer&&a.localEventService&&a.dispatchRowEvent("rowSelected");let l=J(R({},this.createGlobalRowEvent("rowSelected")),{event:s||null,source:n});return this.beans.eventService.dispatchEvent(l),!0}setSelected(i,s=!1,n="api"){if(typeof n=="boolean"){L("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:i,clearSelection:s,rangeSelect:!1,source:n})}setSelectedParams(i){return this.rowPinned?(L("cannot select pinned rows"),0):this.id===void 0?(L("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(J(R({},i),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(i){let s=this.parent;for(;s;){if(s===i)return!0;s=s.parent}return!1}addEventListener(i,s){this.localEventService||(this.localEventService=new gn),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new md(this.beans.frameworkOverrides));let n=this.frameworkEventListenerService?.wrap(s)??s;this.localEventService.addEventListener(i,n)}removeEventListener(i,s){if(!this.localEventService)return;let n=this.frameworkEventListenerService?.unwrap(s)??s;this.localEventService.removeEventListener(i,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(i){let s=this,n=!0,o=!1,r=null;for(;n&&!o;){let a=s.parent;G(a)&&s.firstChild?a.rowGroupColumn===i&&(o=!0,r=a):n=!1,s=a}return o?r:null}isFullWidthCell(){if(this.detail)return!0;let i=this.beans.gos.getCallback("isFullWidthRow");return i?i({rowNode:this}):!1}getRoute(){if(this.key==null)return;let i=[],s=this;for(;s&&s.key!=null;)i.push(s.key),s=s.parent;return i.reverse()}createFooter(){if(this.sibling)return;let i=new Set(["eventService","__objectId","sticky"]),s=new rn(this.beans);Object.keys(this).forEach(n=>{i.has(n)||(s[n]=this[n])}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,s.id="rowGroupFooter_"+this.id,s.sibling=this,this.sibling=s}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};return e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e})(),$c=gx,fx=class extends P{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){this.addManagedEventListeners({columnValueChanged:this.refreshFiltersForAggregations.bind(this),columnPivotChanged:this.refreshFiltersForAggregations.bind(this),columnPivotModeChanged:this.refreshFiltersForAggregations.bind(this),newColumnsLoaded:this.updateAdvancedFilterColumns.bind(this),columnVisible:this.updateAdvancedFilterColumns.bind(this),advancedFilterEnabledChanged:({enabled:e})=>this.onAdvancedFilterEnabledChanged(e),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",e=>this.setAdvancedFilterModel(e.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):Mt.resolve()).then(()=>{let n={source:t,type:"filterChanged",columns:s};i&&Kt(n,i),this.eventService.dispatchEvent(n),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,e)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){L("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}},mx=class extends ye{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??Mt.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(s=>{let n=s.getGui();if(G(n)||L(`getGui method from filter returned ${n}; it should be a DOM element.`),this.appendChild(n),e){let o={type:"filterOpened",column:t,source:i,eGui:this.getGui()};this.eventService.dispatchEvent(o)}})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(ut(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},qg="ag-resizer-wrapper",Cx=`<div class="${qg}">
        <div data-ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div data-ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div data-ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div data-ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div data-ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div data-ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div data-ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div data-ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,vx=class extends P{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:n,height:o,x:r,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=ai(this.element);if(d){let u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(h.minWidth!=null){let p=u.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){let p=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=n||l,this.minWidth=i||c,s&&this.setWidth(s),o&&this.setHeight(o),(!s||!o)&&this.refreshSize(),e)this.center();else if(r||a)this.offsetElement(r,a);else if(d&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){let p=parseFloat(u.style.top),g=parseFloat(u.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(p)?0:p):this.setPosition(g,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let s=!!e[t],n=this.getResizerElement(t),o={dragStartPixels:0,eElement:n,onDragStart:r=>this.onResizeStart(r,t),onDragging:this.onResize.bind(this),onDragStop:r=>this.onResizeEnd(r,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(o),this.resizeListeners.push(o),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)To(i,e),e=Pg(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?To(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:s.top,r=e?0:n.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-s.bottom}}return i+r-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ri(t,e),e=oa(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:n}=this.offsetParent,o=i?this.position.x:this.element.getBoundingClientRect().left;n&&e+o>n&&(e=n-o)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ri(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!n,r)?0:r,c=this.shouldSkipY(t,!!s,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,s){let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return l?!0:(t?l=s<0&&e.clientX>a+o.left||s>0&&e.clientX<a+o.left:i?l=s<0&&e.clientX>r.right||s>0&&e.clientX<a+o.left:l=s<0&&e.clientX>r.right||s>0&&e.clientX<r.right,l)}shouldSkipY(e,t,i=0,s){let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return l?!0:(t?l=s<0&&e.clientY>a+o.top+i||s>0&&e.clientY<a+o.top:l=s<0&&e.clientY>r.bottom||s>0&&e.clientY<r.bottom,l)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let i=new DOMParser().parseFromString(Cx,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${qg}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let s=0;s<e.length;s++){let n=e[s],o=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let r=this.minHeight||0,a=this.minWidth||0;if(o){let l=window.getComputedStyle(n);l.minHeight&&(r=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else r=n.offsetHeight,a=n.offsetWidth;t+=r,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){let n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:o,isLeft:r}=this.currentResizer,a=n||r,l=o||s,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:r,isTop:s}),u=this.position.x,h=this.position.y,p=0,g=0;if(a&&c){let v=r?-1:1,C=this.getWidth(),f=C+c*v,m=!1;r&&(p=C-f,(u+p<=0||f<=this.minWidth)&&(m=!0,p=0)),m||this.setWidth(f)}if(l&&d){let v=s?-1:1,C=this.getHeight(),f=C+d*v,m=!1;s?(g=C-f,(h+g<=0||f<=this.minHeight)&&(m=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<f&&this.getMinSizeOfSiblings().height+f>this.element.parentElement.offsetHeight&&(m=!0),m||this.setHeight(f)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(u+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());let{movementX:n,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},wx=(()=>{let e=class Yg extends P{constructor(i,s={}){super(),this.eFocusableElement=i,this.callbacks=s,this.callbacks=R({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let o=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);o&&(o.focus(),n.preventDefault())}},s)}wireBeans(i){this.focusService=i.focusService}postConstruct(){this.eFocusableElement.classList.add(Yg.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(i){this.addManagedElementListeners(i,{keydown:s=>{if(!(s.defaultPrevented||es(s))){if(this.callbacks.shouldStopEventPropagation(s)){un(s);return}s.key===I.TAB?this.callbacks.onTabKeyDown(s):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(s)}}})}};return e.FOCUS_MANAGED_CLASS="ag-focus-managed",e})(),Is=wx,Qg={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function _d(e,t){return da(e)?(e.debounceMs!=null&&L("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function da(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var yx=class extends ye{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Y,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Is(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vx(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=da(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=da(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){let{buttons:e}=this.providedFilterParams,t=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(ut(this.eButtonsPanel),this.buttonListeners.forEach(n=>n()),this.buttonListeners=[]):t&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!t){this.eButtonsPanel&&vi(this.eButtonsPanel);return}let i=document.createDocumentFragment(),s=n=>{let o,r;switch(n){case"apply":o=this.translate("applyFilter"),r=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),r=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),r=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),r=c=>{this.onBtCancel(c)};break;default:L("Unknown button type specified");return}let l=pn(`<button
                    type="${n==="apply"?"submit":"button"}"
                    data-ref="${n}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(l,{click:r})),i.append(l)};e.forEach(n=>s(n)),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let e=_d(this.providedFilterParams,this.getDefaultDebounceMs()),t=Ot(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let i=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,i=t&&t.key,s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&Oo(s,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;let t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){return this.providedFilterParams=e,!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,Qg[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Sx=class extends ha{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},xx=class extends ye{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case I.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case I.DOWN:case I.UP:e.preventDefault(),this.navigate(t);break;case I.PAGE_DOWN:case I.PAGE_UP:case I.PAGE_HOME:case I.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===I.DOWN,i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let n=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);n=Math.min(Math.max(n,0),this.itemEls.length-1),i=this.itemEls[n]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;let t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/s),o=-1;e===I.PAGE_HOME?o=0:e===I.PAGE_END?o=i:e===I.PAGE_DOWN?o=Math.min(t+n,i):e===I.PAGE_UP&&(o=Math.max(t-n,0)),o!==-1&&this.highlightItem(this.itemEls[o])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{vi(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{Yy(t,i+1),qy(t,e.length)})}renderOption(e,t){let i=this.gos.getDocument(),s=i.createElement("div");bt(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let n=i.createElement("span");s.appendChild(n),n.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new fn({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let i=this.options.findIndex(s=>s.value===e);if(i!==-1){let s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!ai(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),na(this.highlightedEl,!0);let t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:n,offsetHeight:o}=e;(n+o>i+s||n<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!ai(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),na(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},bx=class extends Hg{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                    <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Y,this.eWrapper=Y,this.eDisplayField=Y,this.eIcon=Y,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:n,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),o!=null&&this.setPickerMaxWidth(o)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:s}=this.config;if(i){let n=Bt(i,this.gos);n&&this.eIcon.appendChild(n)}s!=null&&this.setInputWidth(s)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),sa(e,!1),this.ariaRole&&bt(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case I.UP:case I.DOWN:case I.ENTER:case I.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case I.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:s,pickerAriaLabelValue:n,modalPicker:o=!0}=this.config,r={modal:o,eChild:t,closeOnEsc:!0,closedCallback:()=>{let p=this.gos.getActiveDomElement(),g=!p||p===e.body;this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(s,n)},a=this.popupService.addPopup(r),{maxPickerHeight:l,minPickerWidth:c,maxPickerWidth:d,variableWidth:u}=this;u?(c&&(t.style.minWidth=c),t.style.width=Dd(oa(this.eWrapper)),d&&(t.style.maxWidth=d)):ca(t,d??oa(this.eWrapper));let h=l??`${Rd(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",h),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();sa(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return ca(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Ld=class extends bx{constructor(e){super(R({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new xx("select",!0)),this.listComponent.setParentComponent(this);let e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),iS(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===I.TAB&&this.hidePicker(),t){case I.ENTER:case I.UP:case I.DOWN:case I.PAGE_UP:case I.PAGE_DOWN:case I.PAGE_HOME:case I.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case I.ESCAPE:super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return n==null&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Ex={selector:"AG-SELECT",component:Ld},Xg=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;let t=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(n=>e[n]!=null)?!0:(L(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:L("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else L("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},Zg=class extends yx{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let o;if(i){let r=e,a=t;o=this.areSimpleModelsEqual(r,a)}else{let r=e,a=t;o=r.operator===a.operator&&ss(r.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}shouldRefresh(e){let t=this.getModel(),i=t?t.conditions??[t]:null,s=e.filterOptions?.map(o=>typeof o=="string"?o:o.displayKey)??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(r=>r===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let i=e,s=i.conditions;s==null&&(s=[],L("Filter model is missing 'conditions'"));let n=this.validateAndUpdateConditions(s),o=this.getNumConditions();if(n<o)this.removeConditionsAndOperators(n);else if(n>o)for(let a=o;a<n;a++)this.createJoinOperatorPanel(),this.createOption();let r=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(r,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Mt.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),L('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:i}=t,s=[];if(i){let o=t;s.push(...o.conditions??[])}else s.push(t);return s[i&&i==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Xg,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(L('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(L('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(L('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new Ld);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let s=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let s=this.createManagedBean(new Sx);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);let s=e+1,n=i-s;n>0&&this.removeConditionsAndOperators(s,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,n)=>{let o=this.isConditionDisabled(n,e);s.setDisabled(o||this.filterListOptions.length<=1),n===1&&(Oo(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((s,n)=>{He(s,this.isConditionBodyVisible(n))});let i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,n,o,r)=>{this.setElementDisplayed(s,n<r),this.setElementDisabled(s,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);let i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(n=>vi(n))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(n=>{vi(n.getGui()),this.destroyBean(n)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let t=this.getInputs(0)[0];if(!t)return;t instanceof xs&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1,n=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,i=r);else{let a=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),l=r<t;(a||l)&&(this.removeConditionsAndOperators(r,1),s=!0,l&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(wd(this.filterPlaceholder)){let s=this.filterPlaceholder,n=this.eTypes[t].getValue(),o=this.translate(n);i=s({filterOptionKey:n,filterOption:o,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,s,n)=>{if(!(t instanceof xs))return;let o=i===0&&n>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",r=i===0&&n>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,s)),t.setInputAriaLabel(r)})}setElementValue(e,t,i){e instanceof xs&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ye&&He(e.getGui(),t)}setElementDisabled(e,t){e instanceof ye&&Oo(e.getGui(),t)}attachElementOnChange(e,t){e instanceof xs&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let s=this.getNumberOfInputs(t),n=this.getInputs(e);for(let o=0;o<n.length;o++){let r=n[o];r!=null&&i(r,o,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Mt.resolve()}resetType(e){let i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e);this.forEachInput((s,n,o)=>{o===t&&this.setElementValue(s,i[n]!=null?i[n]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){let i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(n,s,i);return o??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;let{predicate:s}=e;if(s!=null&&!t.some(n=>n==null))return s(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},Jg=class extends Zg{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){let s=this.comparator(),n=e[0]!=null?s(e[0],t):0;switch(i.type){case"equals":return n===0;case"notEqual":return n!==0;case"greaterThan":return n>0;case"greaterThanOrEqual":return n>=0;case"lessThan":return n<0;case"lessThanOrEqual":return n<=0;case"inRange":{let o=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?n>=0&&o<=0:n>0&&o<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return L('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Fx=65,Rx=67,Dx=86,Tx=68,Ax=90,Ix=89;function ef(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key.length===1}function hd(e,t,i,s,n){let o=s?s.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let r=e.addGridCommonParams({event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(o&&o(r))}function Px(e,t,i,s){let n=s.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;if(!G(o))return!1;let r=e.addGridCommonParams({colDef:n,column:s,headerRowIndex:i,event:t});return!!o(r)}function Mx(e){let{keyCode:t}=e,i;switch(t){case Fx:i=I.A;break;case Rx:i=I.C;break;case Dx:i=I.V;break;case Tx:i=I.D;break;case Ax:i=I.Z;break;case Ix:i=I.Y;break;default:i=e.code}return i}function _x(e,t=!1){return e===I.DELETE?!0:!t&&e===I.BACKSPACE?Dg():!1}var Ps=class extends xs{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=G(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{ef(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{let s=i.clipboardData?.getData("text");s&&s.split("").some(n=>!e.test(n))&&i.preventDefault()}})}},pa={selector:"AG-INPUT-TEXT-FIELD",component:Ps},Od=class extends Ps{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let n=parseFloat(this.eInput.value),o=isNaN(n)?"":this.normalizeValue(n.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:e,min:t,max:i,step:s}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){let s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Mi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Mi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Mi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(G(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);let n=this.normalizeValue(i);s=i!=n}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Lx={selector:"AG-INPUT-NUMBER-FIELD",component:Od},tf=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Bd=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;let t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){let s=e,o=(s.conditions??[]).map(a=>this.getModelAsString(a)),r=s.operator==="AND"?"andCondition":"orCondition";return o.join(` ${i(r,Qg[r])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{let s=e,n=this.optionsFactory.getCustomOption(s.type),{displayKey:o,displayName:r,numberOfInputs:a}=n||{};return o&&r&&a===0?(i(o,r),r):this.conditionToString(s,n)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},sf=class extends Bd{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function pd(e){let{allowedCharPattern:t}=e??{};return t??null}var Ox=class extends Jg{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new sf(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return tf}setElementValue(e,t,i){let s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){let e=pd(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),bt(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){let n=this.createManagedBean(s?new Ps({allowedCharPattern:s}):new Od);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){let t=[];return this.forEachPositionInput(e,(i,s,n,o)=>{s<o&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Es(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},nf=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],of=class extends Bd{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function rf(e){let t=e&&e.trim();return t===""?e:t}var Bx=class extends Zg{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{let s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new of(this.localeService,this.optionsFactory)}getTextMatcher(){let e=this.textFilterParams.textCustomComparator;return e?(L("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let i=[];return this.forEachPositionInput(e,(s,n,o,r)=>{if(n<r){let a=Es(s.getValue());t&&this.textFilterParams.trimInput&&(a=rf(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return nf}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),bt(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){let s=this.createManagedBean(new Ps);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){let n=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:r,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);let u={api:r,colDef:a,column:l,context:c,node:s.node,data:s.data,filterOption:i.type,value:o,textFormatter:d};return n.some(h=>this.matcher(J(R({},u),{filterText:h})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function af(e){if(typeof e=="number")return e;if(typeof e=="string"){let t=parseInt(e);return isNaN(t)?void 0:t}}function fi(e,t=Number.MAX_VALUE){return i=>{let s=af(i);if(!(s==null||s<e||s>t))return s}}function Io(e,t){return e.toString().padStart(t,"0")}function kx(e,t){let i=[];for(let s=e;s<=t;s++)i.push(s);return i}function Nx(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Yt(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>Io(n,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>Io(n,2)).join(":")),s}var Kc=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Po(e,t="YYYY-MM-DD"){let i=Io(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>Io(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Kc(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Kc(e.getDate())}`,DD:()=>Io(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Kc(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,a=>a in o?o[a]():a)}function xt(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let s=t.split("-").map(u=>parseInt(u,10));if(s.filter(u=>!isNaN(u)).length!==3)return null;let[n,o,r]=s,a=new Date(n,o-1,r);if(a.getFullYear()!==n||a.getMonth()!==o-1||a.getDate()!==r)return null;if(!i||i==="00:00:00")return a;let[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var lf=class{constructor(e,t,i,s,n){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),n?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){He(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&L("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},cf=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],df=class extends Bd{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){let{type:i}=e,{numberOfInputs:s}=t||{},n=i=="inRange"||s===2,o=xt(e.dateFrom),r=xt(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){let l=o!==null?Po(o,a):"null",c=r!==null?Po(r,a):"null";return`${l}-${c}`}return o!=null?Po(o,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Xp=1e3,Zp=1/0,Vx=class extends Jg{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Xp,this.maxValidYear=Zp,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&xt(t)||null,i&&xt(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){let i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(i,s)=>{if(e[i]!=null)if(isNaN(e[i]))L(`DateFilter ${i} is not a number`);else return e[i]==null?s:Number(e[i]);return s};this.minValidYear=t("minValidYear",Xp),this.maxValidYear=t("maxValidYear",Zp),this.minValidYear>this.maxValidYear&&L("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:xt(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:xt(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&L("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new df(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let t=new lf(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return cf}createValueElement(){let t=this.gos.getDocument().createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,s){let o=this.gos.getDocument().createElement("div");o.classList.add(`ag-filter-${s}`),o.classList.add(`ag-filter-date-${s}`),t.push(o),e.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(n=>n.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,n,o)=>{n!==e||!t||s>=o||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){let t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=Yt(s[0])),s.length>1&&(i.dateTo=Yt(s[1])),R({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,s,n,o)=>{s<o&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},kd=class extends P{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?we(this.colsSpanning):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),t=G(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),n=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||e.getPinned()==="left")return t;let s=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){let n=this.beans.visibleColsService.getBodyContainerWidth();return s+n+t}return s+t}setLeft(e){if(G(e)&&(this.eCell.style.left=`${e}px`),Qe(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Jy(this.ariaEl,t.length)}}},Gx="ag-column-first",Hx="ag-column-last";function uf(e,t,i,s){return xe(e)?[]:pf(e.headerClass,e,t,i,s)}function OL(e,t,i,s){return xe(e)?[]:pf(e.toolPanelClass,e,t,i,s)}function hf(e,t,i){e.addOrRemoveCssClass(Gx,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(Hx,i.isColAtEdge(t,"last"))}function Wx(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}function pf(e,t,i,s,n){if(xe(e))return[];let o;if(typeof e=="function"){let r=Wx(t,i,s,n);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var zx=0,Ux=(()=>{let e=class gf extends P{constructor(i,s,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=i,this.parentRowCtrl=n,this.beans=s,this.instanceId=i.getUniqueId()+"-"+zx++}wireBeans(i){this.pinnedWidthService=i.pinnedWidthService,this.focusService=i.focusService,this.userComponentFactory=i.userComponentFactory,this.ctrlsService=i.ctrlsService,this.dragAndDropService=i.dragAndDropService,this.menuService=i.menuService}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(i){let{headerRowIndex:s,column:n}=this.focusService.getFocusedHeader();return Px(this.gos,i,s,n)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(i){this.eGui=i,this.addDomData(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){let i={type:"headerFocused",column:this.column};this.eventService.dispatchEvent(i)}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){let{comp:i,column:s,beans:n}=this;hf(i,s,n.visibleColsService)}refreshAriaColIndex(){let{beans:i,column:s}=this,n=i.visibleColsService.getAriaColIndex(s);Eg(this.eGui,n)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&this.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(i){let s=this.gos.getActiveDomElement(),n=i.key===I.LEFT||i.key===I.RIGHT;if(this.isResizing&&(i.preventDefault(),i.stopImmediatePropagation()),s!==this.eGui||!i.shiftKey&&!i.altKey||((this.isResizing||n)&&(i.preventDefault(),i.stopImmediatePropagation()),!n))return;let o=i.key===I.LEFT!==this.gos.get("enableRtl"),r=$g[o?"Left":"Right"];if(i.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let a=this.getViewportAdjustedResizeDiff(i);this.resizeHeader(a,i.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(i){let s=this.getResizeDiff(i);if(this.column.getPinned()){let o=this.pinnedWidthService.getPinnedLeftWidth(),r=this.pinnedWidthService.getPinnedRightWidth(),a=Bo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+r+s>a)if(a>o+r)s=a-o-r;else return 0}return s}getResizeDiff(i){let s=i.key===I.LEFT!==this.gos.get("enableRtl"),n=this.column.getPinned(),o=this.gos.get("enableRtl");return n&&o!==(n==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(i){let s=this.getWrapperHasFocus();switch(i.key){case I.PAGE_DOWN:case I.PAGE_UP:case I.PAGE_HOME:case I.PAGE_END:s&&i.preventDefault()}}addDomData(){let i=gf.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,i,this),this.addDestroyFunc(()=>this.gos.setDomData(this.eGui,i,null))}getGui(){return this.eGui}focus(i){return this.eGui?(this.lastFocusEvent=i||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(i,s,n){let o=i??s;this.gos.get("preventDefaultOnContextMenu")&&o.preventDefault();let r=is(n)?n:void 0;this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,i,s),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(i,s){let n={type:i,column:s};this.eventService.dispatchEvent(n)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};return e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",e})(),ga=Ux,Nd=class extends P{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},jx=class extends ga{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Bt("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Is(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();hn(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;let s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}let n=this.findNextColumnWithFloatingFilter(e.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleColsService,i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case I.UP:case I.DOWN:t||e.preventDefault();case I.LEFT:case I.RIGHT:if(t)return;e.stopPropagation();case I.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case I.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&dn(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){let o=this.lastFocusEvent,r=!!(o&&o.key===I.TAB);if(o&&r){let a=o.shiftKey;this.focusService.focusInto(this.eGui,a)}}let n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(){this.createManagedBean(new Nd([this.column],this.eGui));let e=()=>{if(!this.gos.get("columnHoverHighlight"))return;let t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(){let e=new kd(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;let{filterManager:e}=this.beans,t=i=>{if(i?.source==="filterDestroyed"&&!this.isAlive())return;let s=this.comp.getFloatingFilterComp();s&&s.then(n=>{if(n){let o=e?.getCurrentFloatingFilterParentModel(this.column),r=i?J(R({},i),{columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}):null;n.onParentModelChanged(o,r)}})};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:t}),e?.isFilterActive(this.column)&&t(null)}setupWidth(){let e=()=>{let t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){let e=this.active;this.setupActive();let t=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(i,t):s.then(n=>{!n||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(i,t):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let s=!1;i?.refresh&&typeof i.refresh=="function"&&i.refresh(t)!==null&&(s=!0),!s&&i?.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(t)!==null&&L("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},se="32.0.2";function $x(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function Kx(e,t,i){return e.filterManager?.getFilterInstance(t,i)}function qx(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function Yx(e,t){let i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")}function Qx(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function Xx(e){return e.filterManager?.getFilterModel()??{}}function Zx(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function Jx(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function eb(e,t){let i=e.columnModel.getCol(t);if(!i){ke(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function tb(e,t,i){if(t==null)return null;let s=null,{compName:n,jsComp:o,fwComp:r}=Ug.getCompKeys(e,t,Md);return n?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:o==null&&r==null&&t.filter===!0&&(s=i()),s}var ib=class extends P{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=R({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}let i=[],s=this.getFilterModel();if(e){let n=new Set(Object.keys(e));this.allColumnFilters.forEach((o,r)=>{let a=e[r];i.push(this.setModelOnFilterWrapper(o.filterPromise,a)),n.delete(r)}),n.forEach(o=>{let r=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!r){L("setFilterModel() - no column found for colId: "+o);return}if(!r.isFilterAllowed()){L("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}let a=this.getOrCreateFilterWrapper(r);if(!a){L("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,e[o]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});Mt.all(i).then(()=>{let n=this.getFilterModel(),o=[];this.allColumnFilters.forEach((r,a)=>{let l=s?s[a]:null,c=n?n[a]:null;sd(l,c)||o.push(r.column)}),o.length>0&&this.filterManager?.onFilterChanged({columns:o,source:t})})}setModelOnFilterWrapper(e,t){return new Mt(i=>{e.then(s=>{typeof s.setModel!="function"&&(L("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||Mt.resolve()).then(()=>i())})})}getFilterModel(){let e={};return this.allColumnFilters.forEach((t,i)=>{let s=this.getModelFromFilterWrapper(t);G(s)&&(e[i]=s)}),e}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(L("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){let e=o=>o?o.isFilterActive?o.isFilterActive():(L("Filter is missing isFilterActive() method"),!1):!1,t=!!this.gos.getGroupAggFiltering(),i=o=>{if(!o.isPrimary())return!0;let a=!this.columnModel.isPivotActive();return!o.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},s=[],n=[];return this.forEachColumnFilter((o,r)=>{e(o)&&(i(r.column)?s.push(o):n.push(o))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=n})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return Mt.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){let{data:s,aggData:n}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,r=i?n:s;for(let a=0;a<o.length;a++){let l=o[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(n=>{n&&n!==t&&n.onAnyFilterChanged&&n.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{let s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(St.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(St.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){let i=this.getDefaultFilter(e),s=e.getColDef(),n,o=J(R({},this.createFilterParams(e,s)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(n,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(n,a):!0}),r=this.userComponentFactory.getFilterDetails(s,o,i);return r?{filterPromise:()=>{let a=r.newAgStackInstance();return a?.then(l=>{n=l,t&&(t.filter=l)}),a},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:gy(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=s,t}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((t,i)=>{let s;t.column.isPrimary()?s=this.columnModel.getColDefCol(i):s=this.columnModel.getCol(i),!(s&&s===t.column)&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof i?.isFilterAllowed=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){let i=l=>{let c=this.getOrCreateFilterWrapper(e)?.filterPromise;c?.then(d=>{l(Ao(d))})},s=e.getColDef(),n=J(R({},this.createFilterParams(e,s)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())}),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Md,n),r=tb(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(e));r==null&&(r="agReadOnlyFloatingFilter");let a={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,r)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){let i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());let s={type:"filterDestroyed",source:t,column:e.column};this.eventService.dispatchEvent(s)})}filterModifiedCallbackFactory(e,t){return()=>{let i={type:"filterModified",column:t,filterInstance:e};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(e,t){return i=>{let s=i?.source??"columnFilter",n={filter:e,additionalEventAttributes:i,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}let n=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(o=>{(o?.refresh?o.refresh(R(J(R({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(o,i),filterChangedCallback:this.filterChangedCallbackFactory(o,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(o,a):!0}),n)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:s}=t;return!(i===s||i?.render&&s?.render&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{let s=Ao(i);t(s)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Ao(i))})})}getFilterInstanceImpl(e){let t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??Mt.resolve(null):Mt.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let o=()=>{},r=new Promise(a=>{o=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),r}let i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(o=>new Promise(r=>{o.then(a=>r(a))}))(this.setModelOnFilterWrapper(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){let t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function sb(e){return!!e.filterManager?.isAnyFilterPresent()}function nb(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var ob=class extends ye{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[pa]),this.eFloatingFilterText=Y}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},ff=class extends ye{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}let t=e.operator,i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new Xg,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},rb=class extends ff{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[pa]),this.eReadOnlyText=Y,this.eDateWrapper=Y}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return cf}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new df(this.filterParams,this.localeService,this.optionsFactory);let t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){let i=e;this.dateComp.setDate(xt(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){He(this.eDateWrapper,e),He(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),t=Yt(e);this.params.parentFilterInstance(i=>{if(i){let s=xt(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){let e=_d(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ot(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new lf(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},ab=class extends ye{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[pa]),this.eDateInput=Y}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Li(),t.type=i?"date":"text";let{minValidYear:s,maxValidYear:n,minValidDate:o,maxValidDate:r}=e.filterParams||{};if(o&&s&&L("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),r&&n&&L("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&r){let[a,l]=[o,r].map(c=>c instanceof Date?c:xt(c));a&&l&&a.getTime()>l.getTime()&&L("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=Po(o):t.min=o:s&&(t.min=`${s}-01-01`),r?r instanceof Date?t.max=Po(r):t.max=r:n&&(t.max=`${n}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return xt(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Yt(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Ed()||Rg()||Li()&&Fg()>=14.1}},mf=class extends P{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Y,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Ps(this.params?.config));let t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);let i=s=>this.valueChangedListener(s);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Cf=class extends ff{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Y}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=da(this.params.filterParams),!this.isReadOnly()){let i=_d(this.params.filterParams,this.getDefaultDebounceMs()),s=Ot(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let t=this.floatingFilterInputService.getValue();ut(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){let t=e.key===I.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=rf(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},lb=class extends P{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Od),this.eFloatingFilterTextInput=this.createManagedBean(new Ps),this.eFloatingFilterTextInput.setDisabled(!0);let t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},cb=class extends Cf{init(e){super.init(e),this.filterModelFormatter=new sf(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){pd(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return tf}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=pd(e.filterParams),this.allowedCharPattern?this.createManagedBean(new mf({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new lb)}},db=class extends Cf{init(e){super.init(e),this.filterModelFormatter=new of(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return nf}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new mf)}};function ub(e){return!!e.filterManager?.isQuickFilterPresent()}function hb(e){return e.gos.get("quickFilterText")}function pb(e){e.filterManager?.resetQuickFilterCache()}var gb=class extends P{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){let e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols(),s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(n=>n.isVisible()||n.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return G(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(L("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){L(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}let t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{let s=this.getQuickFilterTextForColumn(i,e);return G(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);let{quickFilterParts:s,matcher:n}=this;return n(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0),s=e.getColDef();if(s.getQuickFilterText){let n=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(n)}return G(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){let t=[];return this.colsForQuickFilter.forEach(i=>{let s=this.getQuickFilterTextForColumn(i,e);G(s)&&t.push(s)}),t.join(`
`)}},Vd={version:se,moduleName:"@ag-grid-community/filter-core",beans:[fx]},fb={version:se,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:sb,onFilterChanged:nb},dependantModules:[Vd]},fa={version:se,moduleName:"@ag-grid-community/column-filter",beans:[ib],dependantModules:[Vd]},mb={version:se,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:$x,getFilterInstance:Kx,getColumnFilterInstance:qx,destroyFilter:Yx,setFilterModel:Qx,getFilterModel:Xx,getColumnFilterModel:Zx,setColumnFilterModel:Jx,showColumnFilter:eb},dependantModules:[fa,fb]},Gd={version:se,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:jx}],dependantModules:[fa]},BL={version:se,moduleName:"@ag-grid-community/floating-filter",dependantModules:[Gd,fa]},Cb={version:se,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:ob}],dependantModules:[Gd]},vb={version:se,moduleName:"@ag-grid-community/simple-filter",dependantModules:[fa],userComponents:[{name:"agTextColumnFilter",classImp:Bx},{name:"agNumberColumnFilter",classImp:Ox},{name:"agDateColumnFilter",classImp:Vx},{name:"agDateInput",classImp:ab}]},wb={version:se,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[vb,Gd],userComponents:[{name:"agTextColumnFloatingFilter",classImp:db},{name:"agNumberColumnFloatingFilter",classImp:cb},{name:"agDateColumnFloatingFilter",classImp:rb}]},vf={version:se,moduleName:"@ag-grid-community/quick-filter-core",beans:[gb],dependantModules:[Vd]},yb={version:se,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:ub,getQuickFilter:hb,resetQuickFilter:pb},dependantModules:[vf]},Sb={version:se,moduleName:"@ag-grid-community/quick-filter",dependantModules:[vf,yb]},xb={version:se,moduleName:"@ag-grid-community/filter",dependantModules:[wb,Cb,Sb,mb]},Hd=class extends ye{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},bb=class extends Hd{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=Y,this.eButtonWrapper=Y,this.eButtonShowMainFilter=Y}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>He(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},Eb=class extends Hd{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=Y,this.eHeaderCompWrapper=Y,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){let e=this.getGui();((n,o)=>{o!=null&&o!=""?e.setAttribute(n,o):e.removeAttribute(n)})("col-id",this.column.getColId());let i={setWidth:n=>e.style.width=n,addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setAriaSort:n=>n?eS(e,n):tS(e),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);let s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},Fb=class extends Hd{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=Y}postConstruct(){let e=this.getGui(),t=(s,n)=>n!=null?e.setAttribute(s,n):e.removeAttribute(s);e.setAttribute("col-id",this.ctrl.getColId());let i={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setResizableDisplayed:s=>He(this.eResize,s),setWidth:s=>e.style.width=s,setAriaExpanded:s=>t("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let i=this.getGui(),s=e.getGui();i.appendChild(s),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};var Rb=class extends ye{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){bg(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},e.forEach(s=>{let n=s.getInstanceId(),o=i[n];delete i[n],o==null&&(o=this.createHeaderComp(s),this.getGui().appendChild(o.getGui())),this.headerComps[n]=o}),oi(i,(s,n)=>{this.getGui().removeChild(n.getGui()),this.destroyBean(n)}),t){let s=Ts(this.headerComps);s.sort((o,r)=>{let a=o.getCtrl().getColumnGroupChild().getLeft(),l=r.getCtrl().getColumnGroupChild().getLeft();return a-l});let n=s.map(o=>o.getGui());Og(this.getGui(),n)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Fb(e);break;case"filter":t=new bb(e);break;default:t=new Eb(e);break}return this.createBean(t),t.setParentComponent(this),t}};var Db=class extends P{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});let e=this.gos.getDocument();this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){let e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;let n=this.ctrlsService.getHeaderRowContainerCtrl().getAllCtrls(),o=we(n).getType()==="filter",r=this.getHeaderRowCount()-1,a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&o&&c===r-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;let{headerRowIndex:s}=t,n=t.column,o=this.getHeaderRowCount(),r=e===0,{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=r?this.headerPositionUtils.getColumnVisibleParent(n,s):this.headerPositionUtils.getColumnVisibleChild(n,s),d=!1;return a<0&&(a=0,l=n,d=!0),a>=o?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){let s=this.focusService.getFocusedHeader(),n=e===2,o=this.gos.get("enableRtl"),r,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,n!==o?(a="Before",r=this.headerPositionUtils.findHeader(s,a)):(a="After",r=this.headerPositionUtils.findHeader(s,a)),r||!t)return this.focusService.focusHeaderPosition({headerPosition:r,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){let l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:r,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){let s=e.headerRowIndex,n=null,o;if(t==="Before"?s>0&&(o=s-1,this.currentHeaderRowWithoutSpan-=1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),n=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!n)return!1;let{column:r,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(n.column,n?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Qe(e)){let s=e.getDisplayedLeafColumns();i=t==="Before"?we(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},Tb=class extends P{wireBeans(e){this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Is(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();let s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let{columnModel:e}=this,t=0,i=e.getHeaderRowCount(),s;this.filterManager?.hasFloatingFilters()&&(i++,t=1);let o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),a=1+t,l=i-a;if(s=t*e.getFloatingFiltersHeight(),s+=l*o,s+=r,this.headerHeight===s)return;this.headerHeight=s;let c=`${s+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){let e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){let t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case I.LEFT:t=2;case I.RIGHT:{G(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break}case I.UP:t=0;case I.DOWN:{G(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;let{target:s}=e??t;(s===this.eGui||s===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!ns())return;let t=new ts(this.eGui),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},Wd=class extends P{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=this.gos.isDomLayout("print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth(),n;e?n=t+i+s:(n=t,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(n+=this.gos.getScrollbarWidth())),this.callback(n)}},Ab=class extends P{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function zd(e){let{isFromHeader:t,hDirection:i,xPosition:s,fromEnter:n,fakeEvent:o,pinned:r,gos:a,columnModel:l,columnMoveService:c,presentedColsService:d}=e,u=i===0,h=i===1,{allMovingColumns:p}=e;if(t){let S=[];p.forEach(D=>{let T=null,_=D.getParent();for(;_!=null&&_.getDisplayedLeafColumns().length===1;)T=_,_=_.getParent();T!=null?(!!T.getColGroupDef()?.marryChildren?T.getProvidedColumnGroup().getLeafColumns():T.getLeafColumns()).forEach(z=>{S.includes(z)||S.push(z)}):S.includes(D)||S.push(D)}),p=S}let g=p.slice();l.sortColsLikeCols(g);let v=_b({movingCols:g,draggingRight:h,xPosition:s,pinned:r,gos:a,columnModel:l,presentedColsService:d}),C=Ib(g,l);if(v.length===0)return;let f=v[0],m=C!==null&&!n;if(t&&(m=C!==null),m&&!o&&(u&&f>=C||h&&f<=C))return;let w=d.getAllCols(),y=[],E=null;for(let S=0;S<v.length;S++){let D=v[S],T=c.getProposedColumnOrder(g,D);if(!c.doesOrderPassRules(T))continue;let _=T.filter(M=>w.includes(M));if(E===null)E=_;else if(!ss(_,E))break;let Q=Pb(T);y.push({move:D,fragCount:Q})}if(y.length!==0)return y.sort((S,D)=>S.fragCount-D.fragCount),wf(p,y[0].move,"uiColumnMoved",!1,c)}function wf(e,t,i,s,n){return n.moveColumns(e,t,i,s),s?null:{columns:e,toIndex:t}}function Ib(e,t){let i=t.getCols(),s=ny(e.map(l=>i.indexOf(l))),n=s[0];return we(s)-n!==s.length-1?null:n}function Pb(e){function t(s){let n=[],o=s.getOriginalParent();for(;o!=null;)n.push(o),o=o.getOriginalParent();return n}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),o=t(e[s+1]);[n,o]=n.length>o.length?[n,o]:[o,n],n.forEach(r=>{o.indexOf(r)===-1&&i++})}return i}function Mb(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function _b(e){let{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:o,columnModel:r,presentedColsService:a}=e;if(o.get("suppressMovableColumns")||t.some(w=>w.getColDef().suppressMovable))return[];let c=Mb(a,n),d=r.getCols(),u=c.filter(w=>bs(t,w)),h=c.filter(w=>!bs(t,w)),p=d.filter(w=>!bs(t,w)),g=0,v=s;if(i){let w=0;u.forEach(y=>w+=y.getActualWidth()),v-=w}if(v>0){for(let w=0;w<h.length;w++){let y=h[w];if(v-=y.getActualWidth(),v<0)break;g++}i&&g++}let C;if(g>0){let w=h[g-1];C=p.indexOf(w)+1}else C=p.indexOf(h[0]),C===-1&&(C=0);let f=[C],m=(w,y)=>w-y;if(i){let w=C+1,y=d.length-1;for(;w<=y;)f.push(w),w++;f.sort(m)}else{let w=C,y=d.length-1,E=d[w];for(;w<=y&&c.indexOf(E)<0;)w++,f.push(w),E=d[w];w=C-1;let S=0;for(;w>=S;)f.push(w),w--;f.sort(m).reverse()}return f}function Ud(e,t,i,s,n){let o=n.getHeaderRowContainerCtrl(t).getViewport();return i&&(e-=o.getBoundingClientRect().left),s.get("enableRtl")&&(e=o.clientWidth-e),t==null&&(e+=n.get("center").getCenterViewportScrollLeft()),e}var Lb=class extends P{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!G(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){return this.pinned?"pinned":"move"}onDragEnter(e){let t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{let s=e.dragItem.visibleState,n=(t||[]).filter(o=>s[o.getId()]);this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){let s=e.filter(n=>!n.getColDef().lockVisible);this.columnModel.setColsVisible(s,t,i)}}setColumnsPinned(e,t,i){if(e){let s=e.filter(n=>!n.getColDef().lockPinned);this.columnModel.setColsPinned(s,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){let t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>s-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){if(s){if(this.lastMovedInfo){let{columns:c,toIndex:d}=this.lastMovedInfo;wf(c,d,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=e,xe(e.hDirection))return;let n=Ud(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(n);let o=this.normaliseDirection(e.hDirection),r=e.dragSource.type,a=e.dragSource.getDragItem().columns?.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0)||[],l=zd({allMovingColumns:a,isFromHeader:r===1,hDirection:o,xPosition:n,pinned:this.pinned,fromEnter:t,fakeEvent:i,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});l&&(this.lastMovedInfo=l)}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:ke(`Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon("move"))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let n=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);if(n.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){let o=this.needToMoveLeft?"left":"right";this.setColumnsPinned(n,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},Ob=class extends P{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new Lb(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Ab(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}},Bb=class extends P{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){let e=[],t,i,s=()=>{if(He(this.eResize,t),!t)return;let r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(r),i){let a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);let c=new ts(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},n=()=>{e.forEach(r=>r()),e.length=0},o=()=>{let r=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||a!==i)&&(t=r,i=a,n(),s())};o(),this.addDestroyFunc(n),this.ctrl.addRefreshFunction(o)}onResizing(e,t){let{column:i,lastResizeAmount:s,resizeStartWidth:n}=this,o=this.normaliseResizeAmount(t),r=n+o,a=[{key:i,newWidth:r}];if(this.column.getPinned()){let l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=Bo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(o-s)>d)return}this.lastResizeAmount=o,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},kb=class extends P{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new ha),this.cbSelectAll.addCssClass("ag-header-select-all"),bt(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),xd(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);let t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${s} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gos.get("rowSelection")==="multiple"?!0:(L(`${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){let t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(L(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly(),s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");let n={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){let t=e,i=this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=t(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Nb=class extends ga{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(s),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Bb(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Nd([this.column],t)),this.createManagedBean(new kd(this.column,t,this.beans)),this.createManagedBean(new Is(t,{shouldStopEventPropagation:n=>this.shouldStopEventPropagation(n),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(e,t){if(!this.column.isResizable())return;let i=this.column.getActualWidth(),s=this.column.getMinWidth(),n=this.column.getMaxWidth(),o=Math.min(Math.max(i+e,s),n);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],t,!0,"uiColumnResized")}moveHeader(e){let{eGui:t,column:i,gos:s,ctrlsService:n}=this,o=this.getPinned(),r=t.getBoundingClientRect().left,a=i.getActualWidth(),l=s.get("enableRtl"),d=Ud(e===0!==l?r-20:r+a+20,o,!0,s,n);zd({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:d,pinned:o,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){let e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,i)=>{this.beans.sortController.setSortForColumn(this.column,t,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,i)=>{this.setupTooltip(t,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new kb(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===I.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===I.ENTER&&this.onEnterKeyDown(e),e.key===I.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){let t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();!i||!(i instanceof dd)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){let t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,n=this.column.getColDef();!t&&i&&!n.headerComponent&&(t=()=>{let a=s.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});let o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},r=this.createManagedBean(new fn(o));this.refreshFunctions.push(()=>r.refreshToolTip())}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),i=uf(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{s.has(n)?s.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let{column:t,beans:i,displayName:s,dragAndDropService:n,gos:o}=this,{columnModel:r}=i,a=!this.gos.get("suppressDragLeaveHidesColumns"),l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];r.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];r.setColsVisible(d,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){let e=()=>{let t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(){let e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(){let e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(){let e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){let e=()=>{let t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:s}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:n,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);let{columnModel:r}=s,a=r.getColumnHeaderRowHeight();if(n===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",o);let c=r.isPivotMode()?r.getPivotGroupHeaderHeight():r.getGroupHeaderHeight(),d=n*c;e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${a+d}px`)}setupAutoHeight(e){let{columnModel:t,resizeObserverService:i}=this.beans,s=c=>{if(!this.isAlive())return;let{paddingTop:d,paddingBottom:u,borderBottomWidth:h,borderTopWidth:p}=As(this.getGui()),g=d+u+h+p,C=e.offsetHeight+g;if(c<5){let f=this.beans.gos.getDocument(),m=!f||!f.contains(e),w=C==0;if(m||w){window.setTimeout(()=>s(c+1),0);return}}t.setColHeaderHeight(this.column,C)},n=!1,o,r=()=>{let c=this.column.isAutoHeaderHeight();c&&!n&&a(),!c&&n&&l()},a=()=>{n=!0,s(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=i.observeResize(e,()=>s(0))},l=()=>{n=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};r(),this.addDestroyFunc(()=>l()),this.addManagedListeners(this.column,{widthChanged:()=>n&&s(0)}),this.addManagedEventListeners({sortChanged:()=>{n&&window.setTimeout(()=>s(0))}}),this.addRefreshFunction(r)}refreshAriaSort(){if(this.sortable){let e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(zy(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){let e=()=>{if(!this.gos.get("columnHoverHighlight"))return;let t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){let e=s=>this.handleMouseOverChange(s.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:t,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e);let i={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column};this.eventService.dispatchEvent(i)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return t instanceof dd?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Vb=class extends P{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){let t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let i=[];this.columnGroup.getDisplayedLeafColumns().forEach(n=>{n.getColDef().suppressAutoSize||i.push(n.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){let t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){let t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s=this.getSizeRatiosOfColumns(t,i),n={columnsToResize:t,resizeStartWidth:i,resizeRatios:s},o=null;if(e&&(o=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),o){let r=o.getDisplayedLeafColumns(),a=n.groupAfterColumns=r.filter(c=>c.isResizable()),l=n.groupAfterStartWidth=this.getInitialSizeOfColumns(a);n.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:o,groupAfterRatios:r}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){let t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){let{columnsToResize:n,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:n,ratios:r,width:t}),a){let u=t-o;d.push({columns:a,ratios:c,width:l-u})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Gb=class extends P{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Hb=class extends ga{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let s=this.getGui();this.setDragSource(s)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();let s=this.getParentRowCtrl().getPinned(),n=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Nd(n,t)),this.createManagedBean(new kd(this.column,t,this.beans)),this.createManagedBean(new Gb(e,this.column)),this.resizeFeature=this.createManagedBean(new Vb(e,i,s,this.column)),this.createManagedBean(new Is(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;let i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){let{beans:t,eGui:i,column:s,gos:n,ctrlsService:o}=this,r=n.get("enableRtl"),a=e===0,l=this.getPinned(),c=i.getBoundingClientRect(),d=c.left,u=c.width,h=Ud(a!==r?d-20:d+u+20,l,!0,n,o),p=s.getGroupId(),g=this.focusService.getFocusedHeader();zd({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});let v=s.getDisplayedLeafColumns(),C=a?v[0]:we(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&g&&this.restoreFocus(p,s,g)}restoreFocus(e,t,i){let s=t.getLeafColumns();if(!s.length)return;let n=s[0].getParent();if(!n)return;let o=this.findGroupWidthId(n,e);o&&this.focusService.focusHeaderPosition({headerPosition:J(R({},i),{column:o})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,s)=>{this.setupTooltip(i,s)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){let e=s=>this.handleMouseOverChange(s.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:t,contextmenu:i})}handleMouseOverChange(e){let i={type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!t&&s&&!i?.headerGroupComponent&&(t=()=>{let r=n.querySelector(".ag-header-group-text");return r?r.scrollWidth>r.clientWidth:!0});let o={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(i&&i.headerTooltip),shouldDisplayTooltip:t};i&&(o.getColDef=()=>i),this.createManagedBean(new fn(o))}setupExpandable(){let e=this.column.getProvidedColumnGroup();this.refreshExpanded();let t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let e=this.column.getColGroupDef(),t=uf(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){let t=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(s=>{this.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){let t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===I.ENTER){let i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;let{beans:t,column:i,displayName:s,gos:n,dragAndDropService:o}=this,{columnModel:r}=t,a=i.getProvidedColumnGroup().getLeafColumns(),l=!n.get("suppressDragLeaveHidesColumns"),c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),a.forEach(d=>d.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(d=>d.setMoving(!1,"uiColumnDragged")),onGridEnter:d=>{if(l){let u=d?.columns?.filter(h=>!h.getColDef().lockVisible)||[];r.setColsVisible(u,!0,"uiColumnMoved")}},onGridExit:d=>{if(l){let u=d?.columns?.filter(h=>!h.getColDef().lockVisible)||[];r.setColsVisible(u,!1,"uiColumnMoved")}}};o.addDragSource(c,!0)}getDragItemForGroup(e){let t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(n=>i[n.getId()]=n.isVisible());let s=[];return this.beans.visibleColsService.getAllCols().forEach(n=>{t.indexOf(n)>=0&&(s.push(n),_t(t,n))}),t.forEach(n=>s.push(n)),{columns:s,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},Wb=0,qc=class extends P{constructor(e,t,i){super(),this.instanceId=Wb++,this.rowIndex=e,this.pinned=t,this.type=i;let s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){let e=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:t=>this.onVirtualColumnsChanged(t.afterScroll),columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Zr(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{columnModel:e,filterManager:t}=this.beans,i=e.getHeaderRowCount(),s=[],n=0;t?.hasFloatingFilters()&&(i++,n=1);let o=e.getColumnGroupHeaderRowHeight(),r=e.getColumnHeaderRowHeight(),a=1+n,l=i-a;for(let u=0;u<l;u++)s.push(o);s.push(r);for(let u=0;u<n;u++)s.push(e.getFloatingFiltersHeight());let c=0;for(let u=0;u<this.rowIndex;u++)c+=s[u];let d=s[this.rowIndex];return{topOffset:c,rowHeight:d}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){let t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map;let t=this.getColumnsInViewport();for(let s of t)this.recycleAndCreateHeaderCtrls(s,e);let i=s=>{let{focusService:n,visibleColsService:o}=this.beans;return n.isHeaderWrapperFocused(s)?o.isVisible(s.getColumnGroupChild()):!1};if(e)for(let[s,n]of e)i(n)?this.headerCellCtrls.set(s,n):this.destroyBean(n);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;let i=e.getUniqueId(),s;if(t&&(s=t.get(i),t.delete(i)),s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":s=this.createBean(new Hb(e,this.beans,this));break;default:s=this.createBean(new Nb(e,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{let n=i.getHeadersToRender(s,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){return this.headerCellCtrls?this.getHeaderCellCtrls().find(s=>s.getColumnGroupChild()==e):void 0}focusHeader(e,t){let i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},zb=class extends P{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);let i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let t=new Ad,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{let a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){let c=this.createBean(new qc(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},n=()=>{let a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new qc(a,this.pinned,"column")))},o=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;let a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}let l=t.next();if(this.filtersRowCtrl){let c=this.filtersRowCtrl.getRowIndex()!==l;(!e||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new qc(l,this.pinned,"filter")))};s(),n(),o();let r=this.getAllCtrls();this.comp.setCtrls(r),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(is(e))return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){let i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){let t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){let i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){let n=this.getAllCtrls()[e];return n?n.focusHeader(t,i):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){let t=new Ob(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;let{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Wd(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;let e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;let i=()=>{let s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;let n=s==0,o=this.hidden!==n,r=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)?s+a:s;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!n),o&&(this.hidden=n,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},Ub='<div class="ag-pinned-left-header" role="rowgroup"></div>',jb='<div class="ag-pinned-right-header" role="rowgroup"></div>',$b=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,Yc=class extends ye{constructor(e){super(),this.eCenterContainer=Y,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new zb(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",i=e?Ub:t?jb:$b;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==Y?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,s=n=>{let o=n.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&Lg(this.eRowContainer,o,i),i=o};e.forEach(n=>{let o=n.getInstanceId(),r=t[o];delete t[o];let a=r||this.createBean(new Rb(n));this.headerRowComps[o]=a,this.rowCompsList.push(a),s(a)}),Ts(t).forEach(n=>this.destroyRowComp(n))}},Kb=class extends ye{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let e={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new Tb).setComp(e,this.getGui(),this.getFocusableElement());let i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new Yc("left")),i(new Yc(null)),i(new Yc("right"))}},qb={selector:"AG-HEADER-ROOT",component:Kb};var jd=class extends P{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){let e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(L(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},Yb=class extends ye{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Y,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null}wireBeans(e){this.overlayService=e.overlayService}updateLayoutClasses(e,t){let i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new jd(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i){this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.activePromise=e,e?.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s&&this.activeOverlay!=s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,i)){let n=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{n.refresh?.(this.gos.addGridCommonParams(R({},o??{})))})}}),this.setDisplayed(!0,{skipAriaHidden:!0})}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;this.activeOverlay=null;let t=this.updateListenerDestroyFunc;t&&(t(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ut(this.eOverlayWrapper)}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}},Qb={selector:"AG-OVERLAY-WRAPPER",component:Yb},yf=class extends ye{constructor(e,t){super(),this.direction=t,this.eViewport=Y,this.eContainer=Y,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Dg()||ns())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Ag(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){let t=this.getViewport();yy(()=>ai(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewport(),{scroll:e})}},Xb=class extends yf{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Y,this.eRightSpacer=Y}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Wd(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.visibleColsService.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,s=this.gos.getScrollbarWidth();i&&(t+=s),ri(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(n+=s),ri(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){let e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.gos.getScrollbarWidth()||0,o=i?0:s===0&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),To(this.getGui(),o),To(this.eViewport,o),To(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return aa(this.getViewport(),this.enableRtl)}setScrollPosition(e){ai(this.getViewport())||this.attemptSettingScrollPosition(e),la(this.getViewport(),e,this.enableRtl)}},Zb={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:Xb},Sf=class extends P{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){let e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Jb=class extends yf{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Sf(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gos.getScrollbarWidth()||0,s=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ri(this.getGui(),s),ri(this.eViewport,s),ri(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,t){!t&&!ai(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}},e1={selector:"AG-FAKE-VERTICAL-SCROLL",component:Jb},t1=class extends P{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ot(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ot(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){let{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this)}),e.onScrollCallback(this.onFakeHScroll.bind(this));let i=this.gos.get("debounceVerticalScrollbar"),s=i?Ot(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=i?Ot(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedElementListeners(this.eBodyViewport,{scroll:s}),t.onScrollCallback(n)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowsCtrl==null)return;e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());let i=this.enableRtl?e:-e,{topCenter:s,stickyTopCenter:n,stickyBottomCenter:o,centerHeader:r,bottomCenter:a,fakeHScrollComp:l}=this.ctrlsService.getParams();r.setHorizontalScroll(-i),a.setContainerTranslateX(i),s.setContainerTranslateX(i),n.setContainerTranslateX(i),o.setContainerTranslateX(i);let c=this.centerRowsCtrl.getViewportElement(),d=this.lastScrollSource[1]===0;e=Math.abs(e),d?l.setScrollPosition(e):la(c,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){let t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let s;e===0?s=aa(t,this.enableRtl):s=this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(s)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;e===0?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===0?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){let t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{let i=J(R({},t),{type:"bodyScrollEnd"});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!ns()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=Rd(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&ra()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){let s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&ra()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),la(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let i=this.rowModel.getRowCount(),s=-1;for(let n=0;n<i;n++){let o=this.rowModel.getRow(n);if(typeof e=="function"){if(o&&e(o)){s=n;break}}else if(e===o||e===o.data){s=n;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;let i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){L("Invalid row index for ensureIndexVisible: "+e);return}let n=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{n||this.paginationService?.goToPageWithIndex(e);let o=this.ctrlsService.getGridBodyCtrl(),r=o.getStickyTopHeight(),a=o.getStickyBottomHeight(),l=this.rowModel.getRow(e),c;do{let d=l.rowTop,u=l.rowHeight,h=this.pageBoundsService.getPixelOffset(),p=l.rowTop-h,g=p+l.rowHeight,v=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),f=v.top+C,m=v.bottom+C,w=m-f,y=this.heightScaler.getScrollPositionForPixel(p),E=this.heightScaler.getScrollPositionForPixel(g-w),S=Math.min((y+E)/2,p),D=f+r>p,T=m-a<g,_=null;t==="top"?_=y:t==="bottom"?_=E:t==="middle"?_=S:D?_=y-r:T&&(_=E+a),_!==null&&(this.setVerticalScrollPosition(_),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;let s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl,a=(r?i:s)||n,l=r?s:i;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-o/2:a?r?h:d:r?d-o:h-o}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>n:i<n,a=o?i<s:t>s;return{columnBeforeStart:r,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),n=e.getLeft(),o=t?-1:1,r=t?i-n:n,a=r+s*o,l=r+s/2*o;return{colLeft:r,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},xf="ag-force-vertical-scroll",i1="ag-selectable",s1="ag-column-moving",n1=class extends P{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,n,o,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=o,this.eStickyBottom=r,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new jd(this.comp)),this.bodyScrollFeature=this.createManagedBean(new t1(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,o,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager?.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:this.setFloatingHeights.bind(this),pinnedHeightChanged:this.setFloatingHeights.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{let{target:s}=i,n=dn(s,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:i=>{let{target:s,relatedTarget:n}=i,o=t.contains(n),r=dn(n,"ag-root",t);dn(s,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(s1,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(i1,e)}onScrollVisibilityChanged(){let e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();let t=e&&this.gos.getScrollbarWidth()||0,i=Ag()?16:0,s=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s))}onGridColumnsChanged(){let e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let e=i=>{let s=i.relatedTarget;if(cd(s)===null){this.rowRenderer.stopEditing();return}let n=t.some(o=>o.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!n){let o=this.popupService;n=o.getActivePopups().some(r=>r.contains(s))||o.isElementWithinCustomPopup(s)}n||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){let e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?xf:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&uS(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes(),t=()=>{let i=e&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){let e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedElementListeners(e,{wheel:i=>this.onFullWidthContainerWheel(i,t)})}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!ns())return;let t=new ts(this.eBodyViewport),i=s=>{e(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new dx(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight(),s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){let e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0,s=e+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(e,t){let s=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,o=Bo(this.eGridBody)-s;if(o>0){this.columnSizeService.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):L("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},o1=class extends ye{constructor(e,t,i,s,n){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.cellCtrl=t;let o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);let r=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let a=(d,u)=>{u!=null&&u!=""?r.setAttribute(d,u):r.removeAttribute(d)};bt(r,t.getCellAriaRole()),a("col-id",t.getColumnIdSanitised());let l=t.getTabIndex();l!==void 0&&a("tabindex",l.toString());let c={addOrRemoveCssClass:(d,u)=>this.addOrRemoveCssClass(d,u),setUserStyles:d=>Bg(r,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,u,h)=>this.setRenderDetails(d,u,h),setEditDetails:(d,u,h)=>this.setEditDetails(d,u,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(c,this.getGui(),this.eCellWrapper,i,n)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let n=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||n)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&this.eCellWrapper==null;if(s){let c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}let n=!i&&this.eCellWrapper!=null;n&&(vi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);let o=!e&&i,r=o&&this.eCellValue==null;if(r){let c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}let a=!o&&this.eCellValue!=null;a&&(vi(this.eCellValue),this.eCellValue=void 0);let l=s||n||r||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){let s=this.editorVersion,n=e.newAgStackInstance();if(n==null)return;let{params:o}=e;n.then(a=>this.afterCellEditorCreated(s,a,o,t,i)),xe(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();ut(t);let i=e!=null?wi(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),vi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),vi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:n}=e,o=()=>{if(this.rendererVersion!==s||!this.isAlive())return;let a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,n);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let n=this.getParentOfValue();ut(n),n.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,s,n){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){L(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let a=s||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,n):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss(e)}addInCellEditor(){let e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&L("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));let s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);let n=this.beans.popupService,o=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),r=t??(i.getPopupPosition?i.getPopupPosition():"over"),a=this.beans.gos.get("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:r,alignSide:a?"right":"left",keepWithinBounds:!0},c=n.positionPopupByComponent.bind(n,l),d=this.beans.localeService.getLocaleTextFunc(),u=n.addPopup({modal:o,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&ld()&&e.focus({preventScroll:!0}),ut(this.getParentOfValue())}},r1=class extends ye{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;let s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);let n=this.getGui(),o=n.style;this.domOrder=this.rowCtrl.getDomOrder(),bt(n,"row");let r=this.rowCtrl.getTabIndex();r!=null&&n.setAttribute("tabindex",r.toString());let a={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>Bg(n,l),setTop:l=>o.top=l,setTransform:l=>o.transform=l,setRowIndex:l=>n.setAttribute("row-index",l),setRowId:l=>n.setAttribute("row-id",l),setRowBusinessKey:l=>n.setAttribute("row-business-key",l),refreshFullWidth:l=>this.refreshFullWidth(l)};e.setComp(a,this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){let t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let t=s=>{if(this.isAlive()){let n=s.getGui();this.getGui().appendChild(n),this.rowCtrl.setupDetailRowAutoHeight(n),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)},i=e.newAgStackInstance();i&&i.then(t)}setCellCtrls(e){let t=Object.assign({},this.cellComps);e.forEach(s=>{let n=s.getInstanceId();this.cellComps[n]==null?this.newCellComp(s):t[n]=null});let i=Ts(t).filter(s=>s!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];e.forEach(i=>{let s=this.cellComps[i.getInstanceId()];s&&t.push(s.getGui())}),Og(this.getGui(),t)}newCellComp(e){let t=new o1(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let e=Ts(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&ke("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;let i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}refreshFullWidth(e){let{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;let i=e();return t.refresh(i)}},a1=class extends P{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.getBodyViewportElement(),t=Bo(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50),s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){let t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=t+i;if(s<e)return[];let n=[...this.visibleColsService.getLeftCols()],o=[...this.visibleColsService.getRightCols()],r=0,a=0,l=0,c=[],d=s-l-e;for(;(a<n.length||r<o.length)&&d>0;){if(r<o.length){let u=o[r++];d-=u.getActualWidth(),c.push(u)}if(a<n.length&&d>0){let u=n[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.getBodyViewportElement(),t=Rd(e);if(this.bodyHeight!==t){this.bodyHeight=t;let i={type:"bodyHeightChanged"};this.eventService.dispatchEvent(i)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},l1=class extends P{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{if(t.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},c1=class extends ye{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Pd]),this.eCheckbox=Y}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=bd(e,t),[s,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(s,n);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>un(s),click:s=>{un(s);let n=this.gos.get("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,n)?this.onClicked(!0,n,s||{})===0&&this.onClicked(!1,n,s):o?this.onClicked(!1,n,s):this.onClicked(!0,n,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.gos.get("isRowSelectable")||typeof this.getIsVisible()=="function"){let s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){let e=this.rowNode.selectable,t=this.getIsVisible();if(e)if(typeof t=="function"){let s=this.overrides?.callbackParams;if(!this.column)e=t(J(R({},s),{node:this.rowNode,data:this.rowNode.data}));else{let n=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t(R(R({},s),n))}}else e=t??!1;if(this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){return this.overrides?this.overrides.isVisible:this.column?.getColDef()?.checkboxSelection}},d1=class extends ye{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Bt("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let i=()=>{try{let s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(t){let s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(s)}else i()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},u1=class extends P{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=t}applyUserStyles(){let e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){let i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=e.cellStyle;t=s(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){let e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},h1=class extends P{constructor(e,t,i,s,n){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=n}setComp(e){this.eGui=e}onKeyDown(e){let t=e.key;switch(t){case I.ENTER:this.onEnterKeyDown(e);break;case I.F2:this.onF2KeyDown(e);break;case I.ESCAPE:this.onEscapeKeyDown(e);break;case I.TAB:this.onTabKeyDown(e);break;case I.BACKSPACE:case I.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case I.DOWN:case I.UP:case I.RIGHT:case I.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:s,rowNode:n}=this,{gos:o,rangeService:r,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),_x(e,o.get("enableCellEditingOnBackspace"))){if(r&&o.get("enableRangeSelection"))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let l=i.getColumn(),c=this.beans.valueService.parseValue(l,n,"",n.getValueFromValueService(l))??null;n.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let t=e.shiftKey?I.UP:I.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(I.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(I.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let s=e.key;s===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(s,e),e.preventDefault())}onSpaceKeyDown(e){let{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){let i=this.rowNode.isSelected(),s=!i;if(s||!t.get("suppressRowDeselection")){let n=this.beans.gos.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"});i===void 0&&o===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},p1=class extends P{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!es(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:t,rangeService:i,gos:s}=this.beans,n=e.ctrlKey||e.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);let o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);let r=this.column.getColDef();r.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellClicked(o)})},0),(s.get("singleClickEdit")||r.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&i?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!ns()||gg("dblclick"))return!1;let e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:s}=this,{eventService:n,frameworkOverrides:o,gos:r}=i,a=t.getColDef(),l=s.createEvent(e,"cellDoubleClicked");n.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:o,beans:r}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=r;if(this.isRightClickInExistingRange(e))return;let u=l&&l.getCellRanges().length!=0;if(!s||!u){let p=d.get("enableCellTextSelection")&&e.defaultPrevented,g=(Li()||p)&&!o.isEditing()&&!Fd(n);o.focusCell(g)}if(s&&u&&!c.isCellFocused(o.getCellPosition())){e.preventDefault();let h=c.getFocusedCell();if(h){let{column:p,rowIndex:g,rowPinned:v}=h,f=r.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:v})?.getCellCtrl(p);f?.isEditing()&&f.stopEditing(),c.setFocusedCell({column:p,rowIndex:g,rowPinned:v,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){let h=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(h);else{let p=t||i;l.setRangeToCell(h,p)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeService:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return dn(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let t=this.cellCtrl.createEvent(e,"cellMouseOut");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let t=this.cellCtrl.createEvent(e,"cellMouseOver");this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},g1=class extends P{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();ss(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column,s=this.column.getPinned();for(let n=0;i&&n<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||xe(i)||s!==i.getPinned()));n++);}return t}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=we(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;let t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},f1=(e=>(e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE",e))(f1||{}),m1=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(m1||{}),xo="ag-cell-range-selected",C1="ag-cell-range-chart",v1="ag-cell-range-single-cell",w1="ag-cell-range-chart-category",y1="ag-cell-range-handle",S1="ag-cell-range-top",x1="ag-cell-range-right",b1="ag-cell-range-bottom",E1="ag-cell-range-left",F1=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(xo,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${xo}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${xo}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${xo}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${xo}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(C1,this.hasChartRange),na(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(v1,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,n=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass(S1,i),this.cellComp.addOrRemoveCssClass(x1,s),this.cellComp.addOrRemoveCssClass(b1,n),this.cellComp.addOrRemoveCssClass(E1,o)}isSingleCell(){let{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let t=e.getCellRanges();return t.length>0&&t.every(i=>bs([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e=this.beans.gos.get("enableRtl"),t=!1,i=!1,s=!1,n=!1,o=this.cellCtrl.getCellPosition().column,r=this.beans.visibleColsService,a,l;e?(a=r.getColAfter(o),l=r.getColBefore(o)):(a=r.getColBefore(o),l=r.getColAfter(o));let c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(n=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&s&&n);d++){let u=c[d],h=this.rangeService.getRangeStartRow(u),p=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(s=!0),!n&&a&&u.columns.indexOf(a)<0&&(n=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:n}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(y1,!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;let s=we(t),n=this.cellCtrl.getCellPosition(),o=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),r=e.get("enableRangeHandle"),a=i===1&&!this.cellCtrl.isEditing()&&(o||r);if(this.hasChartRange){let c=t[0].type===1&&this.rangeService.isCellInSpecificRange(n,t[0]);this.cellComp.addOrRemoveCssClass(w1,c),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,n)}addSelectionHandle(){let e=this.beans.gos,t=we(this.rangeService.getCellRanges()).type,s=e.get("enableFillHandle")&&xe(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},R1="ag-cell",D1="ag-cell-auto-height",T1="ag-cell-normal-height",A1="ag-cell-focus",I1="ag-cell-first-right-pinned",P1="ag-cell-last-left-pinned",M1="ag-cell-not-inline-editing",_1="ag-column-hover",L1="ag-cell-wrap-text",O1=0,B1=(()=>{let e=class gd extends P{constructor(i,s,n,o){super(),this.column=i,this.rowNode=s,this.beans=n,this.rowCtrl=o,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=i.getId()+"-"+O1++,this.colIdSanitised=wi(this.column.getId()),n.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new g1(this,this.beans),this.addDestroyFunc(()=>{this.cellPositionFeature?.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new u1(this,this.beans),this.addDestroyFunc(()=>{this.cellCustomStyleFeature?.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new p1(this,this.beans,this.column),this.addDestroyFunc(()=>{this.cellMouseListenerFeature?.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new h1(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{this.cellKeyboardListenerFeature?.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new F1(this.beans,this),this.addDestroyFunc(()=>{this.cellRangeFeature?.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(i,s){let n=()=>{let a=this.column.getColDef(),l=this.rowNode.data;if(a.tooltipField&&G(l))return Do(l,a.tooltipField,this.column.isTooltipFieldContainsDots());let c=a.tooltipValueGetter;return c?c(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},o=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!s&&o&&!this.isCellRenderer()&&(s=()=>{let a=this.getGui(),l=a.children.length===0?a:a.querySelector(".ag-cell-value");return l?l.scrollWidth>l.clientWidth:!0});let r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:i!=null?()=>i:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:s};this.tooltipFeature=new fn(r,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(i,s,n,o,r){this.cellComp=i,this.eGui=s,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(s),this.cellCustomStyleFeature?.setComp(i),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,s),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(a=>a()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!i)return;let s=i.parentElement,n=this.beans.gos.getRowHeightForNode(this.rowNode).height,o=l=>{if(this.editing||!this.isAlive())return;let{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:h}=As(s),p=c+d+u+h,v=i.offsetHeight+p;if(l<5){let f=this.beans.gos.getDocument(),m=!f||!f.contains(i),w=v==0;if(m||w){window.setTimeout(()=>o(l+1),0);return}}let C=Math.max(v,n);this.rowNode.setRowAutoHeight(C,this.column)},r=()=>o(0);r();let a=this.beans.resizeObserverService.observeResize(i,r);this.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){let i=this.column.getColDef();return i.cellRenderer!=null||i.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(i=!1){let s=this.getValueToDisplay(),n;if(this.rowNode.stub){let o=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),o)}else if(this.isCellRenderer()){let o=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(n,s,i),this.cellRangeFeature?.refreshHandle()}setupControlComps(){let i=this.column.getColDef();this.includeSelection=this.isIncludeControl(i.checkboxSelection),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(i){return this.rowNode.rowPinned!=null?!1:typeof i=="function"||i===!0}refreshShouldDestroy(){let i=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(i.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),o=this.includeDndSource!=this.isIncludeControl(i.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return s||n||o||r}startEditing(i=null,s=!1,n=null){let{editService:o}=this.beans;if(!(!this.isCellEditable()||this.editing||!o)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(i,s,n)});return}o.startEditing(this,i,s,n)}}setEditing(i,s){this.editCompDetails=s,this.editing!==i&&(this.editing=i,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(i=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(i):this.stopEditing(i)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(i=!1){let{editService:s}=this.beans;return!this.editing||!s?!1:s.stopEditing(this,i)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:s=>this.beans.valueService.setValue(this.rowNode,this.column,s),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(s,n,o,r)=>this.registerRowDragger(s,n,r),setTooltip:(s,n)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(s,n),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(i){i.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(i){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(i)}refreshCell(i){if(this.suppressRefreshCell||this.editing)return;let s=this.column.getColDef(),n=i!=null&&!!i.newData,o=i!=null&&!!i.suppressFlash||!!s.suppressCellFlash,r=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,a=i&&i.forceRefresh||r||n,l=!!this.cellComp,c=this.updateAndFormatValue(l),d=a||c;if(l){if(d){this.showValue(n);let u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!o&&!u&&(this.beans.gos.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(i=!1,s=!1){this.beans.editService?.stopEditingAndFocus(this,i,s)}flashCell(i){let s=i?.flashDuration??i?.flashDelay,n=i?.fadeDuration??i?.fadeDelay;this.animateCell("data-changed",s,n)}animateCell(i,s,n){if(!this.cellComp)return;let o=`ag-cell-${i}`,r=`ag-cell-${i}-animation`,{gos:a}=this.beans;s||(s=a.get("cellFlashDuration")),G(n)||(n=a.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(o,!0),this.cellComp.addOrRemoveCssClass(r,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.cellComp.addOrRemoveCssClass(r,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.eGui.style.transition="")},n))},s)})}onFlashCells(i){if(!this.cellComp)return;let s=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[s]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(i){return this.callValueFormatter(i)??i}callValueFormatter(i){return this.beans.valueService.formatValue(this.column,this.rowNode,i)}updateAndFormatValue(i){let s=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),i?!this.valuesAreEqual(s,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(i,s){let n=this.column.getColDef();return n.equals?n.equals(i,s):i===s}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){let i=this.getGui();this.beans.gos.setDomData(i,gd.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(i,gd.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(i,s){return this.beans.gos.addGridCommonParams({type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex})}processCharacter(i){this.cellKeyboardListenerFeature?.processCharacter(i)}onKeyDown(i){this.cellKeyboardListenerFeature?.onKeyDown(i)}onMouseEvent(i,s){this.cellMouseListenerFeature?.onMouseEvent(i,s)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:i,column:s,beans:n}=this;hf(i,s,n.visibleColsService)}refreshAriaColIndex(){let i=this.beans.visibleColsService.getAriaColIndex(this.column);Eg(this.getGui(),i)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(i,s=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(i,s)});return}this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(i,this):this.startEditing(i,!0,s)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(i=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:i})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;let i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(I1,i)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(P1,i)}onCellFocused(i){if(this.beans.gos.get("suppressCellFocus"))return;let s=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){s&&i?.forceBrowserFocus&&(this.focusEventToRestore=i);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(A1,s),s&&i&&i.forceBrowserFocus){let o=this.cellComp.getFocusableElement();if(this.editing){let r=this.beans.focusService.findFocusableElements(o,null,!0);r.length&&(o=r[0])}o.focus({preventScroll:!!i.preventScrollOnBrowserFocus})}let n=this.beans.gos.get("editType")==="fullRow";!s&&!n&&this.editing&&this.stopRowOrCellEdit(),s&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Es(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(R1,!0),this.cellComp.addOrRemoveCssClass(M1,!0);let i=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(D1,i),this.cellComp.addOrRemoveCssClass(T1,!i)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(_1,i)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let i=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(L1,i)}dispatchCellContextMenuEvent(i){let s=this.column.getColDef(),n=this.createEvent(i,"cellContextMenu");this.beans.eventService.dispatchEvent(n),s.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let i=new c1;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i}createDndSource(){let i=new d1(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(i),i}registerRowDragger(i,s,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(i,s);return}let o=this.createRowDragComp(i,s,n);o&&(this.customRowDragComp=o,this.addDestroyFunc(()=>{this.beans.context.destroyBean(o),this.customRowDragComp=null}))}createRowDragComp(i,s,n){let o=this.beans.gos.get("pagination"),r=this.beans.gos.get("rowDragManaged"),a=this.beans.gos.isRowModelType("clientSide");if(r){if(!a){L("managed row dragging is only allowed in the Client Side Row Model");return}if(o){L("managed row dragging is not possible when doing pagination");return}}let l=new ud(()=>this.value,this.rowNode,this.column,i,s,n);return this.beans.context.createBean(l),l}setSuppressRefreshCell(i){this.suppressRefreshCell=i}getEditCompDetails(){return this.editCompDetails}};return e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e})(),Rs=B1,k1=0,N1=(()=>{let e=class fd extends P{constructor(i,s,n,o,r){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=s,this.gos=s.gos,this.rowNode=i,this.paginationPage=s.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=o,this.printLayout=r,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=i.id+"-"+k1++,this.rowId=wi(i.id),this.initRowBusinessKey(),this.rowFocused=s.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=s.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let i=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=wi(i)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(i,s){i==="left"?this.leftGui=s:i==="right"?this.rightGui=s:i==="fullWidth"?this.fullWidthGui=s:this.centerGui=s}setComp(i,s,n){let o={rowComp:i,element:s,containerType:n};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(i){this.allRowGuis=this.allRowGuis.filter(s=>s.containerType!==i),this.updateGui(i,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(i){let s=i?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=s)}initialiseRowComp(i){let s=this.gos;this.listenOnDomOrder(i),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(i),this.updateRowIndexes(i),this.setFocusedClasses(i),this.setStylesFromGridOptions(!1,i),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(i),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=i.rowComp;this.getInitialRowClasses(i.containerType).forEach(r=>n.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(i),this.rowNode.group&&sa(i.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),s.setDomData(i.element,fd.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>s.setDomData(i.element,fd.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,i.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(i.element),this.isFullWidth()&&this.setupFullWidth(i),s.get("rowDragEntireRow")&&this.addRowDraggerToRow(i),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&i.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(i){this.businessKeySanitised!=null&&i.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(i){this.rowId=wi(this.rowNode.id),this.rowId!=null&&i.setRowId(this.rowId)}executeSlideAndFadeAnimations(i){let{containerType:s}=i;this.slideInAnimation[s]&&(zp(()=>{this.onTopChanged()}),this.slideInAnimation[s]=!1),this.fadeInAnimation[s]&&(zp(()=>{i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[s]=!1)}addRowDraggerToRow(i){if(this.gos.get("enableRangeSelection")){L("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}let s=this.beans.localeService.getLocaleTextFunc(),n=new ud(()=>`1 ${s("rowDragRow","row")}`,this.rowNode,void 0,i.element,void 0,!0),o=this.createBean(n,this.beans.context);this.rowDragComps.push(o)}setupFullWidth(i){let s=this.getPinnedForContainer(i.containerType);if(this.rowType=="FullWidthDetail"&&!St.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let n=this.createFullWidthCompDetails(i.element,s);i.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>i?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(i){let s=this.getCellCtrl(i);return s?s.getGui():null}executeProcessRowPostCreateFunc(){let i=this.gos.getCallback("processRowPostCreate");if(!i||!this.areAllContainersReady())return;let s={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};i(s)}areAllContainersReady(){let i=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),s=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return i&&s&&n}setRowType(){let i=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),s=this.rowNode.isFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(o);i?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":s?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(i=!1,s=!1){if(this.isFullWidth())return;if(i||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(s);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(i,s,n=null){let o={list:[],map:{}},r=(a,l)=>{o.list.push(l),o.map[a]=l};return s.forEach(a=>{let l=a.getInstanceId(),c=i.map[l];c||(c=new Rs(a,this.rowNode,this.beans,this)),r(l,c)}),i.list.forEach(a=>{if(o.map[a.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(a,n)){r(a.getColumn().getInstanceId(),a);return}a.destroy()}),o}updateColumnListsImpl(i){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(i)}setCellCtrls(i){this.allRowGuis.forEach(s=>{let n=this.getCellCtrlsForContainer(s.containerType);s.rowComp.setCellCtrls(n,i)})}getCellCtrlsForContainer(i){switch(i){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let i=this.beans.columnViewportService,s=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=i.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let o=s.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,"left");let r=s.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(i,s){if(i.getColumn().getPinned()!=s)return!0;let a=i.isEditing(),l=this.beans.focusService.isCellFocused(i.getCellPosition());if(a||l){let d=i.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(d)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(i){let s=()=>{i.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",s),this.addManagedPropertyListener("ensureDomOrder",s)}setAnimateFlags(i){if(this.isSticky()||!i)return;let s=G(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),o=this.beans.visibleColsService.isPinningRight();if(s){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=o}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let i=(l,c)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,c).params):!0,s=i(this.fullWidthGui,null),n=i(this.centerGui,null),o=i(this.leftGui,"left"),r=i(this.rightGui,"right");return s&&n&&o&&r}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(s=>{this.addRowDraggerToRow(s)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(i=>i.onRowIndexChanged())},cellChanged:i=>{this.getAllCellCtrls().forEach(s=>s.onCellChanged(i))}})}onRowNodeDataChanged(i){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!i.update,newData:!i.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let i=this.rowNode.highlighted;this.allRowGuis.forEach(s=>{let n=i===0,o=i===1;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})}postProcessRowDragging(){let i=this.rowNode.dragging;this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-dragging",i))}updateExpandedCss(){let i=this.rowNode.isExpandable(),s=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",i),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&s),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!s),sa(n.element,i&&s)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Es(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(i){let s=this.allRowGuis.find(c=>c.element.contains(i.target));if(!((s?s.element:null)===i.target))return;let r=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(i,i.key,l,!0),i.preventDefault()}onTabKeyDown(i){if(i.defaultPrevented||es(i))return;let s=this.allRowGuis.find(a=>a.element.contains(i.target)),n=s?s.element:null,o=n===i.target,r=null;o||(r=this.beans.focusService.findNextFocusableElement(n,!1,i.shiftKey)),(this.isFullWidth()&&o||!r)&&this.beans.navigationService.onTabKeyDown(this,i)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let i=this.allRowGuis.find(s=>ai(s.element))?.element;return i?i.getBoundingClientRect().top:0}onFullWidthRowFocused(i){let s=this.rowNode,n=i?this.isFullWidth()&&i.rowIndex===s.rowIndex&&i.rowPinned==s.rowPinned:!1,o=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;o&&(o.classList.toggle("ag-full-width-focus",n),n&&i?.forceBrowserFocus&&o.focus({preventScroll:!0}))}recreateCell(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),i.destroy(),this.updateColumnLists()}removeCellCtrl(i,s){let n={list:[],map:{}};return i.list.forEach(o=>{o!==s&&(n.list.push(o),n.map[o.getColumn().getInstanceId()]=o)}),n}onMouseEvent(i,s){switch(i){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s);break}}createRowEvent(i,s){return this.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:s})}createRowEventWithSource(i,s){let n=this.createRowEvent(i,s);return n.source=this,n}onRowDblClick(i){if(es(i))return;let s=this.createRowEventWithSource("rowDoubleClicked",i);this.beans.eventService.dispatchEvent(s)}onRowMouseDown(i){if(this.lastMouseDownOnDragger=dn(i.target,"ag-row-drag",3),!this.isFullWidth())return;let s=this.rowNode,n=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();let o=this.getFullWidthElement(),r=i.target,a=!0;o&&o.contains(r)&&Fd(r)&&(a=!1),this.beans.focusService.setFocusedCell({rowIndex:s.rowIndex,column:n.getAllCols()[0],rowPinned:s.rowPinned,forceBrowserFocus:a})}onRowClick(i){if(es(i)||this.lastMouseDownOnDragger)return;let n=this.createRowEventWithSource("rowClicked",i);this.beans.eventService.dispatchEvent(n);let o=i.ctrlKey||i.metaKey,r=i.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;let l=this.gos.get("rowMultiSelectWithClick"),c=!this.gos.get("suppressRowDeselection"),d="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:i,source:d}):o?c&&this.rowNode.setSelectedParams({newValue:!1,event:i,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:i,source:d});else{let u=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:u,rangeSelect:r,event:i,source:d})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(i){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;let s=()=>{let o=i.clientHeight;if(o!=null&&o>0){let r=()=>{this.rowNode.setRowHeight(o),this.beans.rowModel.getType()==="clientSide"?this.beans.rowModel.onRowHeightChanged():this.beans.rowModel.getType()==="serverSide"&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(r,0)}},n=this.beans.resizeObserverService.observeResize(i,s);this.addDestroyFunc(n),s()}createFullWidthCompDetails(i,s){let{gos:n,rowNode:o}=this,r=n.addGridCommonParams({fullWidth:!0,data:o.data,node:o,value:o.key,valueFormatted:o.key,eGridCell:i,eParentOfValue:i,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(l,c,d,u)=>this.addFullWidthRowDragging(l,c,d,u),setTooltip:(l,c)=>this.refreshRowTooltip(l,c)}),a=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return a.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return a.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return a.getFullWidthLoadingCellRendererDetails(r);default:return a.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(i,s){if(!this.fullWidthGui)return;let n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:s};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new fn(n,this.beans))}addFullWidthRowDragging(i,s,n="",o){if(!this.isFullWidth())return;let r=new ud(()=>n,this.rowNode,void 0,i,s,o);this.createBean(r,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(r,this.beans.context)})}onUiLevelChanged(){let i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){let s="ag-row-level-"+i,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass(s,!0),o.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=i}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){let i=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",i))),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",s)))}stopEditing(i=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,i)}setInlineEditingCss(i){this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})}setEditingRow(i){this.editingRow=i}startRowEditing(i=null,s=null,n=null){this.editingRow||this.beans.rowEditService?.startEditing(this,i,s,n)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(s=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(s,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))},i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!1))})}setStylesFromGridOptions(i,s){i&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(s,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(i){return i==="left"||i==="right"?i:null}getInitialRowClasses(i){let s=this.getPinnedForContainer(i),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[i],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){let i=this.gos.get("rowStyle");if(i&&typeof i=="function"){L("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}let s=this.gos.getCallback("getRowStyle"),n;if(s){let o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=s(o)}return n||i?Object.assign({},i,n):this.emptyStyle}onRowSelected(i){let s=!!this.rowNode.isSelected();this.forEachGui(i,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",s),na(n.element,s),n.element.contains(this.gos.getActiveDomElement())&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let i=this.rowNode.isSelected();if(i&&this.gos.get("suppressRowDeselection"))return;let n=this.beans.localeService.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${i?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n)}addHoverFunctionality(i){if(!this.active)return;let{rowNode:s,beans:n,gos:o}=this;this.addManagedListeners(i,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),this.addManagedListeners(s,{mouseEnter:()=>{!n.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(i){let s=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(s.top,!0)-100,o=this.applyPaginationOffset(s.bottom,!0)+100;return Math.min(Math.max(n,i),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(i,s){i?s(i):this.allRowGuis.forEach(s)}onRowHeightChanged(i){if(this.rowNode.rowHeight==null)return;let s=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,a=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(i,l=>{l.element.style.height=`${s}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}addEventListener(i,s){super.addEventListener(i,s)}removeEventListener(i,s){super.removeEventListener(i,s)}destroyFirstPass(i=!1){if(this.active=!1,!i&&this.gos.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){let o=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let s=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(s),this.beans.eventService.dispatchEvent(s),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let i=s=>(s.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)}setFocusedClasses(i){this.forEachGui(i,s=>{s.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let i=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(i,s=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return i;let n=this.beans.pageBoundsService.getPixelOffset();return i+n*(s?1:-1)}setRowTop(i){if(!this.printLayout&&G(i)){let s=this.applyPaginationOffset(i),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}px`;this.setRowTopStyle(r)}}getInitialRowTop(i){return this.suppressRowTransform?this.getInitialRowTopShared(i):void 0}getInitialTransform(i){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(i)})`}getInitialRowTopShared(i){if(this.printLayout)return"";let s=this.rowNode,n;if(this.isSticky())n=s.stickyRowTop;else{let o=this.slideInAnimation[i]?this.roundRowTopToBounds(s.oldRowTop):s.rowTop,r=this.applyPaginationOffset(o);n=s.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(i){this.allRowGuis.forEach(s=>this.suppressRowTransform?s.rowComp.setTop(i):s.rowComp.setTransform(`translateY(${i})`))}getRowNode(){return this.rowNode}getCellCtrl(i){let s=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==i&&(s=n)}),s!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(i)>=0&&(s=n)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(i){let s=this.rowNode.getRowIndexString();if(s===null)return;let n=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),o=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(i,a=>{a.rowComp.setRowIndex(s),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),bg(a.element,r)})}setStoppingRowEdit(i){this.stoppingRowEdit=i}};return e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e})(),Ds=N1,V1=class extends P{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",gg("touchstart")?"touchstart":"mousedown"].forEach(i=>{let s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||es(t))return;let i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!ns())return;let e=new ts(this.element),t=i=>{let s=this.getRowForEvent(i.touchEvent),n=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,n)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){let i=this.gos.getDomData(t,Ds.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){let n=i?i.getRowNode():null,o=s?s.getColumn():null,r=null;if(o){let c=e||t;s.dispatchCellContextMenuEvent(c??null),r=this.valueService.getValue(o,n)}let a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:n,column:o,value:r,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Jc(this.gos,e,Rs.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Jc(this.gos,e,Ds.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){let s=e.getRowNode(),n=e.getColumn(),o=e.isEditing();if(!hd(this.gos,i,s,n,o)&&t==="keydown"&&(!o&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),ef(i)&&e.processCharacter(i)),t==="keydown"){let a=e.createEvent(i,"cellKeyDown");this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(e,t,i){let s=e.getRowNode(),n=this.focusService.getFocusedCell(),o=n&&n.column;if(!hd(this.gos,i,s,o,!1)){let a=i.key;if(t==="keydown")switch(a){case I.PAGE_HOME:case I.PAGE_END:case I.PAGE_UP:case I.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case I.UP:case I.DOWN:e.onKeyboardNavigate(i);break;case I.TAB:e.onTabKeyDown(i);break;default:}}if(t==="keydown"){let a=e.createRowEvent("cellKeyDown",i);this.eventService.dispatchEvent(a)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;let i=Mx(e);if(i===I.A)return this.onCtrlAndA(e);if(i===I.C)return this.onCtrlAndC(e);if(i===I.D)return this.onCtrlAndD(e);if(i===I.V)return this.onCtrlAndV(e);if(i===I.X)return this.onCtrlAndX(e);if(i===I.Y)return this.onCtrlAndY();if(i===I.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){let{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){let[n,o]=[t.isEmpty("top"),t.isEmpty("bottom")],r=n?null:"top",a,l;o?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowNodes().length-1);let c=this.visibleColsService.getAllCols();if(Lt(c))return;s.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:we(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},G1=class extends P{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){let e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;He(this.element,t),ri(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},H1=class extends P{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){let e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;He(this.element,t),ri(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Ur=e=>e.getTopRowCtrls(),jr=e=>e.getStickyTopRowCtrls(),$r=e=>e.getStickyBottomRowCtrls(),Kr=e=>e.getBottomRowCtrls(),qr=e=>e.getCentreRowCtrls(),W1={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:qr},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:qr},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:qr},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:qr},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Ur},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Ur},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Ur},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Ur},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:jr},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:jr},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:jr},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:jr},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:$r},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:$r},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:$r},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:$r},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Kr},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Kr},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Kr},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Kr}};function bf(e){return W1[e]}var z1=["topCenter","topLeft","topRight"],U1=["bottomCenter","bottomLeft","bottomRight"],j1=["center","left","right"],$1=["center","left","right","fullWidth"],K1=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],q1=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Y1=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Ef=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Ff=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Q1=[...Ef,"stickyTopFullWidth",...Ff,"stickyBottomFullWidth"],X1=[...z1,...U1,...j1,...Ef,...Ff],Z1=class extends P{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=bf(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new a1(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new V1(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows(),this.forContainers(q1,()=>{this.pinnedWidthFeature=this.createManagedBean(new G1(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:()=>this.onPinnedWidthChanged()})}),this.forContainers(Y1,()=>{this.pinnedWidthFeature=this.createManagedBean(new H1(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:()=>this.onPinnedWidthChanged()})}),this.forContainers($1,()=>this.createManagedBean(new Sf(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(X1,()=>this.createManagedBean(new l1(this.eContainer))),this.forContainers(K1,()=>this.createManagedBean(new Wd(s=>this.comp.setContainerWidth(`${s}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Q1.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let i=this.gos.get("ensureDomOrder"),s=this.gos.isDomLayout("print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>{let e=()=>this.eViewport.scrollLeft=0;this.addManagedElementListeners(this.eViewport,{scroll:e})})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}getCenterWidth(){return Bo(this.eViewport)}getCenterViewportScrollLeft(){return aa(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return _g(this.eViewport)}getViewportScrollLeft(){return aa(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||dS(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){la(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=this.gos.isDomLayout("print"),n=this.gos.get("embedFullWidthRows")||i,o=t.filter(r=>{let a=r.isFullWidth();return this.options.fullWidth?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}};function J1(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer"></div>`,t}var eE=class extends ye{constructor(){super(),this.eViewport=Y,this.eContainer=Y,this.rowComps={},this.name=ye.elementGettingCreated.getAttribute("name"),this.options=bf(this.name),this.setTemplate(J1(this.options))}wireBeans(e){this.beans=e}postConstruct(){let e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new Z1(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){let t=R({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let i=s=>{let n=s.getInstanceId(),o=t[n];if(o)this.rowComps[n]=o,delete t[n],this.ensureDomOrder(o.getGui());else{if(!s.getRowNode().displayed)return;let r=new r1(s,this.beans,this.options.type);this.rowComps[n]=r,this.appendRow(r.getGui())}};e.forEach(i),Ts(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),bt(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?cS(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(Lg(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},tE={selector:"AG-ROW-CONTAINER",component:eE};function bo(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var iE=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${bo(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${bo(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${bo(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${bo(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${bo(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,sE=class extends ye{constructor(){super(iE,[Qb,Zb,e1,qb,tE]),this.eBodyViewport=Y,this.eStickyTop=Y,this.eStickyBottom=Y,this.eTop=Y,this.eBottom=Y,this.eBody=Y}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){let e=(i,s)=>{let n=`${i}px`;s.style.minHeight=n,s.style.height=n},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>Zy(this.getGui(),i),setRowCount:i=>Xy(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>this.eStickyBottom.style.height=i,setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",s.autoHeight),o.toggle("ag-layout-normal",s.normal),o.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(xf,s),registerBodyViewportResizeListener:i=>{let s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(n=>n.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new n1),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||this.gos.get("rowSelection")==="multiple")&&Qy(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},nE={selector:"AG-GRID-BODY",component:sE},oE=class extends P{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){let e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;let i={type:"scrollVisibilityChanged"};this.eventService.dispatchEvent(i)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},Jp="__ag_grid_instance",Rf=class Df extends P{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=Df.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Jp]=this.gridInstanceId}getRenderedCellForEvent(t){return Jc(this.gos,t.target,Rs.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){let s=i[Jp];if(G(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){let i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){let i=this.gos.isDomLayout("normal"),s=t,n,o;if(s.clientX!=null||s.clientY!=null?(n=s.clientX,o=s.clientY):(n=s.x,o=s.y),i){let r=this.ctrlsService.getGridBodyCtrl(),a=r.getScrollFeature().getVScrollPosition(),l=r.getScrollFeature().getHScrollPosition();n+=l.left,o+=a.top}return{x:n,y:o}}};Rf.gridInstanceSequence=new Ad;var rE=Rf,aE=class extends P{constructor(){super(),this.beanName="navigationService",this.onPageDown=Up(this.onPageDown,100),this.onPageUp=Up(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,r=this.mouseEventService.getCellPositionForEvent(e),a=!1;switch(i){case I.PAGE_HOME:case I.PAGE_END:!n&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case I.LEFT:case I.RIGHT:case I.UP:case I.DOWN:if(!r)return!1;n&&!s&&!o&&(this.onCtrlUpDownLeftRight(i,r),a=!0);break;case I.PAGE_DOWN:case I.PAGE_UP:!n&&!s&&(a=this.handlePageUpDown(i,r,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===I.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:o}=e;G(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),G(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:n,rowPinned:null,column:o})}onPageDown(e){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),n=this.pageBoundsService.getPixelOffset(),o=i.top+s,r=this.rowModel.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r):this.navigateToNextPage(e,r)}onPageUp(e){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),n=i.top,o=this.rowModel.getRowIndexAtPixel(n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t,i=!1){let s=this.getViewportHeight(),n=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow(),r=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?a?.rowHeight-s-r:s-r,c=a?.rowTop+l,d=this.rowModel.getRowIndexAtPixel(c+r);if(d===e.rowIndex){let h=i?-1:1;t=d=e.rowIndex+h}let u;i?(u="bottom",d<n&&(d=n),t<n&&(t=n)):(u="top",d>o&&(d=o),t>o&&(t=o)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let i=t?-1:1,s=this.getViewportHeight(),n=this.pageBoundsService.getLastRow(),o=0,r=e.rowIndex;for(;r>=0&&r<=n;){let a=this.rowModel.getRow(r);if(a){let l=a.rowHeight??0;if(o+l>s)break;o+=l}r+=i}return Math.max(0,Math.min(r,n))}getViewportHeight(){let{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),s=this.gos.getScrollbarWidth(),n=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(n-=s),n}isRowTallerThanView(e){let t=this.rowModel.getRow(e);if(!t)return!1;let i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,n=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onHomeOrEndKey(e){let t=e===I.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:we(i),n=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onTabKeyDown(e,t){let i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(s!==!1){s&&t.preventDefault();return}if(i){let{rowIndex:n,rowPinned:o}=e.getRowPosition();(o?n===0:n===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Rs&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){let i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s=e.isEditing();if(!s&&e instanceof Rs){let r=e.getRowCtrl();r&&(s=r.isEditing())}let n;return s?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,i):n=this.moveToNextEditingCell(e,t,i):n=this.moveToNextCellNotEditing(e,t),n===null?n:n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){let s=e.getCellPosition();e.getGui().focus(),e.stopEditing();let n=this.findNextCellToFocusOn(s,t,!0);return n===!1?null:n==null?!1:(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){let s=e.getCellPosition(),n=this.findNextCellToFocusOn(s,t,!0);if(n===!1)return null;if(n==null)return!1;let o=n.getCellPosition(),r=this.isCellEditable(s),a=this.isCellEditable(o),l=o&&s.rowIndex===o.rowIndex&&s.rowPinned===o.rowPinned;return r&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t){let i=this.visibleColsService.getAllCols(),s;e instanceof Ds?s=J(R({},e.getRowPosition()),{column:t?i[0]:we(i)}):s=e.getCellPosition();let n=this.findNextCellToFocusOn(s,t,!1);if(n===!1)return null;if(n instanceof Rs)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return G(n)}findNextCellToFocusOn(e,t,i){let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);let n=this.gos.getCallback("tabToNextCell");if(G(n)){let l=n({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(l===!0||l===null)l===null&&L("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(l===!1)return!1;s={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!s)return null;if(s.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:s.column},fromCell:!0}),null}let o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);let r=this.getCellByPosition(s);if(!r){let a=this.rowRenderer.getRowByPosition(s);if(!a||!a.isFullWidth()||i)continue;return a}if(!r.isSuppressNavigable())return this.rangeService?.setRangeToCell(s),r}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){let t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let n=i,o=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gos.get("enableRtl")?t===I.LEFT&&(n=this.getLastCellOfColSpan(n)):t===I.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(t,n),o=xe(n);if(o&&e&&e.key===I.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){let a=this.gos.getCallback("navigateToNextCell");if(G(a)){let c=a({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});G(c)?n={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:n=null}}if(!n)return;if(n.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let r=this.getNormalisedPosition(n);r?this.focusPosition(r):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){this.ensureCellVisible(e);let t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){let i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;let n=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?we(i):i[0])};this.focusPosition(o);let r=n!=null?this.rowPositionUtils.before(o,n):!1,a={type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,fromBelow:r};return this.eventService.dispatchEvent(a),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){let t=this.getCellByPosition(e);if(!t)return e;let i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:we(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&xe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},lE=class extends P{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},cE=class extends P{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,n="left",o=this.menuService.isLegacyMenuEnabled();!o&&this.gos.get("enableRtl")&&(s=1,n="right");let r=o?void 0:4*s,a=o?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:r,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:e})},i,t,o)}showPopup(e,t,i,s,n){let o=e?this.createBean(new mx(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");let r=document.createElement("div");bt(r,"presentation"),r.classList.add("ag-menu"),n||r.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(r,{keydown:g=>this.trapFocusWithin(g,r)}),r.appendChild(o?.getGui());let a,l=()=>o?.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=g=>{e.setMenuVisible(!1,"contextMenu");let v=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&s&&ai(s)){let C=this.focusService.findTabbableParent(s);C&&C.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},u=this.localeService.getLocaleTextFunc(),h=n&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(r),anchorToElement:c,ariaLabel:h});p&&(this.hidePopup=a=p.hideFunc),o.afterInit().then(()=>{t(r),o.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==I.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){let s={type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null};this.eventService.dispatchEvent(s)}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},dE=50,uE=class extends P{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(e,t){let i=this.gos.getWindow(),s=()=>{let a=new i.ResizeObserver(t);return a.observe(e),()=>a.disconnect()},n=()=>{let a=e?.clientWidth??0,l=e?.clientHeight??0,c=!0,d=()=>{if(c){let u=e?.clientWidth??0,h=e?.clientHeight??0;(u!==a||h!==l)&&(a=u,l=h,t()),this.doNextPolyfillTurn(d)}};return d(),()=>c=!1},o=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!o?s():this.getFrameworkOverrides().wrapIncoming(()=>n(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;let e=()=>{let t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())};this.polyfillScheduled=!0,window.setTimeout(e,dE)}},hE=class extends P{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){let t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){let i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&L(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);let s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let t=this.createTasksP1,i=t.list,s=this.createTasksP2,n=s.list,o=this.destroyTasks,r=new Date().getTime(),a=new Date().getTime()-r,l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(n.length)this.sortTaskList(s),u=n.pop().task;else if(o.length)u=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-r}i.length||n.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){let t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},pE=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(pE||{}),gE=class extends P{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;let t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},fE=class extends P{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){let i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};let n=s.getBoundingClientRect();return{x:n.x+n.width/2,y:n.y+n.height/2}}showContextMenu(e){let{rowNode:t}=e,i=e.column,{anchorToElement:s,value:n}=e;t&&i&&n==null&&(n=t.getValueFromValueService(i)),s==null&&(s=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,n,s)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){let{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!e?.getColDef().suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(ns()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){let t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return i!=null&&L("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,s){let{positionBy:n}=t,o=t.column;if(n==="button"){let{buttonElement:r}=t;e.showMenuAfterButtonClick(o,r,i,s)}else if(n==="mouse"){let{mouseEvent:r}=t;e.showMenuAfterMouseEvent(o,r,i,s)}else o&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let r=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getHeaderCtrlForColumn(o);e.showMenuAfterButtonClick(o,r.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(e){let{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){return!e||!t?void 0:e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){let i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;let n=this.getCellGui(s,t);return n||(s.isFullWidth()?s.getFullWidthElement():i)}},mE=class extends xs{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},CE={selector:"AG-INPUT-TEXT-AREA",component:mE},vE=class extends mn{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[CE]),this.eTextArea=Y}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),G(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===I.LEFT||t===I.UP||t===I.RIGHT||t===I.DOWN||e.shiftKey&&t===I.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return!G(e)&&!G(this.params.value)?this.params.value:this.params.parseValue(e)}},wE=class extends mn{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=s=>{hd(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}},yE=class extends mn{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[Ex]),this.eSelect=Y,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueService:i,gos:s}=this,{values:n,value:o,eventKey:r}=e;if(xe(n)){L("no values found for select cellEditor");return}this.startedByEnter=r!=null?r===I.ENTER:!1;let a=!1;n.forEach(u=>{let h={value:u},p=i.formatValue(e.column,null,u),g=p!=null;h.text=g?p:u,t.addOption(h),a=a||o===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},ma=class extends mn{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Y}init(e){this.params=e;let t=this.eInput;this.cellEditorInput.init(t,e);let i;if(e.cellStartedEdit){this.focusAfterAttached=!0;let s=e.eventKey;s===I.BACKSPACE||e.eventKey===I.DELETE?i="":s&&s.length===1?i=s:(i=this.cellEditorInput.getStartValue(),s!==I.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&t.setStartValue(i),this.addManagedElementListeners(t.getGui(),{keydown:s=>{let{key:n}=s;(n===I.PAGE_UP||n===I.PAGE_DOWN)&&s.preventDefault()}})}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Li()||t.getFocusableElement().focus();let i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},SE=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[pa]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){let e=this.eInput.getValue();return!G(e)&&!G(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),t=G(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},Tf=class extends ma{constructor(){super(new SE)}},xE=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Lx]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);let i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===I.UP||e.key===I.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!G(e)&&!G(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},bE=class extends ma{constructor(){super(new xE)}},EE=class extends Ps{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=Li();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?Yt(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Mi(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?Yt(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Mi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Mi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return xt(this.getValue())??void 0}setDate(e,t){this.setValue(Yt(e??null,!1),t)}},Af={selector:"AG-INPUT-DATE-FIELD",component:EE},FE=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[Af]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.eInput.getDate();return!G(e)&&!G(this.params.value)?this.params.value:e??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Yt(e,!1)}},RE=class extends ma{constructor(){super(new FE)}},DE=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[Af]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return!G(e)&&!G(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Yt(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):xt(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Yt(e??null,!1)??void 0}},TE=class extends ma{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new DE(()=>this.dataTypeService))}},AE=class extends mn{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Pd]),this.eCheckbox=Y}init(e){this.params=e;let t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.localeService.getLocaleTextFunc(),i=bd(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},Ro=class{constructor(e){this.cellValueChanges=e}},Qc=class extends Ro{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},IE=10,eg=class{constructor(e){this.actionStack=[],this.maxStackSize=e||IE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},PE=class extends P{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:r,column:a,oldValue:l,value:c}=e,d={rowPinned:o,rowIndex:r,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new eg(e),this.redoStack=new eg(e),this.addListeners();let t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){let t={type:"undoStarted",source:e};this.eventService.dispatchEvent(t);let i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),s={type:"undoEnded",source:e,operationPerformed:i};this.eventService.dispatchEvent(s)}redo(e){let t={type:"redoStarted",source:e};this.eventService.dispatchEvent(t);let i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),s={type:"redoEnded",source:e,operationPerformed:i};this.eventService.dispatchEvent(s)}undoRedo(e,t,i,s,n){if(!e)return!1;let o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,r=>r[s],n),o instanceof Qc?this.processRange(this.rangeService,o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{let{rowIndex:n,rowPinned:o,columnId:r}=s,a={rowIndex:n,rowPinned:o},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(r,t(s),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((s,n)=>{if(!s)return;let o=s.startRow,r=s.endRow;n===t.length-1&&(i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:s}=t,n={rowIndex:i,rowPinned:s},o=this.rowPositionUtils.getRowNode(n),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r,this.rangeService)}setLastFocusedCell(e,t){let{rowIndex:i,columnId:s,rowPinned:n}=e,o=this.gridBodyCtrl.getScrollFeature(),r=this.columnModel.getCol(s);if(!r)return;o.ensureIndexVisible(i),o.ensureColumnVisible(r);let a={rowIndex:i,column:r,rowPinned:n};this.focusService.setFocusedCell(J(R({},a),{forceBrowserFocus:!0})),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new Ro(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new Ro(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new Ro(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new Qc(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&this.gos.get("enableRangeSelection")?e=new Qc(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Ro(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function ME(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function _E(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function If(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function Pf(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function LE(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function OE(e){e.undoRedoService?.undo("api")}function BE(e){e.undoRedoService?.redo("api")}function kE(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Ao)}function NE(e){return e.rowRenderer.getEditingCells()}function VE(e,t=!1){e.rowRenderer.stopEditing(t)}function GE(e,t){let i=e.columnModel.getCol(t.colKey);if(!i){L(`no column found for ${t.colKey}`);return}let s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&Pf(e,t.rowIndex),If(e,t.colKey);let o=e.navigationService.getCellByPosition(s);o&&(e.focusService.isCellFocused(s)||e.focusService.setFocusedCell(s),o.startRowOrCellEdit(t.key))}function HE(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function WE(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var zE=class extends P{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,s=null){let n=this.createCellEditorParams(e,t,i),o=e.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(o,n),a=r?.popupFromSelector!=null?r.popupFromSelector:!!o.cellEditorPopup,l=r?.popupPositionFromSelector!=null?r.popupPositionFromSelector:o.cellEditorPopupPosition;e.setEditing(!0,r),e.getComp().setEditDetails(r,a,l,this.gos.get("reactiveCustomComponents"));let c=e.createEvent(s,"cellEditingStarted");this.eventService.dispatchEvent(c)}stopEditing(e,t){let i=e.getComp(),{newValue:s,newValueExists:n}=this.takeValueFromCellEditor(t,i),o=e.getRowNode(),r=e.getColumn(),a=o.getValueFromValueService(r),l=!1;n&&(l=this.saveNewValue(e,a,s,o,r)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0});let c=J(R({},e.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:s,valueChanged:l});return this.eventService.dispatchEvent(c),l}handleColDefChanged(e){let t=e.getCellEditor();if(t?.refresh){let{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,n=this.createCellEditorParams(e,i,s),o=e.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(o,n);t.refresh(r.params)}}setFocusOutOnEditor(e){let t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){let t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new wE(e)}takeValueFromCellEditor(e,t){let i={newValueExists:!1};if(e)return i;let s=t.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,n){if(i===t)return!1;e.setSuppressRefreshCell(!0);let o=s.setDataValue(n,i,"edit");return e.setSuppressRefreshCell(!1),o}createCellEditorParams(e,t,i){let s=e.getColumn(),n=e.getRowNode();return this.gos.addGridCommonParams({value:n.getValueFromValueService(s),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:n,data:n.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:o=>this.valueService.parseValue(s,n,o,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let s=e?I.UP:I.DOWN;this.navigationService.navigateToNextCell(null,s,t,!1)}}},UE=class extends P{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,s=null){e.getAllCellCtrls().reduce((o,r)=>{let a=r===i;return a?r.startEditing(t,a,s):r.startEditing(null,a,s),o?!0:r.isEditing()},!1)&&this.setEditing(e,!0)}stopEditing(e,t=!1){let i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let n=!1;for(let o of i){let r=o.stopEditing(t);s&&!t&&!n&&r&&(n=!0)}if(n){let o=e.createRowEvent("rowValueChanged");this.eventService.dispatchEvent(o)}s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));let i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},Ms={version:se,moduleName:"@ag-grid-community/edit-core",beans:[zE]},jE={version:se,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:OE,redoCellEditing:BE,getCellEditorInstances:kE,getEditingCells:NE,stopEditing:VE,startEditingCell:GE,getCurrentUndoSize:HE,getCurrentRedoSize:WE},dependantModules:[Ms]},$E={version:se,moduleName:"@ag-grid-community/undo-redo-edit",beans:[PE],dependantModules:[Ms]},KE={version:se,moduleName:"@ag-grid-community/full-row-edit",beans:[UE],dependantModules:[Ms]},Mf={version:se,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:Tf}],dependantModules:[Ms]},qE={version:se,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:Tf},{name:"agNumberCellEditor",classImp:bE},{name:"agDateCellEditor",classImp:RE},{name:"agDateStringCellEditor",classImp:TE},{name:"agCheckboxCellEditor",classImp:AE}],dependantModules:[Mf]},YE={version:se,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:yE}],dependantModules:[Ms]},QE={version:se,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:vE}],dependantModules:[Ms]},XE={version:se,moduleName:"@ag-grid-community/all-editors",dependantModules:[Mf,qE,YE,QE]},ZE={version:se,moduleName:"@ag-grid-community/editing",dependantModules:[Ms,$E,KE,XE,jE]},JE=class extends P{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return-1;let s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){let t=document.createElement("form");t.style.position="fixed";let i=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,t)),i.appendChild(t);let s=t.offsetWidth;i.removeChild(t);let n=this.getAutoSizePadding();return s+n}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{let s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(l=>r.classList.contains(l))){for(let l=0;l<r.classList.length;l++){let c=r.classList[l];c!="ag-row-position-absolute"&&n.add(c)}break}r=r.parentElement}s.appendChild(i),t.appendChild(s)}},eF=class extends P{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){if(this.extraTopHeight===e)return;this.extraTopHeight=e;let t={type:"stickyTopOffsetChanged",offset:e};this.eventService.dispatchEvent(t)}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=e.childStore?.getStoreBounds();return e.footer&&(i=e.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=we(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){let t=e==="top",i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);let s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,n=new Set,o=c=>{if(n.add(c),t){let d=this.getLastPixelOfGroup(c),u=s+i+c.rowHeight;d<u?c.stickyRowTop=i+(d-u):c.stickyRowTop=i}else{let d=this.getFirstPixelOfGroup(c),u=s-(i+c.rowHeight);d>u?c.stickyRowTop=i-(d-u):c.stickyRowTop=i}i=0,n.forEach(d=>{let u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},r=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>c.displayed?c.footer?r===!0||r==="grand"&&c.level===-1||r==="group"&&c.level>-1?!1:!n.has(c):c.isExpandable()?a===!0?!1:!n.has(c)&&c.expanded:!1:!1;for(let c=0;c<100;c++){let d=s+i;t||(d=s-i);let u=this.rowModel.getRowIndexAtPixel(d),h=this.rowModel.getRow(u);if(h==null)break;let g=this.getStickyAncestors(h).find(C=>(t?C.rowIndex<u:C.rowIndex>u)&&l(C));if(g){o(g);continue}if((t?h.rowTop<d:h.rowTop+h.rowHeight>d)&&l(h)){o(h);continue}break}return t||n.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,n,i)}areFooterRowsStickySuppressed(){let e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;let t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){let e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){let t=[],i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){let e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){let t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){let s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){let s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){let s=e==="top",n=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,o={},r=[];for(let h=0;h<n.length;h++){let p=n[h].getRowNode();if(!t.has(p)){o[p.id]=n[h],p.sticky=!1;continue}r.push(n[h])}let a=new Set;for(let h=0;h<r.length;h++)a.add(r[h].getRowNode());let l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||r.length!==n.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(o,!1);let d=[...r,...l];d.sort((h,p)=>p.getRowNode().rowIndex-h.getRowNode().rowIndex),s||d.reverse(),d.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop));let u=0;return s?(t.forEach(h=>{h.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=h.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(h=>{h.rowIndex>this.pageBoundsService.getLastRow()&&(u+=h.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),c?(s?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1,t=i=>{let s=i.getRowNode();if(s.rowHeightEstimated){let n=this.gos.getRowHeightForNode(s);s.setRowHeight(n.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},tF=class extends P{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(o=>o.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("rangeSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("rangeSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListener("enableRangeSelection",o=>{o.currentValue?i():s()}),this.gos.get("enableRangeSelection")&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){let e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new eF(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new iF(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let e=Ts(this.rowCtrlsByRowIndex),t=Ts(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{let i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},s=()=>{i(l=>l.onLeftChanged())},n=()=>{i(l=>l.onWidthChanged())},o=()=>{i(l=>l.onFirstRightPinnedChanged())},r=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",n),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",r),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",n),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",r),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){let t=[];return this.getAllRowCtrls().forEach(i=>{let s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowNodes()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowNodes())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){let i=Object.fromEntries(t.map(n=>[n.id,n])),s=Object.fromEntries(e.map(n=>[n.getRowNode().id,n]));for(let n=0;n<t.length;n++){let o=t[n],r=e[n];r&&i[r.getRowNode().id]===void 0&&(r.destroyFirstPass(),r.destroySecondPass()),o.id in s?(e[n]=s[o.id],delete s[o.id]):e[n]=new Ds(o,this.beans,!1,!1,this.printLayout)}e.length=t.length}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let i=s=>{let n=s[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;let i=this.gos.getActiveDomElement(),s=this.gos.getDomData(i,Rs.DOM_DATA_KEY_CELL_CTRL),n=this.gos.getDomData(i,Ds.DOM_DATA_KEY_ROW_CTRL);return s||n?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&this.gos.isAnimateRows(),n=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();let o=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();o&&this.updateContainerHeights(o)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress){let e=this.frameworkOverrides.getLockOnRefreshError?.()??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+e)}this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&setTimeout(()=>{this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){let n=t[s].getAllCellCtrls(),o=n.length;for(let r=0;r<o;r++)e.push(n[r])}return e}getAllRowCtrls(){let e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(let s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){let s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&ld()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(let i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){let t=this.getCellCtrls(e.rowNodes,e.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if(e.columns?.length)return t;let i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(s&&!this.isRowInMap(n.getRowNode(),s)||!n.isFullWidth())return;let o=n.getFullWidthCellRenderers();for(let r=0;r<o.length;r++){let a=o[r];a!=null&&i.push(a)}}),[...i,...t]}getCellEditorInstances(e){let t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{let s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){let e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){let i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(i=>{let s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}isRowInMap(e,t){let i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){let t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{let n=s.getRowNode();return this.isRowInMap(n,t)})}getCellCtrls(e,t){let i;G(t)&&(i={},t.forEach(n=>{let o=this.columnModel.getCol(n);G(o)&&(i[o.getId()]=!0)}));let s=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(o=>{let r=o.getColumn().getId();i&&!i[r]||s.push(o)})}),s}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let e=[];oi(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);let t={};return oi(this.rowCtrlsByRowIndex,(i,s)=>{let n=s.getRowNode();t[n.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{let s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{afterScroll:t}=e,i;this.stickyRowFeature&&ld()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);let s=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();let a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}let r=this.firstRenderedRow!==s||this.lastRenderedRow!==n;if(!(t&&!o&&!r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),i!=null)){let a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){let i={};e.forEach(o=>i[o]=!0);let n=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!i[o]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){let t=kx(this.firstRenderedRow,this.lastRenderedRow),i=(n,o)=>{let r=o.getRowNode().rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(r)};oi(this.rowCtrlsByRowIndex,i),oi(e,i),t.sort((n,o)=>n-o);let s=[];for(let n=0;n<t.length;n++){let o=t[n],r=this.rowModel.getRow(o);r&&!r.sticky&&s.push(o)}return s}recycleRows(e,t=!1,i=!1){let s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t);let n=[];s.forEach(o=>{let r=this.createOrUpdateRowCtrl(o,e,t,i);G(r)&&n.push(r)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){let t={type:"displayedRowsChanged",afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){let e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let s=i.getRowNode();return!(t!=null&&!this.isRowInMap(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let n,o=this.rowCtrlsByRowIndex[e];if(o||(n=this.rowModel.getRow(e),G(n)&&G(t)&&t[n.id]&&n.alreadyRendered&&(o=t[n.id],t[n.id]=null)),!o)if(n||(n=this.rowModel.getRow(e)),G(n))o=this.createRowCon(n,i,s);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let i=[];oi(e,(s,n)=>{if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);return}n.destroyFirstPass(!t),t?(this.zombieRowCtrls[n.getInstanceId()]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[n.getInstanceId()]})):n.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),vy(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=this.gos.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{let a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation"),d=!1,u,h;do{let f=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:m,pageLastPixel:w}=this.pageBoundsService.getCurrentPagePixelRange(),y=this.rowContainerHeightService.getDivStretchOffset(),E=l.getScrollFeature().getVScrollPosition(),S=E.top,D=E.bottom;c?(u=m+y,h=w+y):(u=Math.max(S+f-a,m)+y,h=Math.min(D+f+a,w)+y),this.firstVisibleVPixel=Math.max(S+f,m)+y,this.lastVisibleVPixel=Math.min(D+f,w)+y,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,h)}while(d);let p=this.rowModel.getRowIndexAtPixel(u),g=this.rowModel.getRowIndexAtPixel(h),v=this.pageBoundsService.getFirstRow(),C=this.pageBoundsService.getLastRow();p<v&&(p=v),g>C&&(g=C),e=p,t=g}let i=this.gos.isDomLayout("normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>n&&(t=e+n);let o=e!==this.firstRenderedRow,r=t!==this.lastRenderedRow;if(o||r){this.firstRenderedRow=e,this.lastRenderedRow=t;let a={type:"viewportChanged",firstRow:e,lastRow:t};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;let e={type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.pinnedRowModel?.ensureRowHeightsValid(),s=this.stickyRowFeature?.ensureRowHeightsValid(),n=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(n||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),s||n||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){let s=e.getRowNode(),n=this.focusService.isRowNodeFocused(s),o=e.isEditing(),r=s.detail;return n||o||r?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){let s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;let n=this.gos.get("suppressAnimationFrame"),o=i&&!n&&!this.printLayout;return new Ds(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){let e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},iF=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],_t(this.entriesList,i)}removeFromCache(e){let t=e.getRowNode().id;delete this.entriesMap[t],_t(this.entriesList,e)}getEntries(){return this.entriesList}},sF=class extends P{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData()),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){let t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Lt(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){let i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Lt(i))return 0;for(let s=0;s<i.length;s++){let n=i[s];if(n.rowTop+n.rowHeight-1>=e)return s}return i.length-1}onGridStylesChanges(e){if(e.rowHeightChanged){let t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0,i=n=>{if(n.rowHeightEstimated){let o=this.gos.getRowHeightForNode(n);n.setRowTop(t),n.setRowHeight(o.height),t+=o.height,e=!0}};this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i);let s={type:"pinnedHeightChanged"};return this.eventService.dispatchEvent(s),e}setPinnedTopRowData(){let e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);let t={type:"pinnedRowDataChanged"};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){let e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);let t={type:"pinnedRowDataChanged"};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){let i=[];if(e){let s=this.gos.getRowIdCallback(),n=t?$c.ID_PREFIX_TOP_PINNED:$c.ID_PREFIX_BOTTOM_PINNED,o=0,r=t?"top":"bottom";e.forEach((a,l)=>{let c=new $c(this.beans);c.data=a,c.id=s?.({data:a,level:0,rowPinned:r})??n+this.nextId++,c.rowPinned=r,c.setRowTop(o),c.setRowHeight(this.gos.getRowHeightForNode(c).height),c.setRowIndex(l),o+=c.rowHeight,i.push(c)})}return i}getPinnedTopRowNodes(){return this.pinnedTopRows}getPinnedBottomRowNodes(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Lt(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Lt(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;let t=we(e);return t.rowTop+t.rowHeight}};var nF=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let i=t[0].id===this.root.id,s=t.findIndex(n=>n.id===e.id);if(s>-1){let n=t.slice(0,s),o=t.slice(s+1);return this.setEndRange(e),i?{keep:n,discard:o}:{keep:o,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){let i=this.getRoot();if(i==null){let n=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&n.push(o)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(n=>n.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}},oF=class extends P{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,n){if(t==null&&e==null)return;let o={},r={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(t){let l=Object.keys(t);for(let c=0;c<l.length;c++){let d=l[c],u=t[d],h;typeof u=="string"?h=this.expressionService.evaluate(u,i):typeof u=="function"&&(h=u(i)),a(d,p=>{h?o[p]=!0:r[p]=!0})}}e&&n&&Object.keys(e).forEach(l=>a(l,c=>{o[c]||(r[c]=!0)})),n&&Object.keys(r).forEach(n),Object.keys(o).forEach(s)}getStaticCellClasses(e,t){let{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(n=>{i(n)})}},rF=class extends ha{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},kL={selector:"AG-TOGGLE-BUTTON",component:rF};var aF=class extends P{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:r,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!r,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Is(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){let t=this.gos.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let n,o;e?(n=0,o=s):(n=s+1,o=i.length);let r=i.slice(n,o),a=this.gos.get("tabIndex");r.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),r[e?r.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},lF=class extends P{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],o={setTabIndex:v=>{n.forEach(C=>v!=null?C.setAttribute("tabindex",v):C.removeAttribute("tabindex"))}};this.addTabGuards(t,i);let{focusTrapActive:r=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new aF({comp:o,focusTrapActive:r,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=this.gos.getDocument().createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),bt(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];ut(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Td(t)||(t=t.getGui());let{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},_f=class extends ye{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new lF(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},cF=0,dF=200,uF=class extends P{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(s!==-1){let p=this.popupList[s];p.alignedToElement=t}let n=t.getBoundingClientRect(),o=this.getParentRect(),r=this.keepXYWithinBounds(i,n.top-o.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;let c=o.right-o.left-a,d;this.gos.get("enableRtl")?(d=h(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=h(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${r}px`;function u(){return n.right-o.left-2}function h(){return n.left-o.left-a}}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:o,alignSide:r="left",position:a="over",column:l,rowNode:c,type:d}=e,u=o.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){let v=this.popupList[p];v.alignedToElement=o}let g=()=>{let v=u.left-h.left;r==="right"&&(v-=t.offsetWidth-u.width);let C;return a==="over"?(C=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)==="under"?C=u.top-h.top+u.height:C=u.top-t.offsetHeight-(s||0)*2-h.top),{x:v,y:C}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,o,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,s){let n=i.bottom-t.bottom,o=t.top-i.top,r=e.offsetHeight+s;return n>r?"under":o>r||o>n?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let s=this.popupList[i],{alignedToElement:n}=s;!n||(["right","left","over","above","under"].forEach(r=>{n.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,n,o){let r=this.gos.getCallback("postProcessPopup");r&&r({column:n,rowNode:o,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:n,skipObserver:o,updatePosition:r}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=r();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,s&&(d+=s),n&&(u+=n),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),dF)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){let e=this.gos.getDocument(),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Mg(t)}keepXYWithinBounds(e,t,i){let s=i===0,n=s?"clientHeight":"clientWidth",o=s?"top":"left",r=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=d===l.body,v=Math.ceil(u[r]),f=g?(s?Pg:oa)(c)+c[a]:d[n];g&&(f-=Math.abs(p[o]-h[o]));let m=f-v;return Math.min(Math.max(t,0),Math.abs(m))}addPopup(e){let t=this.gos.getDocument(),{eChild:i,ariaLabel:s,alwaysOnTop:n,positionCallback:o,anchorToElement:r}=e;if(!t)return L("could not find the document, document is empty"),{hideFunc:()=>{}};let a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);let l=this.createPopupWrapper(i,s,!!n),c=this.addEventListenersToPopup(J(R({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(i,l,c,r),{hideFunc:c}}initialisePopupPosition(e){let i=this.getPopupParent().getBoundingClientRect();G(e.style.top)||(e.style.top=`${i.top*-1}px`),G(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){let s=this.getPopupParent(),n=document.createElement("div");return this.environment.applyThemeClasses(n),n.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||bt(e,"dialog"),hn(e,t),n.appendChild(e),s.appendChild(n),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n}handleThemeChange(e){if(e.themeChanged)for(let t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){let t=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:s,eChild:n,closedCallback:o,afterGuiAttached:r,closeOnEsc:a,modal:l}=e,c=!1,d=g=>{if(!s.contains(this.gos.getActiveDomElement()))return;g.key===I.ESCAPE&&!es(g)&&p({keyboardEvent:g})},u=g=>p({mouseEvent:g}),h=g=>p({touchEvent:g}),p=(g={})=>{let{mouseEvent:v,touchEvent:C,keyboardEvent:f,forceHide:m}=g;!m&&(this.isEventFromCurrentPopup({mouseEvent:v,touchEvent:C},n)||c)||(c=!0,i.removeChild(s),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",h),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),o&&o(v||C||f),this.removePopupFromPopupList(n))};return r&&r({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",h),t.addEventListener("contextmenu",u))},0),p}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:cF++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(o=>o&&o()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;let n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,o=s.getBoundingClientRect(),r=i.top-o.top,a=i.left-o.left,l=r,c=a,d=n.style.top,u=parseInt(d.substring(0,d.length-1),10),h=n.style.left,p=parseInt(h.substring(0,h.length-1),10),g=this.getFrameworkOverrides();return new Mt(v=>{g.wrapIncoming(()=>{g.setInterval(()=>{let C=t.getBoundingClientRect(),f=s.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}let w=C.top-f.top;if(w!=l){let E=this.keepXYWithinBounds(n,u+r-w,0);n.style.top=`${E}px`}l=w;let y=C.left-f.left;if(y!=c){let E=this.keepXYWithinBounds(n,p+a-y,1);n.style.left=`${E}px`}c=y},200).then(C=>{v(()=>{C!=null&&window.clearInterval(C)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){let a=this.popupList[r];if(cy(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){let t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=n.length,r=this.getWrapper(e);if(!r||s<=1||!t.contains(e))return!1;let a=i.indexOf(r),l=r.querySelectorAll("div"),c=[];l.forEach(u=>{u.scrollTop!==0&&c.push([u,u.scrollTop])});let d=!1;for(o?r.classList.contains("ag-always-on-top")?a!==s-1&&(we(n).insertAdjacentElement("afterend",r),d=!0):a!==s-o-1&&(n[0].insertAdjacentElement("beforebegin",r),d=!0):a!==s-1&&(we(i).insertAdjacentElement("afterend",r),d=!0);c.length;){let u=c.pop();u[0].scrollTop=u[1]}return d}},hF=["touchstart","touchend","touchmove","touchcancel"],pF=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Mt(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){let n=bs(hF,t);e.addEventListener(t,i,{capture:!!s,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},gF=class extends P{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i=e===I.UP,s=e===I.DOWN,n=e===I.LEFT,o,r;if(i||s)r=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),o=t.column;else{let a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");r=t.rowIndex,o=n!==l?a[0]:we(a)}return{rowIndex:r,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case I.UP:i=this.getCellAbove(i);break;case I.DOWN:i=this.getCellBelow(i);break;case I.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case I.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,L("unknown key for navigation ",e);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){let t=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;let t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){let t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}let s=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(s);return n||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex),s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);let n=t?-1:1,o=s.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),r=s[o+n];if(r)return{rowIndex:r.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){let t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowNodes().length-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowNodes().length-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){let t=e.rowIndex,i=e.rowPinned;if(i?t===0:t===this.pageBoundsService.getFirstRow())return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;let n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;let t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowNodes().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let t=this.visibleColsService.getAllCols(),i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColAfter(e.column);if(!n){n=t[0];let o=this.getRowBelow(e);if(xe(o)||!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}getNextTabbedCellBackwards(e){let t=this.visibleColsService.getAllCols(),i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColBefore(e.column);if(!n){n=we(t);let o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(xe(o)||!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}};function fF(e,t){e.eventService.dispatchEvent(t)}var mF=class extends P{constructor(){super(...arguments),this.beanName="apiFunctionService",this.functions={dispatchEvent:fF},this.isDestroyed=!1}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}callFunction(e,t){let i=this.functions[e];if(i)return i.apply(i,[this.beans,...t]);if(this.isDestroyed)return this.destroyedHandler(e);this.isFrameworkMethod(e)||this.beans.validationService?.warnMissingApiFunction(e)}addFunction(e,t){let{validationService:i}=this.beans;i&&(t=i.validateApiFunction(e,t)),this.functions[e]=t}destroy(){this.functions={},this.isDestroyed=!0,super.destroy()}destroyedHandler(e){if(e==="isDestroyed")return!0;e!=="destroy"&&L(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${this.preDestroyLink}`)}isFrameworkMethod(e){return["preWireBeans","wireBeans","preConstruct","postConstruct"].includes(e)}};function CF(e){let t=e.getBean("apiFunctionService");return new Proxy(t,{get(i,s){if(s!=="then")return(...n)=>i.callFunction(s,n)}})}function vF(e){return{beanName:"gridApi",bean:CF(e)}}var wF=class extends P{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){let s=[],n={};return e.forEach(o=>{let r=this.createDefFromColumn(o,t,i),a=!0,l=r,c=o.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let h=n[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],n[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&s.push(l)}),s}createDefFromGroup(e){let t=nd(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){let s=nd(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},yF=class extends P{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){let e={type:"displayedColumnsChanged"};this.eventService.dispatchEvent(e)}gridColumns(){let e={type:"gridColumnsChanged"};this.eventService.dispatchEvent(e)}headerHeight(e){let t={type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(t)}groupOpened(e){let t={type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e};this.eventService.dispatchEvent(t)}rowGroupChanged(e,t){let i={type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t};this.eventService.dispatchEvent(i)}genericColumnEvent(e,t,i){let s={type:e,columns:t,column:t.length===1?t[0]:null,source:i};this.eventService.dispatchEvent(s)}pivotModeChanged(){let e={type:"columnPivotModeChanged"};this.eventService.dispatchEvent(e)}virtualColumnsChanged(e){let t={type:"virtualColumnsChanged",afterScroll:e};this.eventService.dispatchEvent(t)}newColumnsLoaded(e){let t={type:"newColumnsLoaded",source:e};this.eventService.dispatchEvent(t)}everythingChanged(e){let t={type:"columnEverythingChanged",source:e};this.eventService.dispatchEvent(t)}columnMoved(e){let{movedColumns:t,source:i,toIndex:s,finished:n}=e,o={type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:s,finished:n,source:i};this.eventService.dispatchEvent(o)}columnPinned(e,t){if(!e.length)return;let i=e.length===1?e[0]:null,s=this.getCommonValue(e,o=>o.getPinned()),n={type:"columnPinned",pinned:s??null,columns:e,column:i,source:t};this.eventService.dispatchEvent(n)}columnVisible(e,t){if(!e.length)return;let i=e.length===1?e[0]:null,n={type:"columnVisible",visible:this.getCommonValue(e,o=>o.isVisible()),columns:e,column:i,source:t};this.eventService.dispatchEvent(n)}getCommonValue(e,t){if(!e||e.length==0)return;let i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){let s={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i};this.eventService.dispatchEvent(s)}columnResized(e,t,i,s=null){if(e&&e.length){let n={type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:s,finished:t,source:i};this.eventService.dispatchEvent(n)}}},SF=class extends P{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){let e=this.columnModel.getColDefCols();if(xe(e)||!this.columnModel.isAlive())return[];let i=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){let t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,n=e.isPivotActive()?i.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,r=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:r,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:n,flex:l}}orderColumnStateList(e){let t=this.columnModel.getCols(),i=new Map(t.map((s,n)=>[s.getColId(),n]));e.sort((s,n)=>{let o=i.has(s.colId)?i.get(s.colId):-1,r=i.has(n.colId)?i.get(n.colId):-1;return o-r})}},xF=class extends P{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){let e=[],t=this.columnModel.getColTree();return _i(null,t,i=>{Ct(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){let t=this.columnModel.getColDefColTree();if(!t)return;let i=[];_i(null,t,s=>{if(Ct(s)){let n=s.getColGroupDef(),o={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};i.push(o)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();let s=[];e.forEach(n=>{let o=n.groupId,r=n.open,a=this.columnModel.getProvidedColGroup(o);a&&a.isExpanded()!==r&&(a.setExpanded(r),s.push(a))}),this.visibleColsService.refresh(t,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},bF=class extends P{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){let s=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){let o=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=o-this.scrollPosition-this.scrollWidth,this.viewportRight=o-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){let e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200,o=t<s&&i<s,r=t>n&&i>n;return!o&&!r}getViewportColumns(){let e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;let t=n=>{let o=n.getLeft();return G(o)&&o>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,s,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};let e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(o=>e[o.getId()]=!0);let n=(o,r,a)=>{let l=!1;for(let c=0;c<o.length;c++){let d=o[c],u=!1;if(is(d))u=e[d.getId()]===!0;else{let p=d.getDisplayedChildren();p&&(u=n(p,r,a+1))}u&&(l=!0,r[a]||(r[a]=[]),r[a].push(d))}return l};n(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),n(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),n(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},EF=class extends P{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){let i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(s){let n=e(s),o=typeof n;if(o==="string"||o==="number"||o==="boolean"){this.eGui=pn("<span>"+n+"</span>");return}if(n==null){this.eGui=pn("<span></span>");return}this.eGui=n}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},FF=class extends P{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},RF=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],tg=Object.fromEntries(RF.map((e,t)=>[e,t]));function DF(e,t){let i=(e.beanName?tg[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?tg[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function TF(e,t){return e?.beanName==="gridDestroyService"?-1:0}var AF=class extends P{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){let i=this.registry[e];if(i!=null)return new i(...t)}},IF=class extends P{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){let e=this.params;this.ready=e.gridCtrl!=null&&e.gridBodyCtrl!=null&&e.center!=null&&e.left!=null&&e.right!=null&&e.bottomCenter!=null&&e.bottomLeft!=null&&e.bottomRight!=null&&e.topCenter!=null&&e.topLeft!=null&&e.topRight!=null&&e.stickyTopCenter!=null&&e.stickyTopLeft!=null&&e.stickyTopRight!=null&&e.stickyBottomCenter!=null&&e.stickyBottomLeft!=null&&e.stickyBottomRight!=null&&e.centerHeader!=null&&e.leftHeader!=null&&e.rightHeader!=null&&e.fakeHScrollComp!=null&&e.fakeVScrollComp!=null&&e.gridHeaderCtrl!=null,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){let i=this.params;switch(t){case"left":i.leftHeader=e;break;case"right":i.rightHeader=e;break;default:i.centerHeader=e;break}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},PF=class extends P{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){let{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){let{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){let i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}},MF=class extends P{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);let i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},_F=class extends P{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowNodes()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowNodes()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(G(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},ig={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},sg={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},ng={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},LF=class extends P{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(ig),this.getSizeEl(sg),this.getSizeEl(ng)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ig)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(sg)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(ng)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(e){for(let t of Array.from(e.classList))t.startsWith("ag-theme-")&&!this.themeClasses.includes(t)&&e.classList.remove(t);for(let t of this.themeClasses)e.classList.contains(t)||e.classList.add(t)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){let e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let i=t.offsetWidth;return i===og?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${og}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&L(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);let n=this.resizeObserverService.observeResize(t,()=>{let o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==s&&(s=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>n()),t}fireGridStylesChangedEvent(e){let t={type:"gridStylesChanged",[e]:!0};this.eventService.dispatchEvent(t)}setUpThemeClassObservers(){let e=new MutationObserver(()=>{let i=this.getAncestorThemeClasses();OF(i,this.themeClasses)||(this.themeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))}),t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}getAncestorThemeClasses(){let e=this.eGridDiv,t=[];for(this.eThemeAncestor=null;e;){let i=Array.from(e.classList).filter(s=>s.startsWith("ag-theme-"));for(let s of i)this.eThemeAncestor=e,t.includes(s)||t.unshift(s);e=e.parentElement}return Object.freeze(t)}},OF=(e,t)=>e.length===t.length&&e.findIndex((i,s)=>e[s]!==t[s])===-1,og=15538,BF=class extends P{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new gn}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){let e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},kF=(()=>{let e=class Pt extends P{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(i){this.eGridDiv=i.eGridDiv,this.columnModel=i.columnModel,this.visibleColsService=i.visibleColsService,this.headerNavigationService=i.headerNavigationService,this.headerPositionUtils=i.headerPositionUtils,this.rowRenderer=i.rowRenderer,this.rowPositionUtils=i.rowPositionUtils,this.cellPositionUtils=i.cellPositionUtils,this.navigationService=i.navigationService,this.ctrlsService=i.ctrlsService,this.filterManager=i.filterManager,this.rangeService=i.rangeService,this.advancedFilterService=i.advancedFilterService}static addKeyboardModeEvents(i){this.instanceCount>0||(i.addEventListener("keydown",Pt.toggleKeyboardMode),i.addEventListener("mousedown",Pt.toggleKeyboardMode))}static removeKeyboardModeEvents(i){this.instanceCount>0||(i.addEventListener("keydown",Pt.toggleKeyboardMode),i.addEventListener("mousedown",Pt.toggleKeyboardMode))}static toggleKeyboardMode(i){let s=Pt.keyboardModeActive,n=i.type==="keydown";n&&(i.ctrlKey||i.metaKey||i.altKey)||s!==n&&(Pt.keyboardModeActive=n)}static unregisterGridCompController(i){Pt.removeKeyboardModeEvents(i)}postConstruct(){let i=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:i,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:i,columnRowGroupChanged:i}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(s=>{this.gridCtrl=s.gridCtrl})}registerKeyboardFocusEvents(){let i=this.gos.getDocument();Pt.addKeyboardModeEvents(i),Pt.instanceCount++,this.addDestroyFunc(()=>{Pt.instanceCount--,Pt.unregisterGridCompController(i)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let i=this.focusedCellPosition.column,s=this.columnModel.getCol(i.getId());i!==s&&this.clearFocusedCell()}isKeyboardMode(){return Pt.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Ds.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),ga.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(i,s){let n=i;for(;n;){if(this.gos.getDomData(n,s))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(i){return this.isCellRestoreFocused(i)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(i){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)}setRestoreFocusedCell(i){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=i)}getFocusEventParams(){let{rowIndex:i,rowPinned:s,column:n}=this.focusedCellPosition,o={rowIndex:i,rowPinned:s,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return r&&(o.isFullWidthCell=r.isFullWidth()),o}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;let i=R({type:"cellFocusCleared"},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(i)}setFocusedCell(i){let{column:s,rowIndex:n,rowPinned:o,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:a=!1}=i,l=this.columnModel.getCol(s);if(!l){this.focusedCellPosition=null;return}this.focusedCellPosition=l?{rowIndex:n,rowPinned:Es(o),column:l}:null;let c=J(R({type:"cellFocused"},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:a});this.eventService.dispatchEvent(c)}isCellFocused(i){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.focusedCellPosition)}isRowNodeFocused(i){return this.isRowFocused(i.rowIndex,i.rowPinned)}isHeaderWrapperFocused(i){if(this.focusedHeaderPosition==null)return!1;let s=i.getColumnGroupChild(),n=i.getRowIndex(),o=i.getPinned(),{column:r,headerRowIndex:a}=this.focusedHeaderPosition;return s===r&&n===a&&o==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(i,s){this.focusedHeaderPosition={headerRowIndex:i,column:s}}focusHeaderPosition(i){if(this.gos.get("suppressHeaderFocus"))return!1;let{direction:s,fromTab:n,allowUserOverride:o,event:r,fromCell:a,rowWithoutSpanValue:l}=i,{headerPosition:c}=i;if(a&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(o){let d=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(n){let h=this.gos.getCallback("tabToNextHeader");h&&(c=this.getHeaderPositionFromUserFunc({userFunc:h,direction:s,currentPosition:d,headerPosition:c,headerRowCount:u}))}else{let h=this.gos.getCallback("navigateToNextHeader");if(h&&r){let p={key:r.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:u,event:r};c=h(p)}}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:s,event:r,fromCell:a,rowWithoutSpanValue:l}):!1}focusHeaderPositionFromUserFunc(i){if(this.gos.get("suppressHeaderFocus"))return!1;let{userFunc:s,headerPosition:n,direction:o,event:r}=i,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount(),c=this.getHeaderPositionFromUserFunc({userFunc:s,direction:o,currentPosition:a,headerPosition:n,headerRowCount:l});return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:o,event:r})}getHeaderPositionFromUserFunc(i){let{userFunc:s,direction:n,currentPosition:o,headerPosition:r,headerRowCount:a}=i,c=s({backwards:n==="Before",previousHeaderPosition:o,nextHeaderPosition:r,headerRowCount:a});return c===!0||c===null?(c===null&&L("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),o):c===!1?null:c}focusProvidedHeaderPosition(i){let{headerPosition:s,direction:n,fromCell:o,rowWithoutSpanValue:r,event:a}=i,{column:l,headerRowIndex:c}=s;if(c===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(s):this.focusGridView(l);this.headerNavigationService.scrollToColumn(l,n);let u=this.ctrlsService.getHeaderRowContainerCtrl(l.getPinned()).focusHeader(s.headerRowIndex,l,a);return u&&(r!=null||o)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),u}focusFirstHeader(){let i=this.visibleColsService.getAllCols()[0];if(!i)return!1;i.getParent()&&(i=this.visibleColsService.getColGroupAtLevel(i,0));let s=this.headerPositionUtils.getHeaderIndexToFocus(i,0);return this.focusHeaderPosition({headerPosition:s,rowWithoutSpanValue:0})}focusLastHeader(i){let s=this.headerNavigationService.getHeaderRowCount()-1,n=we(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:s,column:n},rowWithoutSpanValue:-1,event:i})}focusPreviousFromFirstCell(i){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(i,s){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===Es(s)}findFocusableElements(i,s,n=!1){let o=aS,r=Ig;s&&(r+=", "+s),n&&(r+=', [tabindex="-1"]');let a=Array.prototype.slice.apply(i.querySelectorAll(o)).filter(d=>ai(d)),l=Array.prototype.slice.apply(i.querySelectorAll(r));return l.length?((d,u)=>d.filter(h=>u.indexOf(h)===-1))(a,l):a}focusInto(i,s=!1,n=!1){let o=this.findFocusableElements(i,null,n),r=s?we(o):o[0];return r?(r.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(i,s){if(!s)return null;let n=this.findFocusableElements(i),o=n.indexOf(s);if(o===-1)return null;let r=-1;for(let a=o-1;a>=0;a--)if(n[a].classList.contains("ag-tab-guard-top")){r=a;break}return r<=0?null:n[r-1]}findNextFocusableElement(i=this.eGridDiv,s,n){let o=this.findFocusableElements(i,s?':not([tabindex="-1"])':null),r=this.gos.getActiveDomElement(),a;s?a=o.findIndex(c=>c.contains(r)):a=o.indexOf(r);let l=a+(n?-1:1);return l<0||l>=o.length?null:o[l]}isTargetUnderManagedComponent(i,s){if(!s)return!1;let n=i.querySelectorAll(`.${Is.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let o=0;o<n.length;o++)if(n[o].contains(s))return!0;return!1}findTabbableParent(i,s=5){let n=0;for(;i&&cd(i)===null&&++n<=s;)i=i.parentElement;return cd(i)===null?null:i}focusGridView(i,s){if(this.gos.get("suppressCellFocus"))return s?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);let n=s?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;let{rowIndex:o,rowPinned:r}=n,a=this.getFocusedHeader();return!i&&a&&(i=a.column),o==null||!i?!1:(this.navigationService.ensureCellVisible({rowIndex:o,column:i,rowPinned:r}),this.setFocusedCell({rowIndex:o,column:i,rowPinned:Es(r),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:o,rowPinned:r,column:i}),!0)}focusNextGridCoreContainer(i,s=!1){return!s&&this.gridCtrl.focusNextInnerContainer(i)?!0:((s||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)}focusAdvancedFilter(i){return this.advancedFilterFocusColumn=i?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(i,s){let n=(s?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return i?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(i){this.gridCtrl.addFocusableContainer(i)}removeFocusableContainer(i){this.gridCtrl.removeFocusableContainer(i)}focusGridInnerElement(i){return this.gridCtrl.focusInnerElement(i)}};return e.keyboardModeActive=!1,e.instanceCount=0,e})(),NF=kF,VF=class extends P{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},GF=class extends P{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.gridId);let{dragAndDropService:s,mouseEventService:n,ctrlsService:o,resizeObserverService:r}=this.beans;s.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:l=>l===1||l===0,getIconName:()=>"notAllowed"}),n.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new jd(this.view)),this.addRtlSupport();let a=r.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),o.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){let e={type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){let e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),i=this.gos.getActiveDomElement(),s=t.findIndex(o=>o.getGui().contains(i)),n=s+(e?-1:1);if(n<0||n>=t.length)return!1;if(n===0){if(s>0){let o=this.visibleColsService.getAllCols(),r=we(o);if(this.focusService.focusGridView(r,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){let t=this.getFocusableContainers(),i=this.visibleColsService.getAllCols(),s=this.gos.getCallback("focusGridInnerElement");if(s&&s({fromBottom:!!e}))return!0;if(e){if(t.length>1)return this.focusContainer(we(t),!0);let n=we(i);if(this.focusService.focusGridView(n,!0))return!0}if(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let n=1;n<t.length;n++)if(this.focusService.focusInto(t[n].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}focusContainer(e,t){e?.setAllowFocus?.(!0);let i=this.focusService.focusInto(e.getGui(),t);return e?.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers.values()]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},HF=class extends _f{constructor(e){super(),this.gridBody=Y,this.sideBar=Y,this.pagination=Y,this.rootWrapperBody=Y,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCssClass(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new GF),i=t.getOptionalSelectors(),s=this.createTemplate(i),n=[nE,...Object.values(i).filter(o=>!!o)];this.setTemplate(s,n),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&Pi("Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",s=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",n=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",o=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${s}
                ${o}
                ${n}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>ai(t.getGui()))}},WF=class extends P{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";typeof e=="function"&&(e=e());let i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(n=>{if(!n){ke("alignedGrids contains an undefined option."),t||ke(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),ke(i());return}if(this.isGridApi(n))return n;let o=n;return"current"in o?o.current?.api:(o.api||ke(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),o.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){let t={type:"alignedGridColumn",event:e};this.fireEvent(t)}fireScrollEvent(e){if(e.direction!=="horizontal")return;let t={type:"alignedGridScroll",event:e};this.fireEvent(t)}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){let t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){let t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{let t=e;this.processColumnEvent(t);break}case"columnGroupOpened":{let t=e;this.processGroupOpenedEvent(t);break}case"columnPivotChanged":L("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let i=null;if(t){let s=t.getGroupId();i=this.columnModel.getProvidedColGroup(s)}t&&!i||this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;let s=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let a=e.api.getColumnState().map(l=>({colId:l.colId}));this.columnApplyStateService.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let a=e.api.getColumnState().map(l=>({colId:l.colId,hide:l.hide}));this.columnApplyStateService.applyColumnState({state:a},"alignedGridChanged")}break;case"columnPinned":{let a=e.api.getColumnState().map(l=>({colId:l.colId,pinned:l.pinned}));this.columnApplyStateService.applyColumnState({state:a},"alignedGridChanged")}break;case"columnResized":{let r=e,a={};s.forEach(l=>{a[l.getId()]={key:l.getColId(),newWidth:l.getActualWidth()}}),r.flexColumns?.forEach(l=>{a[l.getId()]&&delete a[l.getId()]}),this.columnSizeService.setColumnWidths(Object.values(a),!1,r.finished,"alignedGridChanged");break}}let o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(r=>{r.setGridOption("alwaysShowVerticalScroll",o)})}},zF={version:se,moduleName:"@ag-grid-community/aligned-grid",beans:[WF]};function UF(e,t){let i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function jF(e){return e.columnModel.getColumnDefs()}function $F(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function KF(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function qF(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function YF(e,t){return e.columnModel.getProvidedColGroup(t)}function QF(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function XF(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function ZF(e,t){return e.columnModel.getColDefCol(t)}function JF(e){return e.columnModel.getColDefCols()}function eR(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function tR(e){return e.columnGetStateService.getColumnState()}function iR(e){e.columnApplyStateService.resetColumnState("api")}function sR(e){return e.columnGroupStateService.getColumnGroupState()}function nR(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function oR(e){e.columnGroupStateService.resetColumnGroupState("api")}function rR(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function aR(e){return e.visibleColsService.isPinningLeft()}function lR(e){return e.visibleColsService.isPinningRight()}function cR(e,t){return e.visibleColsService.getColAfter(t)}function dR(e,t){return e.visibleColsService.getColBefore(t)}function uR(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function hR(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function pR(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function gR(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function fR(e){return e.columnModel.getCols()}function mR(e){return e.visibleColsService.getLeftCols()}function CR(e){return e.visibleColsService.getCenterCols()}function vR(e){return e.visibleColsService.getRightCols()}function wR(e){return e.visibleColsService.getAllCols()}function yR(e){return e.columnViewportService.getViewportColumns()}function SR(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function xR(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function bR(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function ER(e,t,i,s=!0,n="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,n)}function FR(e,t,i=!0,s="api"){e.columnSizeService.setColumnWidths(t,!1,i,s)}function RR(e){return e.visibleColsService.getTreeLeft()}function DR(e){return e.visibleColsService.getTreeCenter()}function TR(e){return e.visibleColsService.getTreeRight()}function AR(e){return e.visibleColsService.getAllTrees()}function IR(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function PR(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function MR(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var rg={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ag=["january","february","march","april","may","june","july","august","september","october","november","december"],_R=class extends P{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(ln(e.source))})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let t=s=>n=>{let{column:o,node:r,value:a}=n,l=o.getColDef().valueFormatter;return l===s.groupSafeValueFormatter&&(l=s.valueFormatter),this.valueService.formatValue(o,r,a,l)};Object.entries(e).forEach(([s,n])=>{let o=J(R({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)});this.dataTypeDefinitions[s]=o,this.formatValueFuncs[s]=t(o)});let i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,n])=>{let o=this.processDataTypeDefinition(n,i,[s],e);o&&(this.dataTypeDefinitions[s]=o,n.dataTypeMatcher&&(this.dataTypeMatchers[s]=n.dataTypeMatcher),this.formatValueFuncs[s]=t(o))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{let n=this.dataTypeMatchers[s];n&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=n??e[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){let i=R(R({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...ea(e.columnTypes),...ea(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let n,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=s[o],a=t[o];if(r&&a&&(r=a),!this.validateDataTypeDefinition(e,r,o))return;n=this.mergeDataTypeDefinitions(r,e)}else{if(i.includes(o)){L('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let r=t[o];if(!this.validateDataTypeDefinition(e,r,o))return;let a=this.processDataTypeDefinition(r,t,[...i,o],s);if(!a)return;n=this.mergeDataTypeDefinitions(a,e)}return J(R({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(L('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(L(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){let i=t.column.getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(J(R({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(J(R({},t),{value:t.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if(typeof t.value!="string"||e.dataTypeMatcher?.(t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t,{field:n}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(n,i):!1),!s){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[s];if(!o){L(`Missing data type definition - "${s}"`);return}return e.cellDataType=s,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,o,i),o.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(this.rowModel.getType()!=="clientSide")return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;let s=t.type===null?e.type:t.type;if(s){let n=this.gos.get("columnTypes")??{};if(ea(s).some(r=>{let a=n[r.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;let n=e[i];return n===null?(t[i]=!1,!1):s===void 0?!!n:n===s}inferCellDataType(e,t){if(!e)return;let i,s=this.getInitialData();if(s){let o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Do(s,e,o)}else this.initWaitForRowData(t);if(i==null)return;let[n]=Object.entries(this.dataTypeMatchers).find(([o,r])=>r(i))??["object"];return n}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();let[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{let{firstRowData:n}=s;if(!n)return;i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();let o={type:"dataTypesInferred"};this.eventService.dispatchEvent(o)}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let s={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,r])=>{let a=this.columnModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=this.getUpdatedColumnState(a,r);d.rowGroup&&d.rowGroupIndex==null&&(s[o]=d),d.pivot&&d.pivotIndex==null&&(n[o]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){let i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&L('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&L('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){let n=this.formatValueFuncs[t],o=St.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),r=this.localeService.getLocaleTextFunc(),a=l=>{let{filterParams:c}=e;e.filterParams=typeof c=="object"?R(R({},c),l):l};switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",o&&a({comparator:(l,c)=>{let d=l==null?0:parseInt(l),u=c==null?0:parseInt(c);return d===u?0:d>u?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===I.SPACE,a(o?{valueFormatter:l=>G(l.value)?r(String(l.value),l.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>c===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n,o&&a({valueFormatter:l=>{let c=n(l);return G(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(c===1&&l!=null){let d=ag[Number(l)-1];return r(d,rg[d])}return l??r("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;let l=i.dateParser;a(o?{valueFormatter:c=>{let d=n(c);return G(d)?d:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{let d=l(c??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(c,d)=>{if(d===1&&c!=null){let u=ag[Number(c)-1];return r(u,rg[u])}return c??r("blanks","(Blanks)")}}:{comparator:(c,d)=>{let u=l(d);return d==null||u<c?-1:u>c?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,c)=>{let d=this.columnModel.getColDefCol(s),u=d?.getColDef();if(!d||!u)return 0;let h=l==null?"":n({column:d,node:null,value:l}),p=c==null?"":n({column:d,node:null,value:c});return h===p?0:h>p?1:-1},e.keyCreator=n,o?a({valueFormatter:l=>{let c=n(l);return G(c)?c:r("blanks","(Blanks)")}}):e.filterValueGetter=l=>n({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)});break}}}getDefaultDataTypes(){let e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:ed(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>xt(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Yt(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>xt(i)??void 0,dateFormatter:i=>Yt(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>ed(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},LR={version:se,moduleName:"@ag-grid-community/data-type",beans:[_R]},OR={version:se,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:UF,getColumnDefs:jF,sizeColumnsToFit:$F,setColumnGroupOpened:KF,getColumnGroup:qF,getProvidedColumnGroup:YF,getDisplayNameForColumn:QF,getDisplayNameForColumnGroup:XF,getColumn:ZF,getColumns:JF,applyColumnState:eR,getColumnState:tR,resetColumnState:iR,getColumnGroupState:sR,setColumnGroupState:nR,resetColumnGroupState:oR,isPinning:rR,isPinningLeft:aR,isPinningRight:lR,getDisplayedColAfter:cR,getDisplayedColBefore:dR,setColumnVisible:uR,setColumnsVisible:hR,setColumnPinned:pR,setColumnsPinned:gR,getAllGridColumns:fR,getDisplayedLeftColumns:mR,getDisplayedCenterColumns:CR,getDisplayedRightColumns:vR,getAllDisplayedColumns:wR,getAllDisplayedVirtualColumns:yR,moveColumn:SR,moveColumnByIndex:xR,moveColumns:bR,setColumnWidth:ER,setColumnWidths:FR,getLeftDisplayedColumnGroups:RR,getCenterDisplayedColumnGroups:DR,getRightDisplayedColumnGroups:TR,getAllDisplayedColumnGroups:AR,autoSizeColumn:IR,autoSizeColumns:PR,autoSizeAllColumns:MR}};function BR(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function kR(e,t){let i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function NR(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var VR={version:se,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:BR,removeRowDropZone:kR,getRowDropZoneParams:NR}};function GR(e){return e.pinnedRowModel.getPinnedTopRowCount()}function HR(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function WR(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function zR(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var UR={version:se,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:GR,getPinnedBottomRowCount:HR,getPinnedTopRow:WR,getPinnedBottomRow:zR}};function jR(e){e.overlayService.showLoadingOverlay()}function $R(e){e.overlayService.showNoRowsOverlay()}function KR(e){e.overlayService.hideOverlay()}var qR={version:se,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:jR,showNoRowsOverlay:$R,hideOverlay:KR}};function YR(e,t,i){if(!t)return;let s=e.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${t}`;i===null?s.removeAttribute(n):s.setAttribute(n,i)}function QR(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function XR(e,t={}){let i=s=>L(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);G(t.fadeDelay)&&i("fade"),G(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function ZR(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function JR(e){return e.animationFrameService.isQueueEmpty()}function eD(e){e.animationFrameService.flushAllFrames()}function tD(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}}function iD(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Ao)}var sD={version:se,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:YR,refreshCells:QR,flashCells:XR,refreshHeader:ZR,isAnimationFrameQueueEmpty:JR,flushAllAnimationFrames:eD,getSizesForCurrentTheme:tD,getCellRendererInstances:iD}};function nD(e){e.valueCache.expire()}function oD(e,t,i){return Lf(e,{colKey:t,rowNode:i})}function Lf(e,t){let{colKey:i,rowNode:s,useFormatter:n}=t,o=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(xe(o))return null;let r=e.valueService.getValue(o,s);return n?e.valueService.formatValue(o,s,r)??wi(r,!0):r}function rD(e){return e.context.getGridId()}function aD(e){e.gridDestroyService.destroy()}function lD(e){return e.gridDestroyService.isDestroyCalled()}function cD(e,t){return e.gos.get(t)}function dD(e,t,i){Of(e,{[t]:i})}function Of(e,t){e.gos.updateGridOptions({options:t})}function uD(e,t,i){e.apiEventService.addEventListener(t,i)}function hD(e,t,i){e.apiEventService.removeEventListener(t,i)}function pD(e,t){e.apiEventService.addGlobalListener(t)}function gD(e,t){e.apiEventService.removeGlobalListener(t)}function fD(e){return e.focusService.getFocusedCell()}function mD(e){return e.focusService.clearFocusedCell()}function CD(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function vD(e,t){return e.navigationService.tabToNextCell(!1,t)}function wD(e,t){return e.navigationService.tabToNextCell(!0,t)}function yD(e,t,i=!1){let s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})}function SD(e,t,i){let s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function xD(e,t,i){let s=e.columnModel.getCol(t);if(s||(s=e.columnModel.getColDefCol(t)),!s){ke(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function bD(e,t){let i=e.columnModel.getCol(t);if(!i){ke(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function ED(e){e.menuService.hidePopupMenu()}function FD(e,t={}){let i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function RD(e,t,i,s,n){e.expansionService.setRowNodeExpanded(t,i,s,n)}function DD(e,t){return e.rowModel.getRowNode(t)}function TD(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function AD(e){return e.rowRenderer.getRenderedNodes()}function ID(e,t,i){e.rowModel.forEachNode(t,i)}function PD(e){return Bf(e)}function Bf(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function MD(e){return kf(e)}function kf(e){return e.rowRenderer.getLastVirtualRenderedRow()}function _D(e,t){return e.rowModel.getRow(t)}function LD(e){return e.rowModel.getRowCount()}function OD(e){return e.rowModel}function BD(e,t){if(!t.nodes.every(a=>a.rowPinned?(L("cannot select pinned rows"),!1):a.id===void 0?(L("cannot select node until id for node is known"),!1):!0))return;let{nodes:s,source:n,newValue:o}=t,r=s;e.selectionService.setNodesSelected({nodes:r,source:n??"api",newValue:o})}function kD(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function ND(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function VD(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function GD(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function HD(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function WD(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function zD(e){return e.selectionService.getSelectedNodes()}function UD(e){return e.selectionService.getSelectedRows()}function jD(e){e.sortController.onSortChanged("api")}var $D={version:se,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:rD,destroy:aD,isDestroyed:lD,getGridOption:cD,setGridOption:dD,updateGridOptions:Of}},KD={version:se,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:BD,selectAll:kD,deselectAll:ND,selectAllFiltered:VD,deselectAllFiltered:GD,selectAllOnCurrentPage:HD,deselectAllOnCurrentPage:WD,getSelectedNodes:zD,getSelectedRows:UD}},qD={version:se,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:FD,setRowNodeExpanded:RD,getRowNode:DD,addRenderedRowListener:TD,getRenderedNodes:AD,forEachNode:ID,getFirstDisplayedRow:PD,getFirstDisplayedRowIndex:Bf,getLastDisplayedRow:MD,getLastDisplayedRowIndex:kf,getDisplayedRowAtIndex:_D,getDisplayedRowCount:LD,getModel:OD}},YD={version:se,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:ME,getHorizontalPixelRange:_E,ensureColumnVisible:If,ensureIndexVisible:Pf,ensureNodeVisible:LE}},QD={version:se,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:fD,clearFocusedCell:mD,setFocusedCell:CD,setFocusedHeader:yD,tabToNextCell:vD,tabToPreviousCell:wD}},XD={version:se,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:uD,addGlobalListener:pD,removeEventListener:hD,removeGlobalListener:gD}},ZD={version:se,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:nD,getValue:oD,getCellValue:Lf}},JD={version:se,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:SD,showColumnMenuAfterMouseClick:xD,showColumnMenu:bD,hidePopupMenu:ED}},eT={version:se,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:jD}},tT={version:se,moduleName:"@ag-grid-community/api",dependantModules:[$D,UR,KD,OR,qD,VR,YD,qR,QD,XD,sD,ZD,JD,eT]};function iT(e){return e.stateService?.getState()??{}}var sT=class extends P{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ot(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ot(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ot(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.gos.get("initialState")??{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedEventListeners({columnValueChanged:()=>this.updateColumnState(["aggregation"]),columnMoved:()=>this.updateColumnState(["columnOrder"]),columnPinned:()=>this.updateColumnState(["columnPinning"]),columnResized:()=>this.updateColumnState(["columnSizing"]),columnVisible:()=>this.updateColumnState(["columnVisibility"]),columnPivotChanged:()=>this.updateColumnState(["pivot"]),columnPivotModeChanged:()=>this.updateColumnState(["pivot"]),columnRowGroupChanged:()=>this.updateColumnState(["rowGroup"]),sortChanged:()=>this.updateColumnState(["sort"]),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.gos.get("initialState")??{},n=this.gos.get("advancedFilterModel");(e||n)&&this.setFilterState(e,n),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,rangeSelection:t,focusedCell:i,columnOrder:s}=this.gos.get("initialState")??{};i&&this.setFocusedCellState(i),t&&this.setRangeSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!s?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:n=>{n.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let e=this.columnModel.isPivotMode(),t=[],i=[],s=[],n=[],o=[],r=[],a=[],l=[],c=[],d=this.columnGetStateService.getColumnState();for(let u=0;u<d.length;u++){let{colId:h,sort:p,sortIndex:g,rowGroup:v,rowGroupIndex:C,aggFunc:f,pivot:m,pivotIndex:w,pinned:y,hide:E,width:S,flex:D}=d[u];c.push(h),p&&(t[g??0]={colId:h,sort:p}),v&&(i[C??0]=h),typeof f=="string"&&s.push({colId:h,aggFunc:f}),m&&(n[w??0]=h),y&&(y==="right"?r:o).push(h),E&&a.push(h),(D||S)&&l.push({colId:h,flex:D??void 0,width:S})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:n.length||e?{pivotMode:e,pivotColIds:n}:void 0,columnPinning:o.length||r.length?{leftColIds:o,rightColIds:r}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){let{sort:t,rowGroup:i,aggregation:s,pivot:n,columnPinning:o,columnVisibility:r,columnSizing:a,columnOrder:l}=e,c={},d=g=>{let v=c[g];return v||(v={colId:g},c[g]=v,v)};t&&t.sortModel.forEach(({colId:g,sort:v},C)=>{let f=d(g);f.sort=v,f.sortIndex=C}),i&&i.groupColIds.forEach((g,v)=>{let C=d(g);C.rowGroup=!0,C.rowGroupIndex=v}),s&&s.aggregationModel.forEach(({colId:g,aggFunc:v})=>{d(g).aggFunc=v}),n&&(n.pivotColIds.forEach((g,v)=>{let C=d(g);C.pivot=!0,C.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach(g=>{d(g).pinned="left"}),o.rightColIds.forEach(g=>{d(g).pinned="right"})),r&&r.hiddenColIds.forEach(g=>{d(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:v,width:C})=>{let f=d(g);f.flex=v??null,f.width=C});let u=l?.orderedColIds,h=!!u?.length,p=h?u.map(g=>d(g)):Object.values(c);if(p.length){this.columnStates=p;let g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:p,applyOrder:h,defaultState:g},"gridInitializing")}}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){let s=[];for(let n of t)this.pivotResultColsService.getPivotResultCol(n.colId)&&s.push(n);this.columnApplyStateService.applyColumnState({state:s,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let t=new Set(e.columnGroup?.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:n})=>{let o=t.has(n);return o&&t.delete(n),{groupId:n,open:o}});t.forEach(n=>{s.push({groupId:n,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);let t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){let{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),s&&this.filterManager?.setAdvancedFilterModel(s)}getRangeSelectionState(){let e=this.rangeService?.getCellRanges().map(t=>{let{id:i,type:s,startRow:n,endRow:o,columns:r,startColumn:a}=t;return{id:i,type:s,startRow:n,endRow:o,colIds:r.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;let t=[];e.cellRanges.forEach(i=>{let s=[];if(i.colIds.forEach(o=>{let r=this.columnModel.getCol(o);r&&s.push(r)}),!s.length)return;let n=this.columnModel.getCol(i.startColId);if(!n){let o=this.visibleColsService.getAllCols(),r=new Set(s);n=o.find(a=>r.has(a))}t.push(J(R({},i),{columns:s,startColumn:n}))}),this.rangeService.setCellRanges(t)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){let e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),i=!1;Object.entries(t).forEach(([s,n])=>{sd(n,this.cachedState[s])||(i=!0)}),this.cachedState=R(R({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),sd(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=J(R({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();let t={type:"stateUpdated",sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Nf={version:se,moduleName:"@ag-grid-community/state-core",beans:[sT]},nT={version:se,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:iT},dependantModules:[Nf]},oT={version:se,moduleName:"@ag-grid-community/state",dependantModules:[Nf,nT]};function rT(e){return e.rowModel.isLastRowIndexKnown()}function aT(e){return e.paginationService?.getPageSize()??100}function lT(e){return e.paginationService?.getCurrentPage()??0}function cT(e){return e.paginationService?.getTotalPages()??1}function dT(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function uT(e){e.paginationService?.goToNextPage()}function hT(e){e.paginationService?.goToPreviousPage()}function pT(e){e.paginationService?.goToFirstPage()}function gT(e){e.paginationService?.goToLastPage()}function fT(e,t){e.paginationService?.goToPage(t)}var mT=class extends P{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let t=()=>{let i=Math.max(this.gos.getRowHeightAsNumber(),1),s=Math.floor(e/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?Ot(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function CT(e,t,i){e.addManagedElementListeners(t,{keydown:s=>{if(!s.defaultPrevented&&s.key===I.TAB){let n=s.shiftKey;i.findNextFocusableElement(t,!1,n)||i.focusNextGridCoreContainer(n)&&s.preventDefault()}}})}var vT=class extends ye{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){ut(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),L(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));let s=this.localeService.getLocaleTextFunc(),n=s("pageSizeSelectorLabel","Page Size:"),o=e.map(a=>({value:String(a),text:String(a)})),r=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Ld).addOptions(o).setValue(String(i?"":t)).setAriaLabel(r).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return!Array.isArray(t)||!this.validateValues(t)?e:[...t].sort((i,s)=>i-s)}validateValues(e){if(!e.length)return L(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){let i=e[t],s=typeof i=="number",n=i>0;if(!s)return L(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!n)return L(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},wT={selector:"AG-PAGE-SIZE-SELECTOR",component:vT},yT=class extends _f{constructor(){super(),this.btFirst=Y,this.btPrevious=Y,this.btNext=Y,this.btLast=Y,this.lbRecordCount=Y,this.lbFirstRowOnPage=Y,this.lbLastRowOnPage=Y,this.lbCurrent=Y,this.lbTotal=Y,this.pageSizeComp=Y,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowNodeBlockLoader=e.rowNodeBlockLoader,this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[wT]);let{btFirst:t,btPrevious:i,btNext:s,btLast:n}=this;this.activateTabIndex([t,i,s,n]),t.insertAdjacentElement("afterbegin",Bt(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Bt(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",Bt(e?"previous":"next",this.gos)),n.insertAdjacentElement("afterbegin",Bt(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):this.focusService.focusGridInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===I.ENTER||s.key===I.SPACE)&&(s.preventDefault(),i())}})}),CT(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}setCurrentPageLabel(){let e=this.paginationService.getTotalPages()>0,t=this.paginationService.getCurrentPage(),i=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});let i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),n=i("decimalSeparator",".");return Nx(e,s,n)}getTemplate(){let e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),n=e("firstPage","First Page"),o=e("previousPage","Previous Page"),r=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let s=this.isZeroPagesToDisplay(),n=e===i-1;this.nextButtonDisabled=n||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ky(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){let e=this.paginationService.getCurrentPage(),t=this.paginationService.getPageSize(),i=this.rowModel.isLastRowIndexKnown(),s=this.rowModel.isLastRowIndexKnown()?this.paginationService.getMasterRowCount():null,n,o;if(this.isZeroPagesToDisplay()?n=o=0:(n=t*e+1,o=n+t-1,i&&o>s&&(o=s)),this.lbFirstRowOnPage.textContent=this.formatNumber(n),this.rowNodeBlockLoader?.isLoading()){let r=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=r("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(o)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}setTotalLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=e?this.paginationService.getMasterRowCount():null;if(i===1){let s=this.rowModel.getRow(0);if(s&&s.group&&!(s.groupData||s.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{let s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}},ST={selector:"AG-PAGINATION",component:yT},xT=class extends P{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return ST}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return G(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:G(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:G(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:G(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let t=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e,n={type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t};this.eventService.dispatchEvent(n)}},Vf={version:se,moduleName:"@ag-grid-community/pagination-core",beans:[xT,mT]},bT={version:se,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Vf],apiFunctions:{paginationIsLastPageFound:rT,paginationGetPageSize:aT,paginationGetCurrentPage:lT,paginationGetTotalPages:cT,paginationGetRowCount:dT,paginationGoToNextPage:uT,paginationGoToPreviousPage:hT,paginationGoToFirstPage:pT,paginationGoToLastPage:gT,paginationGoToPage:fT}},ET={version:se,moduleName:"@ag-grid-community/pagination",dependantModules:[Vf,bT]},F="@ag-grid-community/core",mi="@ag-grid-community/client-side-row-model",lg="@ag-grid-community/csv-export",Yr="@ag-grid-community/infinite-row-model",Qr="@ag-grid-enterprise/advanced-filter",ni="@ag-grid-enterprise/charts",nn="@ag-grid-enterprise/clipboard",Eo="@ag-grid-enterprise/excel-export",Xr="@ag-grid-enterprise/master-detail",Xc="@ag-grid-enterprise/menu",Zc="@ag-grid-enterprise/range-selection",Be="@ag-grid-enterprise/row-grouping",Ai="@ag-grid-enterprise/server-side-row-model",Ci="@ag-grid-enterprise/side-bar",FT="@ag-grid-enterprise/status-bar",RT={dispatchEvent:F,getState:F,getGridId:F,destroy:F,isDestroyed:F,getGridOption:F,setGridOption:F,updateGridOptions:F,setNodesSelected:F,selectAll:F,deselectAll:F,selectAllFiltered:F,deselectAllFiltered:F,selectAllOnCurrentPage:F,deselectAllOnCurrentPage:F,getSelectedNodes:F,getSelectedRows:F,redrawRows:F,setRowNodeExpanded:F,getRowNode:F,addRenderedRowListener:F,getRenderedNodes:F,forEachNode:F,getFirstDisplayedRow:F,getFirstDisplayedRowIndex:F,getLastDisplayedRow:F,getLastDisplayedRowIndex:F,getDisplayedRowAtIndex:F,getDisplayedRowCount:F,getModel:F,getVerticalPixelRange:F,getHorizontalPixelRange:F,ensureColumnVisible:F,ensureIndexVisible:F,ensureNodeVisible:F,getFocusedCell:F,clearFocusedCell:F,setFocusedCell:F,tabToNextCell:F,tabToPreviousCell:F,setFocusedHeader:F,addEventListener:F,addGlobalListener:F,removeEventListener:F,removeGlobalListener:F,expireValueCache:F,getValue:F,getCellValue:F,showColumnMenuAfterButtonClick:F,showColumnMenuAfterMouseClick:F,showColumnMenu:F,hidePopupMenu:F,onSortChanged:F,getPinnedTopRowCount:F,getPinnedBottomRowCount:F,getPinnedTopRow:F,getPinnedBottomRow:F,showLoadingOverlay:F,showNoRowsOverlay:F,hideOverlay:F,setGridAriaProperty:F,refreshCells:F,flashCells:F,refreshHeader:F,isAnimationFrameQueueEmpty:F,flushAllAnimationFrames:F,getSizesForCurrentTheme:F,getCellRendererInstances:F,addRowDropZone:F,removeRowDropZone:F,getRowDropZoneParams:F,getColumnDef:F,getColumnDefs:F,sizeColumnsToFit:F,setColumnGroupOpened:F,getColumnGroup:F,getProvidedColumnGroup:F,getDisplayNameForColumn:F,getDisplayNameForColumnGroup:F,getColumn:F,getColumns:F,applyColumnState:F,getColumnState:F,resetColumnState:F,getColumnGroupState:F,setColumnGroupState:F,resetColumnGroupState:F,isPinning:F,isPinningLeft:F,isPinningRight:F,getDisplayedColAfter:F,getDisplayedColBefore:F,setColumnVisible:F,setColumnsVisible:F,setColumnPinned:F,setColumnsPinned:F,getAllGridColumns:F,getDisplayedLeftColumns:F,getDisplayedCenterColumns:F,getDisplayedRightColumns:F,getAllDisplayedColumns:F,getAllDisplayedVirtualColumns:F,moveColumn:F,moveColumnByIndex:F,moveColumns:F,setColumnWidth:F,setColumnWidths:F,getLeftDisplayedColumnGroups:F,getCenterDisplayedColumnGroups:F,getRightDisplayedColumnGroups:F,getAllDisplayedColumnGroups:F,autoSizeColumn:F,autoSizeColumns:F,autoSizeAllColumns:F,undoCellEditing:F,redoCellEditing:F,getCellEditorInstances:F,getEditingCells:F,stopEditing:F,startEditingCell:F,getCurrentUndoSize:F,getCurrentRedoSize:F,isAnyFilterPresent:F,onFilterChanged:F,isColumnFilterPresent:F,getFilterInstance:F,getColumnFilterInstance:F,destroyFilter:F,setFilterModel:F,getFilterModel:F,getColumnFilterModel:F,setColumnFilterModel:F,showColumnFilter:F,isQuickFilterPresent:F,getQuickFilter:F,resetQuickFilter:F,paginationIsLastPageFound:F,paginationGetPageSize:F,paginationGetCurrentPage:F,paginationGetTotalPages:F,paginationGetRowCount:F,paginationGoToNextPage:F,paginationGoToPreviousPage:F,paginationGoToFirstPage:F,paginationGoToLastPage:F,paginationGoToPage:F,expandAll:F,collapseAll:F,onRowHeightChanged:F,setRowCount:F,getCacheBlockState:F,onGroupExpandedOrCollapsed:mi,refreshClientSideRowModel:mi,forEachLeafNode:mi,forEachNodeAfterFilter:mi,forEachNodeAfterFilterAndSort:mi,resetRowHeights:mi,applyTransaction:mi,applyTransactionAsync:mi,flushAsyncTransactions:mi,getBestCostNodeSelection:mi,getDataAsCsv:lg,exportDataAsCsv:lg,refreshInfiniteCache:Yr,purgeInfiniteCache:Yr,getInfiniteRowCount:Yr,isLastRowIndexKnown:Yr,getAdvancedFilterModel:Qr,setAdvancedFilterModel:Qr,showAdvancedFilterBuilder:Qr,hideAdvancedFilterBuilder:Qr,getChartModels:ni,getChartRef:ni,getChartImageDataURL:ni,downloadChart:ni,openChartToolPanel:ni,closeChartToolPanel:ni,createRangeChart:ni,createPivotChart:ni,createCrossFilterChart:ni,updateChart:ni,restoreChart:ni,copyToClipboard:nn,cutToClipboard:nn,copySelectedRowsToClipboard:nn,copySelectedRangeToClipboard:nn,copySelectedRangeDown:nn,pasteFromClipboard:nn,getDataAsExcel:Eo,exportDataAsExcel:Eo,getSheetDataForExcel:Eo,getMultipleSheetsAsExcel:Eo,exportMultipleSheetsAsExcel:Eo,addDetailGridInfo:Xr,removeDetailGridInfo:Xr,getDetailGridInfo:Xr,forEachDetailGridInfo:Xr,showContextMenu:Xc,showColumnChooser:Xc,hideColumnChooser:Xc,getCellRanges:Zc,addCellRange:Zc,clearRangeSelection:Zc,addAggFunc:Be,addAggFuncs:Be,clearAggFuncs:Be,setColumnAggFunc:Be,isPivotMode:Be,getPivotResultColumn:Be,setValueColumns:Be,getValueColumns:Be,removeValueColumn:Be,removeValueColumns:Be,addValueColumn:Be,addValueColumns:Be,setRowGroupColumns:Be,removeRowGroupColumn:Be,removeRowGroupColumns:Be,addRowGroupColumn:Be,addRowGroupColumns:Be,getRowGroupColumns:Be,moveRowGroupColumn:Be,setPivotColumns:Be,removePivotColumn:Be,removePivotColumns:Be,addPivotColumn:Be,addPivotColumns:Be,getPivotColumns:Be,setPivotResultColumns:Be,getPivotResultColumns:Be,getServerSideSelectionState:Ai,setServerSideSelectionState:Ai,applyServerSideTransaction:Ai,applyServerSideTransactionAsync:Ai,applyServerSideRowData:Ai,retryServerSideLoads:Ai,flushServerSideAsyncTransactions:Ai,refreshServerSide:Ai,getServerSideGroupLevelState:Ai,isSideBarVisible:Ci,setSideBarVisible:Ci,setSideBarPosition:Ci,openToolPanel:Ci,closeToolPanel:Ci,getOpenedToolPanel:Ci,refreshToolPanel:Ci,isToolPanelShowing:Ci,getToolPanelInstance:Ci,getSideBar:Ci,getStatusPanel:FT},It="clientSide",yt="serverSide",on="infinite",DT={onGroupExpandedOrCollapsed:[It],refreshClientSideRowModel:[It],forEachLeafNode:[It],forEachNodeAfterFilter:[It],forEachNodeAfterFilterAndSort:[It],resetRowHeights:[It],applyTransaction:[It],applyTransactionAsync:[It],flushAsyncTransactions:[It],getBestCostNodeSelection:[It],getServerSideSelectionState:[yt],setServerSideSelectionState:[yt],applyServerSideTransaction:[yt],applyServerSideTransactionAsync:[yt],applyServerSideRowData:[yt],retryServerSideLoads:[yt],flushServerSideAsyncTransactions:[yt],refreshServerSide:[yt],getServerSideGroupLevelState:[yt],refreshInfiniteCache:[on],purgeInfiniteCache:[on],getInfiniteRowCount:[on],isLastRowIndexKnown:[on],expandAll:[It,yt],collapseAll:[It,yt],onRowHeightChanged:[It,yt],setRowCount:[on,yt],getCacheBlockState:[on,yt]},TT={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};function AT(e,t){let i=RT[e];i?St.__assertRegistered(i,`api.${e}`,t)&&L(`API function '${e}' not registered to module '${i}'`):ke(`Unknown API function: '${e}' on GridApi.`)}function IT(e,t,i){let s=TT[e];if(s){let{version:o,new:r,old:a,message:l}=s,c=a??e;return(...d)=>{let u=r?`Please use ${r} instead. `:"";return L(`Since ${o} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}let n=DT[e];return n?(...o)=>{let r=i.rowModel.getType();if(!n.includes(r)){ke(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,o)}:t}var PT={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},Ji=(e,t)=>(t.rowModelType??"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null,MT={enableRowGroup:Ji,rowGroup:Ji,rowGroupIndex:Ji,enablePivot:Ji,enableValue:Ji,pivot:Ji,pivotIndex:Ji,aggFunc:Ji,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>cn},_T={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},LT=Object.keys(_T),cn={objectName:"colDef",allProperties:LT,docsUrl:"column-properties/",deprecations:PT,validations:MT},OT=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}}),BT={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},kT=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{let t=e.rowModelType??"clientSide";switch(t){case"clientSide":{let i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{let i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>cn,defaultColDef:()=>cn,defaultColGroupDef:()=>cn,autoGroupColumnDef:()=>cn}),NT=()=>({objectName:"gridOptions",allProperties:[...Mo.ALL_PROPERTIES,..._o.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:OT(),validations:kT()}),VT=class extends P{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,NT())}processColumnDefs(e){this.processOptions(e,cn)}warnMissingApiFunction(e){AT(e,this.gridId)}validateApiFunction(e,t){return IT(e,t,this.beans)}processOptions(e,t){let{validations:i,deprecations:s,allProperties:n,propertyExceptions:o,objectName:r,docsUrl:a}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(s)],n,r,a);let l=new Set;Object.keys(e).forEach(d=>{let u=s[d];if(u)if("renamed"in u){let{renamed:m,version:w}=u;l.add(`As of v${w}, ${String(d)} is deprecated. Please use ${String(m)} instead.`),e[m]=e[d]}else{let{message:m,version:w}=u;l.add(`As of v${w}, ${String(d)} is deprecated. ${m??""}`)}let h=e[d];if(h==null||h===!1)return;let p=i[d],g;if(p)if(typeof p=="function"){let m=p(e,this.gridOptions);if(!m)return;if("objectName"in m){let w=e[d];if(Array.isArray(w)){w.forEach(y=>{this.processOptions(y,m)});return}this.processOptions(e[d],m);return}g=m}else g=p;else return;let{module:v,dependencies:C,supportedRowModels:f}=g;if(f){let m=this.gridOptions.rowModelType??"clientSide";if(!f.includes(m)){l.add(`${String(d)} is not supported with the '${m}' row model.`);return}}if(v){let m=Array.isArray(v)?v:[v],w=!0;if(m.forEach(y=>{St.__assertRegistered(y,String(d),this.gridId)||(w=!1,l.add(`${String(d)} is only available when ${y} is loaded.`))}),!w)return}if(C){let m=this.checkForWarning(d,C,e);if(m){l.add(m);return}}}),l.size>0&&l.forEach(d=>{L(d)})}checkForWarning(e,t,i){if(typeof t=="function")return t(i,this.gridOptions);let n=Object.entries(t).find(([a,l])=>{let c=i[a];return!l.includes(c)});if(!n)return null;let[o,r]=n;return r.length>1?`'${String(e)}' requires '${o}' to be one of [${r.join(", ")}].`:`'${String(e)}' requires '${o}' to be ${r[0]}.`}checkProperties(e,t,i,s,n){let o=["__ob__","__v_skip","__metadata__"],r=BS(Object.getOwnPropertyNames(e),[...o,...t,...i],i);if(oi(r,(a,l)=>{let c=`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),L(c)}),Object.keys(r).length>0&&n){let a=this.getFrameworkOverrides().getDocLink(n);L(`to see all the valid ${s} properties please check: ${a}`)}}},GT={version:se,moduleName:"@ag-grid-community/core"},HT={version:se,moduleName:"@ag-grid-community/core-validations",beans:[VT]},WT={version:se,moduleName:"@ag-grid-community/core-community-features",dependantModules:[GT,HT,ZE,xb,oT,LR,zF,ET,tT]},zT=class extends P{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){if(this.destroyCalled)return;let e={type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}};this.eventService.dispatchEvent(e),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy()}isDestroyCalled(){return this.destroyCalled}},ta=new Set(["gridPreDestroyed","fillStart","pasteStart"]),UT=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",jT=new Map([...Mo.BOOLEAN_PROPERTIES.map(e=>[e,id]),...Mo.NUMBER_PROPERTIES.map(e=>[e,af]),["groupAggFiltering",e=>typeof e=="function"?e:id(e)],["pageSize",fi(1)],["autoSizePadding",fi(0)],["keepDetailRowsCount",fi(1)],["rowBuffer",fi(0)],["infiniteInitialRowCount",fi(1)],["cacheOverflowSize",fi(1)],["cacheBlockSize",fi(1)],["serverSideInitialRowCount",fi(1)],["viewportRowModelPageSize",fi(1)],["viewportRowModelBufferSize",fi(0)]]);function Gf(e,t){let i=jT.get(e);return i?i(t):t}function $T(e){let t={};return Object.entries(e).forEach(([i,s])=>{let n=Gf(i,s);t[i]=n}),t}var KT=(()=>{let e=class Hf extends P{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new gn,this.globalEventHandlerFactory=i=>(s,n)=>{if(!this.isAlive())return;let o=ta.has(s);if(o&&!i||!o&&i)return;let r=_o.getCallbackForEvent(s),a=this.gridOptions[r];typeof a=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{a(n)})}}wireBeans(i){this.gridOptions=i.gridOptions,this.eGridDiv=i.eGridDiv,this.validationService=i.validationService,this.environment=i.environment,this.api=i.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){let i=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),i),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:({options:s})=>{this.updateGridOptions({options:s,force:!0,source:"gridOptionsUpdated"})}})}get(i){return this.gridOptions[i]??BT[i]}getCallback(i){return this.mergeGridCommonParams(this.gridOptions[i])}exists(i){return G(this.gridOptions[i])}mergeGridCommonParams(i){return i&&(n=>{let o=n;return o.api=this.api,o.context=this.gridOptionsContext,i(o)})}updateGridOptions({options:i,force:s,source:n="api"}){let o={id:Hf.changeSetId++,properties:[]},r=[];Object.entries(i).forEach(([a,l])=>{n==="api"&&Hy[a]&&L(`${a} is an initial property and cannot be updated.`);let c=Gf(a,l),d=s||typeof c=="object"&&n==="api",u=this.gridOptions[a];if(d||u!==c){this.gridOptions[a]=c;let h={type:a,currentValue:c,previousValue:u,changeSet:o,source:n};r.push(h)}}),this.validationService?.processGridOptions(this.gridOptions),o.properties=r.map(a=>a.type),r.forEach(a=>{this.gridOptions.debug&&Pi(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(i,s){this.propertyEventService.addEventListener(i,s)}removePropertyEventListener(i,s){this.propertyEventService.removeEventListener(i,s)}getScrollbarWidth(){if(this.scrollbarWidth==null){let s=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:rS();s!=null&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(i){return this.gridOptions.rowModelType===i||i==="clientSide"&&xe(this.gridOptions.rowModelType)}isDomLayout(i){return(this.gridOptions.domLayout??"normal")===i}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(i,s=!1,n){if(n==null&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(s)return{height:n,estimated:!0};let r={node:i,data:i.data},a=this.getCallback("getRowHeight")(r);if(this.isNumeric(a))return a===0&&L("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}return i.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||xe(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();let i=this.environment.refreshRowHeightVariable();return i!==-1?i:(L("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(i){return!isNaN(i)&&typeof i=="number"&&isFinite(i)}getDomDataKey(){return this.domDataKey}getDomData(i,s){let n=i[this.getDomDataKey()];return n?n[s]:void 0}setDomData(i,s,n){let o=this.getDomDataKey(),r=i[o];xe(r)&&(r={},i[o]=r),r[s]=n}getDocument(){let i=null;return this.gridOptions.getDocument&&G(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&G(i)?i:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return G(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){return!this.gridOptions.autoGroupColumnDef?.comparator&&!this.get("treeData")}getGroupAggFiltering(){let i=this.gridOptions.groupAggFiltering;if(typeof i=="function")return this.getCallback("groupAggFiltering");if(i===!0)return()=>!0}getGrandTotalRow(){let i=this.gridOptions.grandTotalRow;if(i)return i;if(this.gridOptions.groupIncludeTotalFooter)return"bottom"}getGroupTotalRowCallback(){let i=this.get("groupTotalRow");if(typeof i=="function")return this.getCallback("groupTotalRow");if(i)return()=>i;let s=this.get("groupIncludeFooter");if(typeof s=="function"){let n=this.getCallback("groupIncludeFooter");return o=>n(o)?"bottom":void 0}return()=>s?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(i){return i?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(i){let s=i;return s.api=this.api,s.context=this.gridOptionsContext,s}getRowIdCallback(){let i=this.getCallback("getRowId");return i===void 0?i:s=>{let n=i(s);return typeof n!="string"&&(L("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}};return e.changeSetId=0,e})(),qT=KT,YT=class extends P{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if(Qe(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;let{headerRowIndex:n}=e;if(this.getHeaderRowType(n)!=="filter"){let a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-n]}let{column:o,headerRowIndex:r}=this.getHeaderIndexToFocus(i,n);return{column:o,headerRowIndex:r}}getHeaderIndexToFocus(e,t){let i;if(Qe(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){let s=e;i=s.getLeafColumns()[0];let n=i;for(;n!==s;)t++,n=n.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){let i=this.getHeaderRowType(t),s=i==="filter",n=i==="column",o=s?e:e.getParent(),r=t-1,a=r;if(n&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;a=r,r<0&&(o=e,r=t,a=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){let s=this.getHeaderRowType(t),n=e,o=t+1,r=o;if(s==="group"){let a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:we(a),c=[],d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(n=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){let h=c[u];if(!h.isPadding()){n=h;break}o++}else n=we(c),n||(n=l)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:r}}getHeaderRowType(e){let t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let i=this.visibleColsService.getAllCols(),s=i[t==="start"?0:i.length-1];if(!s)return;let o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getRowType(e);if(o=="group"){let r=this.visibleColsService.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:r}}return{headerRowIndex:o==null?-1:e,column:s}}},QT=class extends P{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){let e=this.gos.getCallback("getLocaleText");if(e)return(i,s,n)=>e({key:i,defaultValue:s,variableValues:n});let t=this.gos.get("localeText");return(i,s,n)=>{let o=t&&t[i];if(o&&n&&n.length){let r=0;for(;!(r>=n.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",n[r++])}return o??s}}},XT=class extends P{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new md(this.getFrameworkOverrides())}addEventListener(e,t){let i=this.frameworkEventWrappingService.wrap(t),s=this.gos.useAsyncEvents()&&!ta.has(e),n=s?this.asyncEventListeners:this.syncEventListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){let i=this.frameworkEventWrappingService.unwrap(t),n=!!this.asyncEventListeners.get(e)?.delete(i);n||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,n)}addGlobalListener(e){let t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){let s=(o,r)=>{ta.has(o)&&t(o,r)},n=(o,r)=>{ta.has(o)||t(o,r)};this.globalEventListenerPairs.set(e,{syncListener:s,asyncListener:n}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){let t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){let{syncListener:s,asyncListener:n}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(n=>this.eventService.removeEventListener(s,n,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},ZT=class extends P{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages();let t={type:"paginationChanged",animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},JT=class extends P{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return xe(this.topRowBounds)||xe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){let e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=G(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},eA=class extends P{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.announceValue=Ot(this.announceValue.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){let e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),xg(t,"polite"),$y(t,"additions text"),jy(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(ut(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}},tA=class extends P{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}let t=i=>{for(;i.length;){let s=i.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{e(),t(this.executeLaterFuncs)},200)})}},iA=class extends P{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.selectedColumns=e;let t={type:"columnHoverChanged"};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;let e={type:"columnHoverChanged"};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}},sA=class extends P{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel}postConstruct(){let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e}),this.addManagedPropertyListener("loading",e)}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,!this.gos.get("loading")&&this.doHideOverlay()}updateOverlayVisibility(){let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.gos.isRowModelType("clientSide")),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.gos.isRowModelType("clientSide")?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay()}showOverlay(e,t,i){let s=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(s,t,i)}},nA=class extends P{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){let t=[];return G(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Hp(t,this.processClassesFromGridOptions(e.rowNode)),Hp(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){let t=[],i=o=>{typeof o=="string"?t.push(o):Array.isArray(o)&&o.forEach(r=>t.push(r))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return L("rowClass should not be a function, please use getRowClass instead"),[];i(s)}let n=this.gos.getCallback("getRowClass");if(n){let o={data:e.data,node:e,rowIndex:e.rowIndex},r=n(o);i(r)}return t}preProcessRowClassRules(e){let t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){let s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},oA=class extends P{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=sS(),this.gos.get("debug")&&Pi("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Pi(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},rA=class extends P{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){let i=(n,o)=>({currentPos:o,rowNode:n}),s=e.map(i);return s.sort(this.compareRowNodes.bind(this,t)),s.map(n=>n.rowNode)}compareRowNodes(e,t,i){let s=t.rowNode,n=i.rowNode;for(let o=0,r=e.length;o<r;o++){let a=e[o],l=a.sort==="desc",c=this.getValue(s,a.column),d=this.getValue(n,a.column),u,h=this.getComparator(a,s);if(h?u=h(c,d,s,n,l):u=py(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;let n=!t.group&&i.getColDef().field;if(!n)return;let o=this.columnModel.getColDefCol(n);if(o)return o.getColDef().comparator}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){let o=e.allLeafChildren?.[0];return o?this.valueService.getValue(t,o,!1,!1):void 0}let n=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return n?e.groupData?.[n.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},$d=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){let n=e.childrenAfterGroup[s];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(n)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){let n=this.mapToItems[i.id],o=this.mapToItems[i.parent.id];o.children||(o.children=[]),o.children.push(n),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(n=>i[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(n=>!i[n.getId()])}},Wf=class extends P{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new nF}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return this.rowSelection==="multiple"}overrideSelectionValue(e,t){if(!UT(t))return e;let i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){let{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:n,nodes:o,event:r,source:a}=e;if(o.length===0)return 0;if(o.length>1&&!this.isMultiselect())return L("cannot multi select while rowSelection='single'"),0;let l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=o.map(u=>u.footer?u.sibling:u);if(n){if(c.length>1)return L("cannot range select while selecting multiple rows"),0;let u=c[0],h=this.overrideSelectionValue(t,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(u)){let p=this.selectionCtx.truncate(u);return h&&this.selectRange(p.discard,!1,a),this.selectRange(p.keep,h,a)}else if(this.selectionCtx.getRoot()!==u){let v=this.selectionCtx.extend(u,this.groupSelectsChildren);return h&&this.selectRange(v.discard,!1,a),this.selectRange(v.keep,h,a)}}}s||this.selectionCtx.setRoot(c[0]);let d=0;for(let u=0;u<c.length;u++){let h=c[u];l&&h.group||h.selectThisNode(t,r,a)&&d++,this.groupSelectsChildren&&h.childrenAfterGroup?.length&&(d+=this.selectChildren(h,t,l,a))}return s||(t&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let s=0;return e.forEach(n=>{if(n.group&&this.groupSelectsChildren)return;n.selectThisNode(t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){let n=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return xe(n)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:n})}getSelectedNodes(){let e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((i,s)=>{i&&e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;let s=this.rowModel.getRootNode();t||(t=new $d(!0,s),t.setInactive());let n=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==s){let r=o.calculateSelectedFromChildren();n=o.selectThisNode(r===null?!1:r,void 0,e)||n}}),n}clearOtherNodes(e,t){let i=new Map,s=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==e.id){let o=this.selectedNodes.get(n.id);s+=o.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(n=>{let o=n.calculateSelectedFromChildren();n.selectThisNode(o===null?!1:o,void 0,t)}),s}onRowSelected(e){let t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(G(t)&&e.id!==t.id&&t){let s=t.id;this.selectedNodes.get(s)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;let t=this.rowModel.getTopLevelNodes();if(t===null)return;let i=[];function s(n){for(let o=0,r=n.length;o<r;o++){let a=n[o];if(a.isSelected())i.push(a);else{let l=a;l.group&&l.children&&s(l.children)}}}return s(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){let t=r=>r.selectThisNode(!1,void 0,s),i=this.rowModel.getType()==="clientSide",{source:s,justFiltered:n,justCurrentPage:o}=e;if(o||n){if(!i){ke("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(n,o).forEach(t)}else this.selectedNodes.forEach(r=>{r&&t(r)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0,n=o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?i++:o.selectable&&s++)};return this.getNodesToSelect(e,t).forEach(n),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){let{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let i=[];if(t)return this.forEachNodeOnPage(n=>{if(!n.group){i.push(n);return}if(!n.expanded){let o=r=>{i.push(r),r.childrenAfterFilter?.length&&r.childrenAfterFilter.forEach(o)};o(n);return}this.groupSelectsChildren||i.push(n)}),i;let s=this.rowModel;return e?(s.forEachNodeAfterFilter(n=>{i.push(n)}),i):(s.forEachNode(n=>{i.push(n)}),i)}forEachNodeOnPage(e){let t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){let n=this.rowModel.getRow(s);n&&e(n)}}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let{source:t,justFiltered:i,justCurrentPage:s}=e,n=this.getNodesToSelect(i,s);n.forEach(o=>o.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(n[0]??null),this.selectionCtx.setEndRange(we(n)??null),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){let e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;let i=new Set(e),s=[];this.rowModel.forEachNode(n=>{i.has(n.id)&&s.push(n)}),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){let t={type:"selectionChanged",source:e};this.eventService.dispatchEvent(t)}},aA=class extends P{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){let t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;let s=this.gos.get("groupSelectsChildren"),n=this.rowModel.getType()==="clientSide"&&s,o=[],r=a=>{if(e&&!a.group)return;if(n&&a.group){let c=a.childrenAfterGroup.some(d=>d.selectable===!0);a.setRowSelectable(c,!0);return}let l=i?i(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&o.push(a)};if(n){let a=this.rowModel;new $d(!1,a.getRootNode()).forEachChangedNodeDepthFirst(r,!0,!0)}else this.rowModel.forEachNode(r);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof Wf&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},cg=["asc","desc",null],lA=class extends P{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){let s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);let n=this.gos.isColumnsSortingCoupledToGroup(),o=[e];if(n&&e.getColDef().showRowGroup){let c=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(d=>d.isSortable());c&&(o=[e,...c])}o.forEach(l=>l.setSort(t,s));let r=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!r){let l=this.clearSortBarTheseColumns(o,s);a.push(...l)}this.updateSortIndex(e),a.push(...o),this.dispatchSortChangedEvents(s,a)}updateSortIndex(e){let t=this.gos.isColumnsSortingCoupledToGroup(),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),s=t&&i||e,n=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(a=>a.setSortIndex(null));let o=n.filter(a=>t&&a.getColDef().showRowGroup?!1:a!==s);(s.getSort()?[...o,s]:o).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){let i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.columnModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=cg,!Array.isArray(t)||t.length<=0)return L(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;let i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1,o;return s||n?o=t[0]:o=t[i+1],cg.indexOf(o)<0?(L("invalid sort type ",o),null):o}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){let o=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(r=>{let a=!!r.getAggFunc(),l=!r.isPrimary(),c=o?this.showRowGroupColsService?.getShowRowGroupCol(r.getId()):r.getColDef().showRowGroup;return a||l||c})}let t=this.funcColsService.getRowGroupColumns().filter(o=>!!o.getSort()),i={};e.forEach((o,r)=>i[o.getId()]=r),e.sort((o,r)=>{let a=o.getSortIndex(),l=r.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){let c=i[o.getId()],d=i[r.getId()];return c>d?1:-1}else return l==null?-1:1});let s=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;s&&(e=[...new Set(e.map(o=>this.showRowGroupColsService?.getShowRowGroupCol(o.getId())??o))]);let n=new Map;return e.forEach((o,r)=>n.set(o,r)),s&&t.forEach(o=>{let r=this.showRowGroupColsService.getShowRowGroupCol(o.getId());n.set(o,n.get(r))}),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=s[0].getSort();return s.every(r=>r.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},cA=class extends P{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();let e=St.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&Pi(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){let e={type:"gridReady"};this.eventService.dispatchEvent(e)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,ln(e.source))}}},dA="paste",uA=class extends P{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==dA&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;let i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){let s=this.gos.get("aggregateOnlyChangedColumns"),n=new $d(s,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n),n.forEachChangedNodeDepthFirst(o=>{i.push(o)})}this.rowRenderer.refreshCells({rowNodes:i})}},hA=class extends P{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);ke("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return Pi("Processing of the expression failed"),Pi("Expression = ",e),Pi("Params = ",t),Pi("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];let t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},pA=class extends P{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},gA=class extends P{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=i=>this.callColumnCellValueChangedHandler(i),t=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;let n=e.getColDef(),o=n.field,r=e.getColId(),a=t.data,l,c=t.groupData&&t.groupData[r]!==void 0,d=!s&&t.aggData&&t.aggData[r]!==void 0,u=this.isSsrm&&s&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&n.filterValueGetter?l=this.executeFilterValueGetter(n.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[r]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):this.isTreeData&&o&&a?l=Do(a,o,e.isFieldContainsDots()):c?l=t.groupData[r]:d?l=t.aggData[r]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):h?l=Do(a,t.field,e.isFieldContainsDots()):o&&a&&!u&&(l=Do(a,o,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let p=l.substring(1);l=this.executeValueGetter(p,a,e,t)}if(l==null){let p=this.getOpenedGroup(t,e);if(p!=null)return p}return l}parseValue(e,t,i,s){let n=e.getColDef(),o=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:s,newValue:i,colDef:n,column:e}),r=n.valueParser;return G(r)?typeof r=="function"?r(o):this.expressionService.evaluate(r,o):i}formatValue(e,t,i,s,n=!0){let o=null,r,a=e.getColDef();if(s?r=s:n&&(r=a.valueFormatter),r){let l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof r=="function"?o=r(l):o=this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[i]||"";return o==null&&Array.isArray(i)&&(o=i.join(", ")),o}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;let s=t.getColDef().showRowGroup,n=e.parent;for(;n!=null;){if(n.rowGroupColumn&&(s===!0||s===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,i,s){let n=this.columnModel.getColDefCol(t);if(!e||!n)return!1;xe(e.data)&&(e.data={});let{field:o,valueSetter:r}=n.getColDef();if(xe(o)&&xe(r))return L("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(n,i))return L("Data type of the new value does not match the cell data type of the column"),!1;let a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(n,e),newValue:i,colDef:n.getColDef(),column:n});a.newValue=i;let l;if(G(r)?typeof r=="function"?l=r(a):l=this.expressionService.evaluate(r,a):l=this.setValueUsingField(e.data,o,i,n.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(n,e);let c={type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:s};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(!s)n=e[t]===i,n||(e[t]=i);else{let o=t.split("."),r=e;for(;o.length>0&&r;){let a=o.shift();o.length===0?(n=r[a]===i,n||(r[a]=i)):r=r[a]}}return!n}executeFilterValueGetter(e,t,i,s){let n=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof e=="function"?e(n):this.expressionService.evaluate(e,n)}executeValueGetter(e,t,i,s){let n=i.getColId(),o=this.valueCache.getValue(s,n);if(o!==void 0)return o;let r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)}),a;return typeof e=="function"?a=e(r):a=this.expressionService.evaluate(e,r),this.valueCache.setValue(s,n,a),a}getValueCallback(e,t){let i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),s=e.getColDef().keyCreator,n=i;if(s){let o=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});n=s(o)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&L("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),n}},dg=(()=>{let e=class{};return e.gridOptions=void 0,e})();function NL(e,t,i){if(!t)return ke("No gridOptions provided to createGrid"),{};let s=new mA().create(e,t,n=>{let o=new HF(e);n.createBean(o)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){let n="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{ke(`gridOptions.api is no longer supported. See ${n}.`)},configurable:!0})}return s}var fA=1,mA=class{create(e,t,i,s,n){let o={};dg.gridOptions?(Kt(o,dg.gridOptions,!0,!0),o=R(R({},o),t)):o=t;let r=$T(o),a=r.gridId??String(fA++),l=this.getRegisteredModules(n,a),c=this.createBeansList(r.rowModelType,l,a),d=this.createProvidedBeans(e,r,n);if(!c){ke("Failed to create grid.");return}let u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:DF,beanDestroyComparator:TF,derivedBeans:[vF]},h=new sx(u);return this.registerModuleUserComponents(h,l),this.registerControllers(h,l),this.registerModuleApiFunctions(h,l),i(h),h.getBean("syncService").start(),s&&s(h),h.getBean("gridApi")}registerControllers(e,t){let i=e.getBean("ctrlsFactory");t.forEach(s=>{s.controllers&&s.controllers.forEach(n=>i.register(n))})}getRegisteredModules(e,t){let i=e?e.modules:null,s=St.__getRegisteredModules(t),n=[],o={},r=(a,l,c)=>{(u=>{o[u.moduleName]||(o[u.moduleName]=!0,n.push(u),St.__register(u,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(u=>r(a,u,c))};return r(!!i?.length||!St.__isPackageBased(),WT,void 0),i&&i.forEach(a=>r(!0,a,t)),s&&s.forEach(a=>r(!St.__isPackageBased(),a,void 0)),n}registerModuleUserComponents(e,t){let i=this.extractModuleEntity(t,n=>n.userComponents?n.userComponents:[]),s=e.getBean("userComponentRegistry");i.forEach(n=>{s.registerDefaultComponent(n.name,n.classImp)})}registerModuleApiFunctions(e,t){let i=e.getBean("apiFunctionService");t.forEach(s=>{let n=s.apiFunctions??{};Object.keys(n).forEach(r=>{i?.addFunction(r,n[r])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;xe(s)&&(s=new pF);let n={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(e="clientSide",t,i){let s=t.filter(l=>!l.rowModel||l.rowModel===e),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e]){ke("Could not find row model for rowModelType = ",e);return}if(!St.__assertRegistered(n[e],`rowModelType = '${e}'`,i))return;let o=[_F,PF,YT,zT,mF,NS,EF,FF,uE,Ug,oA,lE,QT,sF,ux,Ny,BF,qT,uF,Wf,by,Db,JT,ZT,tF,hA,xy,aE,pA,gA,JE,cE,ax,NF,rE,LF,gF,oF,oE,lA,iA,tA,aA,uA,hE,wF,nA,rA,IF,VF,MF,AF,cA,sA,gE,XT,eA,fE,Ty,yF,Ay,Ry,SF,xF,By,Dy,Ly,bF,Oy],r=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);o.push(...r);let a=[];return o.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},VL=class extends P{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){let e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function CA(e){e.expansionService.expandAll(!0)}function vA(e){e.expansionService.expandAll(!1)}function wA(e){let t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}var GL={version:se,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:CA,collapseAll:vA,onRowHeightChanged:wA}};var HL=class{wrap(e,t,i=[],s){let n=this.createWrapper(e,s);return t.forEach(o=>{this.createMethod(n,o,!0)}),i.forEach(o=>{this.createMethod(n,o,!1)}),n}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&L("Framework component is missing the method "+t+"()"),null)}}};function WL(e,t){if(!e)return!1;let i=(r,a)=>{let l=t[r.id],c=t[a.id],d=l!==void 0,u=c!==void 0,h=d&&u,p=!d&&!u;return h?l-c:p?r.__objectId-a.__objectId:d?1:-1},s,n,o=!1;for(let r=0;r<e.length-1;r++)if(s=e[r],n=e[r+1],i(s,n)>0){o=!0;break}return o?(e.sort(i),!0):!1}var Cn=typeof global>"u"?{}:global;Cn.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Cn.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Cn.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Cn.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Cn.Node=typeof Node>"u"?{}:Node;Cn.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var $e=class e{static isArray(t,i=!0){return Array.isArray(t)&&(i||t.length!==0)}static isObject(t,i=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(i||Object.keys(t).length!==0)}static equals(t,i,s){return s?this.resolveFieldData(t,s)===this.resolveFieldData(i,s):this.equalsByValue(t,i)}static equalsByValue(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){var s=Array.isArray(t),n=Array.isArray(i),o,r,a;if(s&&n){if(r=t.length,r!=i.length)return!1;for(o=r;o--!==0;)if(!this.equalsByValue(t[o],i[o]))return!1;return!0}if(s!=n)return!1;var l=this.isDate(t),c=this.isDate(i);if(l!=c)return!1;if(l&&c)return t.getTime()==i.getTime();var d=t instanceof RegExp,u=i instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==i.toString();var h=Object.keys(t);if(r=h.length,r!==Object.keys(i).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,h[o]))return!1;for(o=r;o--!==0;)if(a=h[o],!this.equalsByValue(t[a],i[a]))return!1;return!0}return t!==t&&i!==i}static resolveFieldData(t,i){if(t&&i){if(this.isFunction(i))return i(t);if(i.indexOf(".")==-1)return t[i];{let s=i.split("."),n=t;for(let o=0,r=s.length;o<r;++o){if(n==null)return null;n=n[s[o]]}return n}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,i,s){let n;t&&i!==s&&(s>=t.length&&(s%=t.length,i%=t.length),t.splice(s,0,t.splice(i,1)[0]))}static insertIntoOrderedArray(t,i,s,n){if(s.length>0){let o=!1;for(let r=0;r<s.length;r++)if(this.findIndexInList(s[r],n)>i){s.splice(r,0,t),o=!0;break}o||s.push(t)}else s.push(t)}static findIndexInList(t,i){let s=-1;if(i){for(let n=0;n<i.length;n++)if(i[n]==t){s=n;break}}return s}static contains(t,i){if(t!=null&&i&&i.length){for(let s of i)if(this.equals(t,s))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,i,s,n=1){let o=-1,r=this.isEmpty(t),a=this.isEmpty(i);return r&&a?o=0:r?o=n:a?o=-n:typeof t=="string"&&typeof i=="string"?o=t.localeCompare(i,s,{numeric:!0}):o=t<i?-1:t>i?1:0,o}static sort(t,i,s=1,n,o=1){let r=e.compare(t,i,n,s),a=s;return(e.isEmpty(t)||e.isEmpty(i))&&(a=o===1?s:o),a*r}static merge(t,i){if(!(t==null&&i==null)){{if((t==null||typeof t=="object")&&(i==null||typeof i=="object"))return R(R({},t||{}),i||{});if((t==null||typeof t=="string")&&(i==null||typeof i=="string"))return[t||"",i||""].join(" ")}return i||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...i){return this.isFunction(t)?t(...i):t}static findLastIndex(t,i){let s=-1;if(this.isNotEmpty(t))try{s=t.findLastIndex(i)}catch{s=t.lastIndexOf([...t].reverse().find(i))}return s}static findLast(t,i){let s;if(this.isNotEmpty(t))try{s=t.findLast(i)}catch{s=[...t].reverse().find(i)}return s}static deepEquals(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){var s=Array.isArray(t),n=Array.isArray(i),o,r,a;if(s&&n){if(r=t.length,r!=i.length)return!1;for(o=r;o--!==0;)if(!this.deepEquals(t[o],i[o]))return!1;return!0}if(s!=n)return!1;var l=t instanceof Date,c=i instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==i.getTime();var d=t instanceof RegExp,u=i instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==i.toString();var h=Object.keys(t);if(r=h.length,r!==Object.keys(i).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,h[o]))return!1;for(o=r;o--!==0;)if(a=h[o],!this.deepEquals(t[a],i[a]))return!1;return!0}return t!==t&&i!==i}},zf=0;function Ke(e="pn_id_"){return zf++,`${e}${zf}`}function yA(){let e=[],t=(o,r)=>{let a=e.length>0?e[e.length-1]:{key:o,value:r},l=a.value+(a.key===o?0:r)+2;return e.push({key:o,value:l}),l},i=o=>{e=e.filter(r=>r.value!==o)},s=()=>e.length>0?e[e.length-1].value:0,n=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:n,set:(o,r,a)=>{r&&(r.style.zIndex=String(t(o,a)))},clear:o=>{o&&(i(n(o)),o.style.zIndex="")},getCurrent:()=>s()}}var os=yA();var ht=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return e})();var hk=(()=>{class e{filter(i,s,n,o,r){let a=[];if(i)for(let l of i)for(let c of s){let d=$e.resolveFieldData(l,c);if(this.filters[o](d,n,r)){a.push(l);break}}return a}filters={startsWith:(i,s,n)=>{if(s==null||s.trim()==="")return!0;if(i==null)return!1;let o=$e.removeAccents(s.toString()).toLocaleLowerCase(n);return $e.removeAccents(i.toString()).toLocaleLowerCase(n).slice(0,o.length)===o},contains:(i,s,n)=>{if(s==null||typeof s=="string"&&s.trim()==="")return!0;if(i==null)return!1;let o=$e.removeAccents(s.toString()).toLocaleLowerCase(n);return $e.removeAccents(i.toString()).toLocaleLowerCase(n).indexOf(o)!==-1},notContains:(i,s,n)=>{if(s==null||typeof s=="string"&&s.trim()==="")return!0;if(i==null)return!1;let o=$e.removeAccents(s.toString()).toLocaleLowerCase(n);return $e.removeAccents(i.toString()).toLocaleLowerCase(n).indexOf(o)===-1},endsWith:(i,s,n)=>{if(s==null||s.trim()==="")return!0;if(i==null)return!1;let o=$e.removeAccents(s.toString()).toLocaleLowerCase(n),r=$e.removeAccents(i.toString()).toLocaleLowerCase(n);return r.indexOf(o,r.length-o.length)!==-1},equals:(i,s,n)=>s==null||typeof s=="string"&&s.trim()===""?!0:i==null?!1:i.getTime&&s.getTime?i.getTime()===s.getTime():i==s?!0:$e.removeAccents(i.toString()).toLocaleLowerCase(n)==$e.removeAccents(s.toString()).toLocaleLowerCase(n),notEquals:(i,s,n)=>s==null||typeof s=="string"&&s.trim()===""?!1:i==null?!0:i.getTime&&s.getTime?i.getTime()!==s.getTime():i==s?!1:$e.removeAccents(i.toString()).toLocaleLowerCase(n)!=$e.removeAccents(s.toString()).toLocaleLowerCase(n),in:(i,s)=>{if(s==null||s.length===0)return!0;for(let n=0;n<s.length;n++)if($e.equals(i,s[n]))return!0;return!1},between:(i,s)=>s==null||s[0]==null||s[1]==null?!0:i==null?!1:i.getTime?s[0].getTime()<=i.getTime()&&i.getTime()<=s[1].getTime():s[0]<=i&&i<=s[1],lt:(i,s,n)=>s==null?!0:i==null?!1:i.getTime&&s.getTime?i.getTime()<s.getTime():i<s,lte:(i,s,n)=>s==null?!0:i==null?!1:i.getTime&&s.getTime?i.getTime()<=s.getTime():i<=s,gt:(i,s,n)=>s==null?!0:i==null?!1:i.getTime&&s.getTime?i.getTime()>s.getTime():i>s,gte:(i,s,n)=>s==null?!0:i==null?!1:i.getTime&&s.getTime?i.getTime()>=s.getTime():i>=s,is:(i,s,n)=>this.filters.equals(i,s,n),isNot:(i,s,n)=>this.filters.notEquals(i,s,n),before:(i,s,n)=>this.filters.lt(i,s,n),after:(i,s,n)=>this.filters.gt(i,s,n),dateIs:(i,s)=>s==null?!0:i==null?!1:i.toDateString()===s.toDateString(),dateIsNot:(i,s)=>s==null?!0:i==null?!1:i.toDateString()!==s.toDateString(),dateBefore:(i,s)=>s==null?!0:i==null?!1:i.getTime()<s.getTime(),dateAfter:(i,s)=>{if(s==null)return!0;if(i==null)return!1;let n=new Date(i);return n.setHours(0,0,0,0),n.getTime()>s.getTime()}};register(i,s){this.filters[i]=s}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uf=(()=>{class e{messageSource=new Fe;clearSource=new Fe;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(i){i&&this.messageSource.next(i)}addAll(i){i&&i.length&&this.messageSource.next(i)}clear(i){this.clearSource.next(i||null)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),pk=(()=>{class e{clickSource=new Fe;clickObservable=this.clickSource.asObservable();add(i){i&&this.clickSource.next(i)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yi=(()=>{class e{ripple=!1;inputStyle=ti("outlined");overlayOptions={};csp=ti({nonce:void 0});filterMatchModeOptions={text:[ht.STARTS_WITH,ht.CONTAINS,ht.NOT_CONTAINS,ht.ENDS_WITH,ht.EQUALS,ht.NOT_EQUALS],numeric:[ht.EQUALS,ht.NOT_EQUALS,ht.LESS_THAN,ht.LESS_THAN_OR_EQUAL_TO,ht.GREATER_THAN,ht.GREATER_THAN_OR_EQUAL_TO],date:[ht.DATE_IS,ht.DATE_IS_NOT,ht.DATE_BEFORE,ht.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Fe;translationObserver=this.translationSource.asObservable();getTranslation(i){return this.translation[i]}setTranslation(i){this.translation=R(R({},this.translation),i),this.translationSource.next(this.translation)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rs=(()=>{class e{template;type;name;constructor(i){this.template=i}getType(){return this.name}static \u0275fac=function(s){return new(s||e)($(sr))};static \u0275dir=Le({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return e})(),vn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({})}return e})(),Oi=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return e})();var U=(()=>{class e{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(i,s){i&&s&&(i.classList?i.classList.add(s):i.className+=" "+s)}static addMultipleClasses(i,s){if(i&&s)if(i.classList){let n=s.trim().split(" ");for(let o=0;o<n.length;o++)i.classList.add(n[o])}else{let n=s.split(" ");for(let o=0;o<n.length;o++)i.className+=" "+n[o]}}static removeClass(i,s){i&&s&&(i.classList?i.classList.remove(s):i.className=i.className.replace(new RegExp("(^|\\b)"+s.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(i,s){i&&s&&[s].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(o=>this.removeClass(i,o)))}static hasClass(i,s){return i&&s?i.classList?i.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(i.className):!1}static siblings(i){return Array.prototype.filter.call(i.parentNode.children,function(s){return s!==i})}static find(i,s){return Array.from(i.querySelectorAll(s))}static findSingle(i,s){return this.isElement(i)?i.querySelector(s):null}static index(i){let s=i.parentNode.childNodes,n=0;for(var o=0;o<s.length;o++){if(s[o]==i)return n;s[o].nodeType==1&&n++}return-1}static indexWithinGroup(i,s){let n=i.parentNode?i.parentNode.childNodes:[],o=0;for(var r=0;r<n.length;r++){if(n[r]==i)return o;n[r].attributes&&n[r].attributes[s]&&n[r].nodeType==1&&o++}return-1}static appendOverlay(i,s,n="self"){n!=="self"&&i&&s&&this.appendChild(i,s)}static alignOverlay(i,s,n="self",o=!0){i&&s&&(o&&(i.style.minWidth=`${e.getOuterWidth(s)}px`),n==="self"?this.relativePosition(i,s):this.absolutePosition(i,s))}static relativePosition(i,s,n=!0){let o=m=>{if(m)return getComputedStyle(m).getPropertyValue("position")==="relative"?m:o(m.parentElement)},r=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),a=s.offsetHeight,l=s.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),u=this.getViewport(),p=o(i)?.getBoundingClientRect()||{top:-1*c,left:-1*d},g,v;l.top+a+r.height>u.height?(g=l.top-p.top-r.height,i.style.transformOrigin="bottom",l.top+g<0&&(g=-1*l.top)):(g=a+l.top-p.top,i.style.transformOrigin="top");let C=l.left+r.width-u.width,f=l.left-p.left;r.width>u.width?v=(l.left-p.left)*-1:C>0?v=f-C:v=l.left-p.left,i.style.top=g+"px",i.style.left=v+"px",n&&(i.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(i,s,n=!0){let o=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),r=o.height,a=o.width,l=s.offsetHeight,c=s.offsetWidth,d=s.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),g,v;d.top+l+r>p.height?(g=d.top+u-r,i.style.transformOrigin="bottom",g<0&&(g=u)):(g=l+d.top+u,i.style.transformOrigin="top"),d.left+a>p.width?v=Math.max(0,d.left+h+c-a):v=d.left+h,i.style.top=g+"px",i.style.left=v+"px",n&&(i.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(i,s=[]){return i.parentNode===null?s:this.getParents(i.parentNode,s.concat([i.parentNode]))}static getScrollableParents(i){let s=[];if(i){let n=this.getParents(i),o=/(auto|scroll)/,r=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of n){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let u=this.findSingle(a,d);u&&r(u)&&s.push(u)}}a.nodeType!==9&&r(a)&&s.push(a)}}return s}static getHiddenElementOuterHeight(i){i.style.visibility="hidden",i.style.display="block";let s=i.offsetHeight;return i.style.display="none",i.style.visibility="visible",s}static getHiddenElementOuterWidth(i){i.style.visibility="hidden",i.style.display="block";let s=i.offsetWidth;return i.style.display="none",i.style.visibility="visible",s}static getHiddenElementDimensions(i){let s={};return i.style.visibility="hidden",i.style.display="block",s.width=i.offsetWidth,s.height=i.offsetHeight,i.style.display="none",i.style.visibility="visible",s}static scrollInView(i,s){let n=getComputedStyle(i).getPropertyValue("borderTopWidth"),o=n?parseFloat(n):0,r=getComputedStyle(i).getPropertyValue("paddingTop"),a=r?parseFloat(r):0,l=i.getBoundingClientRect(),d=s.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,u=i.scrollTop,h=i.clientHeight,p=this.getOuterHeight(s);d<0?i.scrollTop=u+d:d+p>h&&(i.scrollTop=u+d-h+p)}static fadeIn(i,s){i.style.opacity=0;let n=+new Date,o=0,r=function(){o=+i.style.opacity.replace(",",".")+(new Date().getTime()-n)/s,i.style.opacity=o,n=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}static fadeOut(i,s){var n=1,o=50,r=s,a=o/r;let l=setInterval(()=>{n=n-a,n<=0&&(n=0,clearInterval(l)),i.style.opacity=n},o)}static getWindowScrollTop(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}static getWindowScrollLeft(){let i=document.documentElement;return(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}static matches(i,s){var n=Element.prototype,o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(r){return[].indexOf.call(document.querySelectorAll(r),this)!==-1};return o.call(i,s)}static getOuterWidth(i,s){let n=i.offsetWidth;if(s){let o=getComputedStyle(i);n+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return n}static getHorizontalPadding(i){let s=getComputedStyle(i);return parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)}static getHorizontalMargin(i){let s=getComputedStyle(i);return parseFloat(s.marginLeft)+parseFloat(s.marginRight)}static innerWidth(i){let s=i.offsetWidth,n=getComputedStyle(i);return s+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),s}static width(i){let s=i.offsetWidth,n=getComputedStyle(i);return s-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),s}static getInnerHeight(i){let s=i.offsetHeight,n=getComputedStyle(i);return s+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),s}static getOuterHeight(i,s){let n=i.offsetHeight;if(s){let o=getComputedStyle(i);n+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return n}static getHeight(i){let s=i.offsetHeight,n=getComputedStyle(i);return s-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),s}static getWidth(i){let s=i.offsetWidth,n=getComputedStyle(i);return s-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),s}static getViewport(){let i=window,s=document,n=s.documentElement,o=s.getElementsByTagName("body")[0],r=i.innerWidth||n.clientWidth||o.clientWidth,a=i.innerHeight||n.clientHeight||o.clientHeight;return{width:r,height:a}}static getOffset(i){var s=i.getBoundingClientRect();return{top:s.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:s.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(i,s){let n=i.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(s,i)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var i=window.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return!0;var n=i.indexOf("Trident/");if(n>0){var o=i.indexOf("rv:");return!0}var r=i.indexOf("Edge/");return r>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(i,s){if(this.isElement(s))s.appendChild(i);else if(s&&s.el&&s.el.nativeElement)s.el.nativeElement.appendChild(i);else throw"Cannot append "+s+" to "+i}static removeChild(i,s){if(this.isElement(s))s.removeChild(i);else if(s.el&&s.el.nativeElement)s.el.nativeElement.removeChild(i);else throw"Cannot remove "+i+" from "+s}static removeElement(i){"remove"in Element.prototype?i.remove():i.parentNode.removeChild(i)}static isElement(i){return typeof HTMLElement=="object"?i instanceof HTMLElement:i&&typeof i=="object"&&i!==null&&i.nodeType===1&&typeof i.nodeName=="string"}static calculateScrollbarWidth(i){if(i){let s=getComputedStyle(i);return i.offsetWidth-i.clientWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);let n=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=n,n}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let s=i.offsetHeight-i.clientHeight;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}static invokeElementMethod(i,s,n){i[s].apply(i,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let i=this.resolveUserAgent();this.browser={},i.browser&&(this.browser[i.browser]=!0,this.browser.version=i.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let i=navigator.userAgent.toLowerCase(),s=/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];return{browser:s[1]||"",version:s[2]||"0"}}static isInteger(i){return Number.isInteger?Number.isInteger(i):typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}static isHidden(i){return!i||i.offsetParent===null}static isVisible(i){return i&&i.offsetParent!=null}static isExist(i){return i!==null&&typeof i<"u"&&i.nodeName&&i.parentNode}static focus(i,s){i&&document.activeElement!==i&&i.focus(s)}static getFocusableSelectorString(i=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`}static getFocusableElements(i,s=""){let n=this.find(i,this.getFocusableSelectorString(s)),o=[];for(let r of n){let a=getComputedStyle(r);this.isVisible(r)&&a.display!="none"&&a.visibility!="hidden"&&o.push(r)}return o}static getFocusableElement(i,s=""){let n=this.findSingle(i,this.getFocusableSelectorString(s));if(n){let o=getComputedStyle(n);if(this.isVisible(n)&&o.display!="none"&&o.visibility!="hidden")return n}return null}static getFirstFocusableElement(i,s=""){let n=this.getFocusableElements(i,s);return n.length>0?n[0]:null}static getLastFocusableElement(i,s){let n=this.getFocusableElements(i,s);return n.length>0?n[n.length-1]:null}static getNextFocusableElement(i,s=!1){let n=e.getFocusableElements(i),o=0;if(n&&n.length>0){let r=n.indexOf(n[0].ownerDocument.activeElement);s?r==-1||r===0?o=n.length-1:o=r-1:r!=-1&&r!==n.length-1&&(o=r+1)}return n[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(i,s){if(!i)return null;switch(i){case"document":return document;case"window":return window;case"@next":return s?.nextElementSibling;case"@prev":return s?.previousElementSibling;case"@parent":return s?.parentElement;case"@grandparent":return s?.parentElement.parentElement;default:let n=typeof i;if(n==="string")return document.querySelector(i);if(n==="object"&&i.hasOwnProperty("nativeElement"))return this.isExist(i.nativeElement)?i.nativeElement:void 0;let r=(a=>!!(a&&a.constructor&&a.call&&a.apply))(i)?i():i;return r&&r.nodeType===9||this.isExist(r)?r:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(i,s){if(i){let n=i.getAttribute(s);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(i="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,i)}static unblockBodyScroll(i="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,i)}static createElement(i,s={},...n){if(i){let o=document.createElement(i);return this.setAttributes(o,s),o.append(...n),o}}static setAttribute(i,s="",n){this.isElement(i)&&n!==null&&n!==void 0&&i.setAttribute(s,n)}static setAttributes(i,s={}){if(this.isElement(i)){let n=(o,r)=>{let a=i?.$attrs?.[o]?[i?.$attrs?.[o]]:[];return[r].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let u=Array.isArray(c)?n(o,c):Object.entries(c).map(([h,p])=>o==="style"&&(p||p===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?h:void 0);l=u.length?l.concat(u.filter(h=>!!h)):l}}return l},a)};Object.entries(s).forEach(([o,r])=>{if(r!=null){let a=o.match(/^on(.+)/);a?i.addEventListener(a[1].toLowerCase(),r):o==="pBind"?this.setAttributes(i,r):(r=o==="class"?[...new Set(n("class",r))].join(" ").trim():o==="style"?n("style",r).join(";").trim():r,(i.$attrs=i.$attrs||{})&&(i.$attrs[o]=r),i.setAttribute(o,r))}})}}static isFocusableElement(i,s=""){return this.isElement(i)?i.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${s}`):!1}}return e})(),Ca=class{element;listener;scrollableParents;constructor(t,i=()=>{}){this.element=t,this.listener=i}bindScrollListener(){this.scrollableParents=U.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var jf=(()=>{class e{autofocus=!1;focused=!1;platformId=X(Ze);document=X(Ae);host=X(Ye);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){ct(this.platformId)&&this.autofocus&&setTimeout(()=>{let i=U.getFocusableElements(this.host?.nativeElement);i.length===0&&this.host.nativeElement.focus(),i.length>0&&i[0].focus(),this.focused=!0})}static \u0275fac=function(s){return new(s||e)};static \u0275dir=Le({type:e,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",ae]},standalone:!0,features:[et]})}return e})(),xk=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({})}return e})();var SA=["*"],Xe=(()=>{class e{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let i=$e.isEmpty(this.label);this.role=i?void 0:"img",this.ariaLabel=i?void 0:this.label,this.ariaHidden=i}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=de({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",ae],styleClass:"styleClass"},standalone:!0,features:[et,be],ngContentSelectors:SA,decls:1,vars:0,template:function(s,n){s&1&&(Nn(),Vn(0))},encapsulation:2,changeDetection:0})}return e})();var $f=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["SpinnerIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var wn=(()=>{class e{document;platformId;renderer;el;zone;config;constructor(i,s,n,o,r,a){this.document=i,this.platformId=s,this.renderer=n,this.el=o,this.zone=r,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){ct(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(i){let s=this.getInk();if(!s||this.document.defaultView?.getComputedStyle(s,null).display==="none")return;if(U.removeClass(s,"p-ink-active"),!U.getHeight(s)&&!U.getWidth(s)){let a=Math.max(U.getOuterWidth(this.el.nativeElement),U.getOuterHeight(this.el.nativeElement));s.style.height=a+"px",s.style.width=a+"px"}let n=U.getOffset(this.el.nativeElement),o=i.pageX-n.left+this.document.body.scrollTop-U.getWidth(s)/2,r=i.pageY-n.top+this.document.body.scrollLeft-U.getHeight(s)/2;this.renderer.setStyle(s,"top",r+"px"),this.renderer.setStyle(s,"left",o+"px"),U.addClass(s,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&U.removeClass(a,"p-ink-active")},401)}getInk(){let i=this.el.nativeElement.children;for(let s=0;s<i.length;s++)if(typeof i[s].className=="string"&&i[s].className.indexOf("p-ink")!==-1)return i[s];return null}resetInk(){let i=this.getInk();i&&U.removeClass(i,"p-ink-active")}onAnimationEnd(i){this.timeout&&clearTimeout(this.timeout),U.removeClass(i.currentTarget,"p-ink-active")}create(){let i=this.renderer.createElement("span");this.renderer.addClass(i,"p-ink"),this.renderer.appendChild(this.el.nativeElement,i),this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.setAttribute(i,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(i,"animationend",this.onAnimationEnd.bind(this)))}remove(){let i=this.getInk();i&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,U.removeElement(i))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(s){return new(s||e)($(Ae),$(Ze),$(Gt),$(Ye),$(Ge),$(yi,8))};static \u0275dir=Le({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return e})(),yn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({})}return e})();var xA=["*"],qf=e=>({class:e});function bA(e,t){e&1&&tt(0)}function EA(e,t){if(e&1&&q(0,"span",8),e&2){let i=A(3);x("ngClass",i.iconClass()),j("aria-hidden",!0)("data-pc-section","loadingicon")}}function FA(e,t){if(e&1&&q(0,"SpinnerIcon",9),e&2){let i=A(3);x("styleClass",i.spinnerIconClass())("spin",!0),j("aria-hidden",!0)("data-pc-section","loadingicon")}}function RA(e,t){if(e&1&&(Ue(0),K(1,EA,1,3,"span",6)(2,FA,1,4,"SpinnerIcon",7),je()),e&2){let i=A(2);b(),x("ngIf",i.loadingIcon),b(),x("ngIf",!i.loadingIcon)}}function DA(e,t){}function TA(e,t){if(e&1&&K(0,DA,0,0,"ng-template",10),e&2){let i=A(2);x("ngIf",i.loadingIconTemplate)}}function AA(e,t){if(e&1&&(Ue(0),K(1,RA,3,2,"ng-container",2)(2,TA,1,1,null,5),je()),e&2){let i=A();b(),x("ngIf",!i.loadingIconTemplate),b(),x("ngTemplateOutlet",i.loadingIconTemplate)("ngTemplateOutletContext",Ei(3,qf,i.iconClass()))}}function IA(e,t){if(e&1&&q(0,"span",8),e&2){let i=A(2);x("ngClass",i.iconClass()),j("data-pc-section","icon")}}function PA(e,t){}function MA(e,t){if(e&1&&K(0,PA,0,0,"ng-template",10),e&2){let i=A(2);x("ngIf",!i.icon&&i.iconTemplate)}}function _A(e,t){if(e&1&&(Ue(0),K(1,IA,1,2,"span",6)(2,MA,1,1,null,5),je()),e&2){let i=A();b(),x("ngIf",i.icon&&!i.iconTemplate),b(),x("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",Ei(3,qf,i.iconClass()))}}function LA(e,t){if(e&1&&(B(0,"span",11),Pe(1),k()),e&2){let i=A();j("aria-hidden",i.icon&&!i.label)("data-pc-section","label"),b(),lt(i.label)}}function OA(e,t){if(e&1&&(B(0,"span",8),Pe(1),k()),e&2){let i=A();oe(i.badgeClass),x("ngClass",i.badgeStyleClass()),j("data-pc-section","badge"),b(),lt(i.badge)}}var as={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},Yf=(()=>{class e{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(i){this._label=i,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(i){this._icon=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(i){this._loading=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(as);spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;constructor(i,s){this.el=i,this.document=s}ngAfterViewInit(){U.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let i=[as.button,as.component];return this.icon&&!this.label&&$e.isEmpty(this.htmlElement.textContent)&&i.push(as.iconOnly),this.loading&&(i.push(as.disabled,as.loading),!this.icon&&this.label&&i.push(as.labelOnly),this.icon&&!this.label&&!$e.isEmpty(this.htmlElement.textContent)&&i.push(as.iconOnly)),this.text&&i.push("p-button-text"),this.severity&&i.push(`p-button-${this.severity}`),this.plain&&i.push("p-button-plain"),this.raised&&i.push("p-button-raised"),this.size&&i.push(`p-button-${this.size}`),this.outlined&&i.push("p-button-outlined"),this.rounded&&i.push("p-button-rounded"),this.size==="small"&&i.push("p-button-sm"),this.size==="large"&&i.push("p-button-lg"),i}setStyleClass(){let i=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...i)}createLabel(){if(!U.findSingle(this.htmlElement,".p-button-label")&&this.label){let s=this.document.createElement("span");this.icon&&!this.label&&s.setAttribute("aria-hidden","true"),s.className="p-button-label",s.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(s)}}createIcon(){if(!U.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let s=this.document.createElement("span");s.className="p-button-icon",s.setAttribute("aria-hidden","true");let n=this.label?"p-button-icon-"+this.iconPos:null;n&&U.addClass(s,n);let o=this.getIconClass();o&&U.addMultipleClasses(s,o),!this.loadingIcon&&this.loading&&(s.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(s,this.htmlElement.firstChild)}}updateLabel(){let i=U.findSingle(this.htmlElement,".p-button-label");if(!this.label){i&&this.htmlElement.removeChild(i);return}i?i.textContent=this.label:this.createLabel()}updateIcon(){let i=U.findSingle(this.htmlElement,".p-button-icon"),s=U.findSingle(this.htmlElement,".p-button-label");this.loading?!this.loadingIcon&&i?i.innerHTML=this.spinnerIcon:this.loadingIcon&&i&&(i.className=`p-button-icon ${this.loadingIcon}`):this.icon&&i?i.className=`p-button-icon ${this.icon}`:i&&(i.innerHTML="",this.createIcon()),i?this.iconPos?i.className="p-button-icon "+(s?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():i.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(s){return new(s||e)($(Ye),$(Ae))};static \u0275dir=Le({type:e,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",ae],rounded:[2,"rounded","rounded",ae],text:[2,"text","text",ae],outlined:[2,"outlined","outlined",ae],size:"size",plain:[2,"plain","plain",ae]},standalone:!0,features:[et]})}return e})(),Kd=(()=>{class e{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Te;onFocus=new Te;onBlur=new Te;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(i){this.el=i}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,i])=>!!i).reduce((i,[s])=>i+` ${s}`,"p-button-loading-icon")}iconClass(){let i={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?i[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(i[this.icon]=!0),i}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;case"icon":this.iconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;default:this.contentTemplate=i.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}static \u0275fac=function(s){return new(s||e)($(Ye))};static \u0275cmp=de({type:e,selectors:[["p-button"]],contentQueries:function(s,n,o){if(s&1&&xi(o,rs,4),s&2){let r;it(r=st())&&(n.templates=r)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",ae],loading:[2,"loading","loading",ae],loadingIcon:"loadingIcon",raised:[2,"raised","raised",ae],rounded:[2,"rounded","rounded",ae],text:[2,"text","text",ae],plain:[2,"plain","plain",ae],severity:"severity",outlined:[2,"outlined","outlined",ae],link:[2,"link","link",ae],tabindex:[2,"tabindex","tabindex",wt],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",ae]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[et,be],ngContentSelectors:xA,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(s,n){s&1&&(Nn(),B(0,"button",0),fe("click",function(r){return n.onClick.emit(r)})("focus",function(r){return n.onFocus.emit(r)})("blur",function(r){return n.onBlur.emit(r)}),Vn(1),K(2,bA,1,0,"ng-container",1)(3,AA,3,5,"ng-container",2)(4,_A,3,5,"ng-container",2)(5,LA,2,3,"span",3)(6,OA,2,5,"span",4),k()),s&2&&(x("ngStyle",n.style)("disabled",n.disabled||n.loading)("ngClass",n.buttonClass)("autofocus",n.autofocus),j("type",n.type)("aria-label",n.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",n.tabindex),b(2),x("ngTemplateOutlet",n.contentTemplate),b(),x("ngIf",n.loading),b(),x("ngIf",!n.loading),b(),x("ngIf",!n.contentTemplate&&n.label),b(),x("ngIf",!n.contentTemplate&&n.badge))},dependencies:[gt,ji,Wt,Ht,wn,jf,$f],encapsulation:2,changeDetection:0})}return e})(),No=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[Kd,vn]})}return e})();var ds=hC(n0(),1);var Ho=class extends Error{},Wo=class extends Error{},ot=class e{static assign(t,i,s=[]){let n=t instanceof Qu?new t:t;if(e.isObject(n)&&e.isObject(i)){for(let o of Object.keys(i))if(!s.includes(o)){let r=`get_${o}`,a=`set_${o}`,l=typeof i[r]=="function"?i[r]():i[o];typeof n[a]=="function"?n[a](l):e.isObject(l)&&o in n?e.assign(n[o],l):n[o]=l}}return n}static parseDate(t){return e.isNull(t)?null:t instanceof Date?t:typeof t=="string"?new Date(t):typeof t=="number"?new Date(t):null}static booleanValue(t,i=!1,s="true",n=1){return typeof t=="boolean"?t:typeof t=="string"?t===s:typeof t=="number"?t===n:i}static anyBlank(...t){return t.some(i=>e.isBlank(i))}static isNull(t){return t==null}static isBlank(t){return e.isNull(t)||`${t}`.trim().length==0}static notBlank(t){return!e.isBlank(t)}static isEmpty(t){return e.isNull(t)?!0:typeof t=="string"||e.isArray(t)?t.length==0:typeof t=="object"?Object.keys(t).length==0:!1}static notEmpty(t){return!e.isEmpty(t)}static notNull(t){return!e.isNull(t)}static isArray(t){return Array.isArray(t)}static isJson(t){return e.isObject(t)}static isString(t){return e.notNull(t)&&typeof t=="string"}static isObject(t){return e.notNull(t)&&typeof t=="object"&&!e.isArray(t)}static isUrl(t){try{let i=new URL(t).protocol;return i=="http:"||i=="https:"}catch{return!1}}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isFunction(t){return e.notNull(t)&&typeof t=="function"}static equals(t,i,s){if(e.notNull(s))return e.resolveFieldData(t,s)===e.resolveFieldData(i,s);if(t===i)return!0;if(e.isNull(t)&&e.notNull(i))return!1;if(e.notNull(t)&&e.isNull(i))return!1;if(typeof t!=typeof i)return!1;if(typeof t=="object"&&typeof i=="object"){if("equals"in t&&typeof t.equals=="function")return t.equals(i);if("equals"in i&&typeof i.equals=="function")return i.equals(t);{let o=Array.isArray(t),r=Array.isArray(i),a=e.isDate(t),l=e.isDate(i),c=t instanceof RegExp,d=i instanceof RegExp,u,h,p;if(o&&r){if(h=t.length,h!=i.length)return!1;for(u=h;u--!==0;)if(!e.equals(t[u],i[u]))return!1;return!0}else{if(o!=r)return!1;if(a!=l)return!1;if(a&&l)return t.getTime()==i.getTime();if(c!=d)return!1;if(c&&d)return t.toString()==i.toString();var n=Object.keys(t);if(h=n.length,h!==Object.keys(i).length)return!1;for(u=h;u--!==0;)if(!Object.prototype.hasOwnProperty.call(i,n[u]))return!1;for(u=h;u--!==0;)if(p=n[u],!e.equals(t[p],i[p]))return!1;return!0}}}else return t!==t&&i!==i}static resolveFieldData(t,i){if(e.anyNull(t,i))return null;if(e.isFunction(i))return i(t);if(i.includes(".")){let s=i.split("."),n=t;for(let o=0,r=s.length;o<r;++o){if(n==null)return null;n=n[s[o]]}return n}else return t[i]}static ifNotNull(t,i){e.notNull(t)&&i(t)}static ifListNotEmpty(t,i){e.notEmpty(t)&&i(t)}static encodeBase64(t){let i=ds.default.enc.Utf8.parse(t);return ds.default.enc.Base64.stringify(i)}static decodeBase64(t){return ds.default.enc.Base64.parse(t).toString(CryptoJS.enc.Utf8)}static anyNull(...t){return t.some(i=>e.isNull(i))}static isClass(t){return e.isObject(t)&&t.constructor.name!=="Object"}static isClassOf(t,i){return e.isClass(t)&&t.constructor.name===i.name}static extractValueNotNull(t){return e.isObject(t)?Object.fromEntries(Object.keys(t).filter(i=>e.notNull(t[i])).map(i=>[i,t[i]])):t}static valueToMap(t,i){if(e.isNull(t))return new Map;if(t instanceof Map){let s=[...t.keys()].map(n=>[n,i(t.get(n))]);return new Map(s)}else if(e.isArray(t)){let s=t.map(n=>i(n));return new Map(s)}else{let s=Object.keys(t).map(n=>[n,i(t[n])]);return new Map(s)}}static delFieldJson(t,...i){return i.forEach(s=>delete t[s]),t}static createElement(t,i,...s){let n=t.createElement(i),o=0;for(;o<s.length;){let r=s[o++],a=s[o++];n.setAttribute(r,a)}return n}static download(t,i){let s=document.defaultView||window;if(!s){console.warn("There is no `window` associated with the current `document`");return}let n=document.createElement("a"),o=s.URL.createObjectURL(i);n.setAttribute("href",o),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(n),s.setTimeout(()=>{s.URL.revokeObjectURL(o)},0)}static mergeDeep(t,...i){return t=t||{},i.forEach(s=>l0(t,s)),t}static arrayToJson(t,i){return Object.fromEntries(t.map((s,n)=>i(s,n)))}static getter(t,i){if(e.isObject(t))return typeof t[`get_${i}`]=="function"?t[`get_${i}`]():t[i];throw new Error(`The data [${t}] not object`)}static setter(t,i,s){if(e.isObject(t))return typeof t[`set_${i}`]=="function"?(t[`set_${i}`](s),t):(t[i]=s,t);throw new Error(`The data [${t}] not object`)}static fillArray(t){return Array.from({length:t},(i,s)=>s)}};function l0(e,t){return ot.isObject(e)&&ot.isObject(t)&&Object.keys(t).forEach(i=>{ot.isObject(t[i])?i in e?e[i]=l0(e[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}var li=class{static noSuchElement(t,i){if(ot.isNull(t))throw new Wo(i);return t}static notNull(t,i){if(ot.isNull(t))throw new Ho(i);return t}static notEmpty(t,i){if(ot.isEmpty(t))throw new Ho(i);return t}static isTrue(t,i){if(t===!1)throw new Error(i);return t}static isNull(t,i){if(ot.notNull(t))throw new Error(i);return t}},{notNull:Sn,isNull:Go}=ot,o0=class e{static EMPTY=new e(null);value;constructor(t){this.value=t}static empty(){return e.EMPTY}static of(t){if(Go(t))throw new Ho;return new e(t)}static ofNullable(t){return Go(t)?e.EMPTY:new e(t)}get(){if(Go(this.value))throw new Wo("No value present");return this.value}isPresent(){return Sn(this.value)}isEmpty(){return Go(this.value)}ifPresent(t){Sn(this.value)&&t(this.value)}ifPresentOrElse(t,i){Sn(this.value)?t(this.value):i()}filter(t){return t=li.notNull(t),this.isEmpty()?this:t(this.value)?this:e.EMPTY}map(t){if(t=li.notNull(t),this.isEmpty())return e.EMPTY;{let i=t(this.value);return e.ofNullable(i)}}flatMap(t){if(t=li.notNull(t),this.isEmpty())return e.EMPTY;{let i=t(this.value);return li.notNull(i)}}or(t){return t=li.notNull(t),this.isPresent()?this:li.notNull(t())}orElse(t){return Sn(this.value)?this.value:t}orElseGet(t){return Sn(this.value)?this.value:t()}orElseThrow(t){if(Sn(this.value))return this.value;throw Go(t)?new Wo("No value present"):t()}equals(t){return this===t?!0:t instanceof e&&t.value===this.value}};var{notNull:l3,equals:c3,isNull:d3}=ot;var{notNull:u3}=ot;var r0=class{static encode(t){if(t instanceof File)return t.arrayBuffer().then(i=>{let s=ds.default.lib.WordArray.create(i);return ds.default.enc.Base64.stringify(s)});{let i=ds.default.lib.WordArray.create(t);return ds.default.enc.Base64.stringify(i)}}static decode(t){return null}};var kA={docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},a0=class e{static XLSX_TYPE="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";static XLS_TYPE="application/vnd.ms-excel";static ALL_ACCEPT={xlsx:e.XLSX_TYPE,xls:e.XLS_TYPE,docx:kA.docx};static newBlobXlsx(t){return new Blob([t],{type:e.XLSX_TYPE})}static extractAccept(t,i){if(t.includes(".")){let n=t.lastIndexOf(".");t=t.substring(n+1)}let s=e.ALL_ACCEPT[t];return ot.notNull(s)?s:i??t}};var v0=(()=>{let t=class t{constructor(s,n){this._renderer=s,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(s,n){this._renderer.setProperty(this._elementRef.nativeElement,s,n)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}};t.\u0275fac=function(n){return new(n||t)($(Gt),$(Ye))},t.\u0275dir=Le({type:t});let e=t;return e})(),NA=(()=>{let t=class t extends v0{};t.\u0275fac=(()=>{let s;return function(o){return(s||(s=Ve(t)))(o||t)}})(),t.\u0275dir=Le({type:t,features:[_e]});let e=t;return e})(),iu=new ve("");var VA={provide:iu,useExisting:Ln(()=>w0),multi:!0};function GA(){let e=fs()?fs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var HA=new ve(""),w0=(()=>{let t=class t extends v0{constructor(s,n,o){super(s,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!GA())}writeValue(s){let n=s??"";this.setProperty("value",n)}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}};t.\u0275fac=function(n){return new(n||t)($(Gt),$(Ye),$(HA,8))},t.\u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&fe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Hn([VA]),_e]});let e=t;return e})();function us(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function y0(e){return e!=null&&typeof e.length=="number"}var su=new ve(""),nu=new ve(""),WA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,c0=class{static min(t){return zA(t)}static max(t){return UA(t)}static required(t){return jA(t)}static requiredTrue(t){return $A(t)}static email(t){return KA(t)}static minLength(t){return qA(t)}static maxLength(t){return YA(t)}static pattern(t){return QA(t)}static nullValidator(t){return S0(t)}static compose(t){return D0(t)}static composeAsync(t){return A0(t)}};function zA(e){return t=>{if(us(t.value)||us(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function UA(e){return t=>{if(us(t.value)||us(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function jA(e){return us(e.value)?{required:!0}:null}function $A(e){return e.value===!0?null:{required:!0}}function KA(e){return us(e.value)||WA.test(e.value)?null:{email:!0}}function qA(e){return t=>us(t.value)||!y0(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function YA(e){return t=>y0(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function QA(e){if(!e)return S0;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),s=>{if(us(s.value))return null;let n=s.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}function S0(e){return null}function x0(e){return e!=null}function b0(e){return dr(e)?rt(e):e}function E0(e){let t={};return e.forEach(i=>{t=i!=null?R(R({},t),i):t}),Object.keys(t).length===0?null:t}function F0(e,t){return t.map(i=>i(e))}function XA(e){return!e.validate}function R0(e){return e.map(t=>XA(t)?t:i=>t.validate(i))}function D0(e){if(!e)return null;let t=e.filter(x0);return t.length==0?null:function(i){return E0(F0(i,t))}}function T0(e){return e!=null?D0(R0(e)):null}function A0(e){if(!e)return null;let t=e.filter(x0);return t.length==0?null:function(i){let s=F0(i,t).map(b0);return Gu(s).pipe(Se(E0))}}function I0(e){return e!=null?A0(R0(e)):null}function d0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function P0(e){return e._rawValidators}function M0(e){return e._rawAsyncValidators}function Qd(e){return e?Array.isArray(e)?e:[e]:[]}function sl(e,t){return Array.isArray(e)?e.includes(t):e===t}function u0(e,t){let i=Qd(t);return Qd(e).forEach(n=>{sl(i,n)||i.push(n)}),i}function h0(e,t){return Qd(t).filter(i=>!sl(e,i))}var nl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=T0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=I0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},_s=class extends nl{get formDirective(){return null}get path(){return null}},Ls=class extends nl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ol=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},T3=J(R({},ZA),{"[class.ng-submitted]":"isSubmitted"}),A3=(()=>{let t=class t extends ol{constructor(s){super(s)}};t.\u0275fac=function(n){return new(n||t)($(Ls,2))},t.\u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&_l("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[_e]});let e=t;return e})(),I3=(()=>{let t=class t extends ol{constructor(s){super(s)}};t.\u0275fac=function(n){return new(n||t)($(_s,10))},t.\u0275dir=Le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&_l("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[_e]});let e=t;return e})();var zo="VALID",il="INVALID",xn="PENDING",Uo="DISABLED",hs=class{},rl=class extends hs{constructor(t,i){super(),this.value=t,this.source=i}},jo=class extends hs{constructor(t,i){super(),this.pristine=t,this.source=i}},$o=class extends hs{constructor(t,i){super(),this.touched=t,this.source=i}},bn=class extends hs{constructor(t,i){super(),this.status=t,this.source=i}},Xd=class extends hs{constructor(t){super(),this.source=t}},Zd=class extends hs{constructor(t){super(),this.source=t}};function ou(e){return(dl(e)?e.validators:e)||null}function JA(e){return Array.isArray(e)?T0(e):e||null}function ru(e,t){return(dl(t)?t.asyncValidators:e)||null}function eI(e){return Array.isArray(e)?I0(e):e||null}function dl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function _0(e,t,i){let s=e.controls;if(!(t?Object.keys(s):s).length)throw new Me(1e3,"");if(!s[i])throw new Me(1001,"")}function L0(e,t,i){e._forEachChild((s,n)=>{if(i[n]===void 0)throw new Me(1002,"")})}var En=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Fe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zo}get invalid(){return this.status===il}get pending(){return this.status==xn}get disabled(){return this.status===Uo}get enabled(){return this.status!==Uo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(u0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(u0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(h0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(h0(t,this._rawAsyncValidators))}hasValidator(t){return sl(this._rawValidators,t)}hasAsyncValidator(t){return sl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let s=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(J(R({},t),{sourceControl:s})),i&&t.emitEvent!==!1&&this._events.next(new $o(!0,s))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let s=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:s})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,s),i&&t.emitEvent!==!1&&this._events.next(new $o(!1,s))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let s=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(J(R({},t),{sourceControl:s})),i&&t.emitEvent!==!1&&this._events.next(new jo(!1,s))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let s=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,s),i&&t.emitEvent!==!1&&this._events.next(new jo(!0,s))}markAsPending(t={}){this.status=xn;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bn(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(J(R({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Uo,this.errors=null,this._forEachChild(n=>{n.disable(J(R({},t),{onlySelf:!0}))}),this._updateValue();let s=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new rl(this.value,s)),this._events.next(new bn(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(R({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=zo,this._forEachChild(s=>{s.enable(J(R({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(J(R({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zo||this.status===xn)&&this._runAsyncValidator(s,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new rl(this.value,i)),this._events.next(new bn(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(J(R({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uo:zo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=xn,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let s=b0(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((s,n)=>s&&s._find(n),this)}getError(t,i){let s=i?this.get(i):this;return s&&s.errors?s.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,s){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||s)&&this._events.next(new bn(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,s)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Uo:this.errors?il:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xn)?xn:this._anyControlsHaveStatus(il)?il:zo}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let s=!this._anyControlsDirty(),n=this.pristine!==s;this.pristine=s,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&this._events.next(new jo(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new $o(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JA(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=eI(this._rawAsyncValidators)}},al=class extends En{constructor(t,i,s){super(ou(i),ru(s,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,s={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){L0(this,!0,t),Object.keys(t).forEach(s=>{_0(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(s=>{let n=this.controls[s];n&&n.patchValue(t[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((s,n)=>{s.reset(t?t[n]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,s)=>(t[s]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,s)=>s._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let s=this.controls[i];s&&t(s,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,s]of Object.entries(this.controls))if(this.contains(i)&&t(s))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,s,n)=>((s.enabled||this.disabled)&&(i[n]=s.value),i))}_reduceChildren(t,i){let s=t;return this._forEachChild((n,o)=>{s=i(s,n,o)}),s}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Jd=class extends al{};var ul=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>hl}),hl="always";function O0(e,t){return[...t.path,e]}function eu(e,t,i=hl){au(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),iI(e,t),nI(e,t),sI(e,t),tI(e,t)}function p0(e,t,i=!0){let s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),cl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ll(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function tI(e,t){if(t.valueAccessor.setDisabledState){let i=s=>{t.valueAccessor.setDisabledState(s)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function au(e,t){let i=P0(e);t.validator!==null?e.setValidators(d0(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let s=M0(e);t.asyncValidator!==null?e.setAsyncValidators(d0(s,t.asyncValidator)):typeof s=="function"&&e.setAsyncValidators([s]);let n=()=>e.updateValueAndValidity();ll(t._rawValidators,n),ll(t._rawAsyncValidators,n)}function cl(e,t){let i=!1;if(e!==null){if(t.validator!==null){let n=P0(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(r=>r!==t.validator);o.length!==n.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let n=M0(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(r=>r!==t.asyncValidator);o.length!==n.length&&(i=!0,e.setAsyncValidators(o))}}}let s=()=>{};return ll(t._rawValidators,s),ll(t._rawAsyncValidators,s),i}function iI(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&B0(e,t)})}function sI(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&B0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function B0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nI(e,t){let i=(s,n)=>{t.valueAccessor.writeValue(s),n&&t.viewToModelUpdate(s)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function oI(e,t){e==null,au(e,t)}function rI(e,t){return cl(e,t)}function k0(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function aI(e){return Object.getPrototypeOf(e.constructor)===NA}function lI(e,t){e._syncPendingControls(),t.forEach(i=>{let s=i.control;s.updateOn==="submit"&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function N0(e,t){if(!t)return null;Array.isArray(t);let i,s,n;return t.forEach(o=>{o.constructor===w0?i=o:aI(o)?s=o:n=o}),n||s||i||null}function cI(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function g0(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function f0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ko=class extends En{constructor(t=null,i,s){super(ou(i),ru(s,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dl(i)&&(i.nonNullable||i.initialValueIsDefault)&&(f0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(s=>s(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){g0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){g0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){f0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dI=e=>e instanceof Ko;var uI={provide:Ls,useExisting:Ln(()=>hI)},m0=Promise.resolve(),hI=(()=>{let t=class t extends Ls{constructor(s,n,o,r,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ko,this._registered=!1,this.name="",this.update=new Te,this._parent=s,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=N0(this,r)}ngOnChanges(s){if(this._checkForErrors(),!this._registered||"name"in s){if(this._registered&&(this._checkName(),this.formDirective)){let n=s.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in s&&this._updateDisabled(s),k0(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(s){m0.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(s){let n=s.isDisabled.currentValue,o=n!==0&&ae(n);m0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(s){return this._parent?O0(s,this._parent):[s]}};t.\u0275fac=function(n){return new(n||t)($(_s,9),$(su,10),$(nu,10),$(iu,10),$(ii,8),$(ul,8))},t.\u0275dir=Le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hn([uI]),_e,ci]});let e=t;return e})(),M3=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var V0=new ve("");var pI={provide:_s,useExisting:Ln(()=>gI)},gI=(()=>{let t=class t extends _s{constructor(s,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(s),this._setAsyncValidators(n)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){let n=this.form.get(s.path);return eu(n,s,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),n}getControl(s){return this.form.get(s.path)}removeControl(s){p0(s.control||null,s,!1),cI(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,n){this.form.get(s.path).setValue(n)}onSubmit(s){return this.submitted=!0,lI(this.form,this.directives),this.ngSubmit.emit(s),this.form._events.next(new Xd(this.control)),s?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1,this.form._events.next(new Zd(this.form))}_updateDomValue(){this.directives.forEach(s=>{let n=s.control,o=this.form.get(s.path);n!==o&&(p0(n||null,s),dI(o)&&(eu(o,s,this.callSetDisabledState),s.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){let n=this.form.get(s.path);oI(n,s),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){let n=this.form.get(s.path);n&&rI(n,s)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){au(this.form,this),this._oldForm&&cl(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(n){return new(n||t)($(su,10),$(nu,10),$(ul,8))},t.\u0275dir=Le({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&fe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([pI]),_e,ci]});let e=t;return e})();var fI={provide:Ls,useExisting:Ln(()=>mI)},mI=(()=>{let t=class t extends Ls{set isDisabled(s){}constructor(s,n,o,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=N0(this,r)}ngOnChanges(s){this._added||this._setUpControl(),k0(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return O0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)($(_s,13),$(su,10),$(nu,10),$(iu,10),$(V0,8))},t.\u0275dir=Le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hn([fI]),_e,ci]});let e=t;return e})();var G0=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Re({});let e=t;return e})(),tu=class extends En{constructor(t,i,s){super(ou(i),ru(s,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,s={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,i={}){let s=this._adjustIndex(t);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,s={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),i&&(this.controls.splice(n,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){L0(this,!1,t),t.forEach((s,n)=>{_0(this,!1,n),this.at(n).setValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((s,n)=>{this.at(n)&&this.at(n).patchValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((s,n)=>{s.reset(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,s)=>s._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,s)=>{t(i,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function C0(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var _3=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let s=new t;return s.useNonNullable=!0,s}group(s,n=null){let o=this._reduceControls(s),r={};return C0(n)?r=n:n!==null&&(r.validators=n.validator,r.asyncValidators=n.asyncValidator),new al(o,r)}record(s,n=null){let o=this._reduceControls(s);return new Jd(o,n)}control(s,n,o){let r={};return this.useNonNullable?(C0(n)?r=n:(r.validators=n,r.asyncValidators=o),new Ko(s,J(R({},r),{nonNullable:!0}))):new Ko(s,n,o)}array(s,n,o){let r=s.map(a=>this._createControl(a));return new tu(r,n,o)}_reduceControls(s){let n={};return Object.keys(s).forEach(o=>{n[o]=this._createControl(s[o])}),n}_createControl(s){if(s instanceof Ko)return s;if(s instanceof En)return s;if(Array.isArray(s)){let n=s[0],o=s.length>1?s[1]:null,r=s.length>2?s[2]:null;return this.control(n,o,r)}else return this.control(s)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var L3=(()=>{let t=class t{static withConfig(s){return{ngModule:t,providers:[{provide:ul,useValue:s.callSetDisabledState??hl}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Re({imports:[G0]});let e=t;return e})(),O3=(()=>{let t=class t{static withConfig(s){return{ngModule:t,providers:[{provide:V0,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:ul,useValue:s.callSetDisabledState??hl}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=De({type:t}),t.\u0275inj=Re({imports:[G0]});let e=t;return e})();var N3=(()=>{let t=class t{constructor(s){this.http=s,this.SESSION_KEY="APP_CONFIG"}load(s){return new Promise((n,o)=>{s=s||"assets/app.config.json",this.http.get(s).subscribe({next:r=>{this.set(r),n(r)},error:r=>o(r)})})}set(s){s!=null&&(s=Object.assign(this.get(),s),sessionStorage.setItem(this.SESSION_KEY,JSON.stringify(s)))}get(){let s=sessionStorage.getItem(this.SESSION_KEY);return JSON.parse(s||"{}")}get excel_file(){return this.get().excel_file}get server_api(){return this.get().server_api}get excel_data(){return this.get().excel_data}};t.\u0275fac=function(n){return new(n||t)(te(Qn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var H0=(()=>{class e{pFocusTrapDisabled=!1;platformId=X(Ze);host=X(Ye);document=X(Ae);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){ct(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(i){i.pFocusTrapDisabled&&ct(this.platformId)&&(i.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(i){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${i??""}`}createHiddenFocusableElements(){let i="0",s=n=>U.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:i,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:n?.bind(this)});this.firstHiddenFocusableElement=s(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=s(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(i){let{currentTarget:s,relatedTarget:n}=i,o=n===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(n)?U.getFirstFocusableElement(s.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;U.focus(o)}onLastHiddenElementFocus(i){let{currentTarget:s,relatedTarget:n}=i,o=n===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(n)?U.getLastFocusableElement(s.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;U.focus(o)}static \u0275fac=function(s){return new(s||e)};static \u0275dir=Le({type:e,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",ae]},features:[et,ci]})}return e})();var ps=(()=>{class e extends Xe{static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["TimesIcon"]],standalone:!0,features:[_e,be],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0),q(1,"path",1),k()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return e})();var W0=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var z0=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var vI=["mask"],wI=["content"],yI=["footer"],SI=["titlebar"],xI=(e,t,i,s,n,o,r,a,l)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":s,"p-dialog-bottom":n,"p-dialog-top-left":o,"p-dialog-top-right":r,"p-dialog-bottom-left":a,"p-dialog-bottom-right":l}),bI=(e,t,i,s)=>({"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":e,"p-dialog-resizable":t,"p-dialog-draggable":i,"p-dialog-maximized":s}),EI=(e,t)=>({transform:e,transition:t}),FI=e=>({value:"visible",params:e}),RI=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0});function DI(e,t){if(e&1){let i=ze();B(0,"div",14),fe("mousedown",function(n){pe(i);let o=A(2);return ge(o.initResize(n))}),k()}}function TI(e,t){e&1&&tt(0)}function AI(e,t){if(e&1&&q(0,"span",23),e&2){let i=A(5);x("ngClass",i.maximized?i.minimizeIcon:i.maximizeIcon)}}function II(e,t){e&1&&q(0,"WindowMaximizeIcon",24),e&2&&x("styleClass","p-dialog-header-maximize-icon")}function PI(e,t){e&1&&q(0,"WindowMinimizeIcon",24),e&2&&x("styleClass","p-dialog-header-maximize-icon")}function MI(e,t){e&1&&tt(0)}function _I(e,t){e&1&&tt(0)}function LI(e,t){if(e&1){let i=ze();B(0,"button",20),fe("click",function(){pe(i);let n=A(4);return ge(n.maximize())})("keydown.enter",function(){pe(i);let n=A(4);return ge(n.maximize())}),K(1,AI,1,1,"span",21)(2,II,1,1,"WindowMaximizeIcon",22)(3,PI,1,1,"WindowMinimizeIcon",22)(4,MI,1,0,"ng-container",12)(5,_I,1,0,"ng-container",12),k()}if(e&2){let i=A(4);x("ngClass",or(6,RI)),b(),x("ngIf",!i.maximizeIconTemplate||!i.minimizeIconTemplate),b(),x("ngIf",!i.maximized&&!i.maximizeIcon&&!i.maximizeIconTemplate),b(),x("ngIf",i.maximized&&!i.minimizeIcon&&!i.minimizeIconTemplate),b(),x("ngComponentOutlet",i.maximizeIconTemplate),b(),x("ngComponentOutlet",i.minimizeIconTemplate)}}function OI(e,t){e&1&&q(0,"TimesIcon",24),e&2&&x("styleClass","p-dialog-header-close-icon")}function BI(e,t){e&1&&tt(0)}function kI(e,t){if(e&1){let i=ze();B(0,"button",25),fe("click",function(){pe(i);let n=A(4);return ge(n.hide())})("keydown.enter",function(){pe(i);let n=A(4);return ge(n.hide())}),K(1,OI,1,1,"TimesIcon",22)(2,BI,1,0,"ng-container",12),k()}if(e&2){let i=A(4);x("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link"),j("aria-label",i.closeAriaLabel),b(),x("ngIf",!i.closeIconTemplate),b(),x("ngComponentOutlet",i.closeIconTemplate)}}function NI(e,t){if(e&1&&(Ue(0),B(1,"span",16),Pe(2),k(),B(3,"div",17),K(4,LI,6,7,"button",18)(5,kI,3,4,"button",19),k(),je()),e&2){let i=A(3);b(),x("id",i.ariaLabelledBy),b(),lt(i.config.header),b(2),x("ngIf",i.config.maximizable),b(),x("ngIf",i.config.closable!==!1)}}function VI(e,t){if(e&1){let i=ze();B(0,"div",15,3),fe("mousedown",function(n){pe(i);let o=A(2);return ge(o.initDrag(n))}),K(2,TI,1,0,"ng-container",12)(3,NI,6,4,"ng-container",11),k()}if(e&2){let i=A(2);b(2),x("ngComponentOutlet",i.headerTemplate),b(),x("ngIf",!i.headerTemplate)}}function GI(e,t){}function HI(e,t){e&1&&K(0,GI,0,0,"ng-template",26)}function WI(e,t){e&1&&tt(0)}function zI(e,t){if(e&1&&(Ue(0),Pe(1),je()),e&2){let i=A(3);b(),bi(" ",i.config.footer," ")}}function UI(e,t){e&1&&tt(0)}function jI(e,t){if(e&1&&(B(0,"div",27,4),K(2,zI,2,1,"ng-container",11)(3,UI,1,0,"ng-container",12),k()),e&2){let i=A(2);b(2),x("ngIf",!i.footerTemplate),b(),x("ngComponentOutlet",i.footerTemplate)}}function $I(e,t){if(e&1){let i=ze();B(0,"div",7,1),fe("@animation.start",function(n){pe(i);let o=A();return ge(o.onAnimationStart(n))})("@animation.done",function(n){pe(i);let o=A();return ge(o.onAnimationEnd(n))}),K(2,DI,1,0,"div",8)(3,VI,4,2,"div",9),B(4,"div",10,2),K(6,HI,1,0,null,11)(7,WI,1,0,"ng-container",12),k(),K(8,jI,4,2,"div",13),k()}if(e&2){let i=A();oe(i.config.styleClass),pt("width",i.config.width)("height",i.config.height),x("ngClass",rr(18,bI,i.config.rtl,i.config.resizable,i.config.draggable,i.maximized))("ngStyle",i.config.style)("@animation",Ei(26,FI,Ui(23,EI,i.transformOptions,i.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",i.config.focusTrap===!1),j("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),b(2),x("ngIf",i.config.resizable),b(),x("ngIf",i.config.showHeader!==!1),b(),x("ngStyle",i.config.contentStyle),b(2),x("ngIf",!i.contentTemplate),b(),x("ngComponentOutlet",i.contentTemplate),b(),x("ngIf",i.config.footer||i.footerTemplate)}}var U0=(()=>{class e{viewContainerRef;constructor(i){this.viewContainerRef=i}static \u0275fac=function(s){return new(s||e)($(Us))};static \u0275dir=Le({type:e,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]})}return e})(),pl=class{data;header;ariaLabelledBy;footer;width;height;closeOnEscape;focusOnShow=!0;focusTrap=!0;baseZIndex;autoZIndex;dismissableMask;rtl;style;contentStyle;styleClass;transitionOptions;closable;showHeader;modal;maskStyleClass;resizable;draggable;keepInViewport;minX;minY;maximizable;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate;breakpoints;templates},qo=class{constructor(){}close(t){this._onClose.next(t),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(t){this._onDragStart.next(t)}dragEnd(t){this._onDragEnd.next(t)}resizeInit(t){this._onResizeInit.next(t)}resizeEnd(t){this._onResizeEnd.next(t)}maximize(t){this._onMaximize.next(t)}_onClose=new Fe;onClose=this._onClose.asObservable();_onDestroy=new Fe;onDestroy=this._onDestroy.asObservable();_onDragStart=new Fe;onDragStart=this._onDragStart.asObservable();_onDragEnd=new Fe;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new Fe;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new Fe;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new Fe;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new Fe},KI=Nl([mt({transform:"{{transform}}",opacity:0}),zt("{{transition}}",mt({transform:"none",opacity:1}))]),qI=Nl([zt("{{transition}}",mt({transform:"{{transform}}",opacity:0}))]),YI=(()=>{class e{document;platformId;cd;renderer;config;dialogRef;zone;primeNGConfig;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=Ke();styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon}get minimizeIcon(){return this.config.minimizeIcon}get style(){return this._style}get position(){return this.config.position}get closeAriaLabel(){return this.primeNGConfig.getTranslation(Oi.ARIA).close}set style(i){i&&(this._style=R({},i),this.originalStyle=i)}get parent(){let i=Array.from(this.document.getElementsByClassName("p-dialog"));if(i.length>1)return i.pop()}get parentContent(){let i=Array.from(this.document.getElementsByClassName("p-dialog"));if(i.length>0){let s=i[i.length-1].querySelector(".p-dialog-content");if(s)return Array.isArray(s)?s[0]:s}}get header(){return this.config.header}get data(){return this.config.data}get breakpoints(){return this.config.breakpoints}get footerTemplate(){return this.config?.templates?.footer}get headerTemplate(){return this.config?.templates?.header}get contentTemplate(){return this.config?.templates?.content}get minimizeIconTemplate(){return this.config?.templates?.minimizeicon}get maximizeIconTemplate(){return this.config?.templates?.maximizeicon}get closeIconTemplate(){return this.config?.templates?.closeicon}constructor(i,s,n,o,r,a,l,c,d){this.document=i,this.platformId=s,this.cd=n,this.renderer=o,this.config=r,this.dialogRef=a,this.zone=l,this.primeNGConfig=c,this.parentDialog=d}ngOnInit(){this.breakpoints&&this.createStyle()}createStyle(){if(ct(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let i="";for(let s in this.breakpoints)i+=`
                        @media screen and (max-width: ${s}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[s]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",i),U.setAttribute(this.styleElement,"nonce",this.primeNGConfig?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return this.header!==null?Ke()+"_header":null}loadChildComponent(i){let s=this.insertionPoint?.viewContainerRef;s?.clear(),this.componentRef=s?.createComponent(i),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){this.config.autoZIndex!==!1&&(os.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(i){switch(i.toState){case"visible":this.container=i.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.config.modal!==!1&&this.enableModality(),this.config.focusOnShow!==!1&&this.focus();break;case"void":this.wrapper&&this.config.modal!==!1&&U.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(i){i.toState==="void"&&(this.parentContent&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&this.config.autoZIndex!==!1&&os.clear(this.container),this.config.modal!==!1&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",i=>{this.wrapper&&this.wrapper.isSameNode(i.target)&&this.hide()})),this.config.modal!==!1&&U.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),this.config.modal!==!1&&U.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(i=this.contentViewChild.nativeElement){let s=U.getFocusableElement(i,"[autofocus]");if(s){this.zone.runOutsideAngular(()=>{setTimeout(()=>s.focus(),5)});return}let n=U.getFocusableElement(i);n?this.zone.runOutsideAngular(()=>{setTimeout(()=>n.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!n&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?U.addClass(this.document.body,"p-overflow-hidden"):U.removeClass(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(i){this.config.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=i.pageX,this.lastPageY=i.pageY,U.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(i))}onResize(i){if(this.resizing){let s=i.pageX-this.lastPageX,n=i.pageY-this.lastPageY,o=U.getOuterWidth(this.container),r=U.getOuterHeight(this.container),a=U.getOuterHeight(this.contentViewChild.nativeElement),l=o+s,c=r+n,d=this.container.style.minWidth,u=this.container.style.minHeight,h=this.container.getBoundingClientRect(),p=U.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=s,c+=n),(!d||l>parseInt(d))&&h.left+l<p.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!u||c>parseInt(u))&&h.top+c<p.height&&(this.contentViewChild.nativeElement.style.height=a+c-r+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=i.pageX,this.lastPageY=i.pageY}}resizeEnd(i){this.resizing&&(this.resizing=!1,U.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(i))}initDrag(i){U.hasClass(i.target,"p-dialog-header-icon")||U.hasClass(i.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=i.pageX,this.lastPageY=i.pageY,this.container.style.margin="0",U.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(i))}onDrag(i){if(this.dragging){let s=U.getOuterWidth(this.container),n=U.getOuterHeight(this.container),o=i.pageX-this.lastPageX,r=i.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+o,c=a.top+r,d=U.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+s<d.width&&(this._style.left=l+"px",this.lastPageX=i.pageX,this.container.style.left=l+"px"),c>=this.minY&&c+n<d.height&&(this._style.top=c+"px",this.lastPageY=i.pageY,this.container.style.top=c+"px")):(this.lastPageX=i.pageX,this.container.style.left=l+"px",this.lastPageY=i.pageY,this.container.style.top=c+"px")}}endDrag(i){this.dragging&&(this.dragging=!1,U.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(i),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){ct(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){ct(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){ct(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.config.closeOnEscape!==!1&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){let i=this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(i,"keydown",s=>{s.which==27&&parseInt(this.container.style.zIndex)==os.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(s){return new(s||e)($(Ae),$(Ze),$(ii),$(Gt),$(pl),$(qo),$(Ge),$(yi),$(e,12))};static \u0275cmp=de({type:e,selectors:[["p-dynamicDialog"]],viewQuery:function(s,n){if(s&1&&(hi(U0,5),hi(vI,5),hi(wI,5),hi(yI,5),hi(SI,5)),s&2){let o;it(o=st())&&(n.insertionPoint=o.first),it(o=st())&&(n.maskViewChild=o.first),it(o=st())&&(n.contentViewChild=o.first),it(o=st())&&(n.footerViewChild=o.first),it(o=st())&&(n.headerViewChild=o.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","class","pFocusTrapDisabled","width","height",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],[1,"p-dialog-title",3,"id"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass"],["type","button","role","button",3,"click","keydown.enter","ngClass"],["pDynamicDialogContent",""],[1,"p-dialog-footer"]],template:function(s,n){s&1&&(B(0,"div",5,0),K(2,$I,9,28,"div",6),k()),s&2&&(oe(n.config.maskStyleClass),x("ngClass",mh(4,xI,[n.config.modal!==!1,n.position==="left",n.position==="right",n.position==="top",n.position==="bottom",n.position==="topleft"||n.position==="top-left",n.position==="topright"||n.position==="top-right",n.position==="bottomleft"||n.position==="bottom-left",n.position==="bottomright"||n.position==="bottom-right"])),b(2),x("ngIf",n.visible))},dependencies:()=>[Ht,Th,gt,Wt,W0,z0,ps,H0,U0],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[$i("animation",[Ut("void => visible",[Vl(KI)]),Ut("visible => void",[Vl(qI)])])]}})}return e})();var lu=class{_parentInjector;_additionalTokens;constructor(t,i){this._parentInjector=t,this._additionalTokens=i}get(t,i,s){let n=this._additionalTokens.get(t);return n||this._parentInjector.get(t,i)}},y8=(()=>{class e{appRef;injector;document;dialogComponentRefMap=new Map;constructor(i,s,n){this.appRef=i,this.injector=s,this.document=n}open(i,s){if(!this.duplicationPermission(i,s))return null;let n=this.appendDialogComponentToBody(s,i);return this.dialogComponentRefMap.get(n).instance.childComponentType=i,n}getInstance(i){return this.dialogComponentRefMap.get(i).instance}appendDialogComponentToBody(i,s){let n=new WeakMap;n.set(pl,i);let o=new qo;n.set(qo,o);let r=o.onClose.subscribe(()=>{this.dialogComponentRefMap.get(o).instance.close()}),a=o.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(o),a.unsubscribe(),r.unsubscribe()}),l=Sh(YI,{environmentInjector:this.appRef.injector,elementInjector:new lu(this.injector,n)});this.appRef.attachView(l.hostView);let c=l.hostView.rootNodes[0];return!i.appendTo||i.appendTo==="body"?this.document.body.appendChild(c):U.appendChild(c,i.appendTo),this.dialogComponentRefMap.set(o,l),o}removeDialogComponentFromBody(i){if(!i||!this.dialogComponentRefMap.has(i))return;let s=this.dialogComponentRefMap.get(i);this.appRef.detachView(s.hostView),s.destroy(),this.dialogComponentRefMap.delete(i)}duplicationPermission(i,s){if(s.duplicate)return!0;let n=!0;for(let[o,r]of this.dialogComponentRefMap)if(r.instance.childComponentType===i){n=!1;break}return n}static \u0275fac=function(s){return new(s||e)(te(pi),te(di),te(Ae))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();var j0=["toast-component",""];function QI(e,t){if(e&1){let i=ze();B(0,"button",5),fe("click",function(){pe(i);let n=A();return ge(n.remove())}),B(1,"span",6),Pe(2,"\xD7"),k()()}}function XI(e,t){if(e&1&&(Ue(0),Pe(1),je()),e&2){let i=A(2);b(),bi("[",i.duplicatesCount+1,"]")}}function ZI(e,t){if(e&1&&(B(0,"div"),Pe(1),K(2,XI,2,1,"ng-container",4),k()),e&2){let i=A();oe(i.options.titleClass),j("aria-label",i.title),b(),bi(" ",i.title," "),b(),x("ngIf",i.duplicatesCount)}}function JI(e,t){if(e&1&&q(0,"div",7),e&2){let i=A();oe(i.options.messageClass),x("innerHTML",i.message,ui)}}function eP(e,t){if(e&1&&(B(0,"div",8),Pe(1),k()),e&2){let i=A();oe(i.options.messageClass),j("aria-label",i.message),b(),bi(" ",i.message," ")}}function tP(e,t){if(e&1&&(B(0,"div"),q(1,"div",9),k()),e&2){let i=A();b(),pt("width",i.width()+"%")}}function iP(e,t){if(e&1){let i=ze();B(0,"button",5),fe("click",function(){pe(i);let n=A();return ge(n.remove())}),B(1,"span",6),Pe(2,"\xD7"),k()()}}function sP(e,t){if(e&1&&(Ue(0),Pe(1),je()),e&2){let i=A(2);b(),bi("[",i.duplicatesCount+1,"]")}}function nP(e,t){if(e&1&&(B(0,"div"),Pe(1),K(2,sP,2,1,"ng-container",4),k()),e&2){let i=A();oe(i.options.titleClass),j("aria-label",i.title),b(),bi(" ",i.title," "),b(),x("ngIf",i.duplicatesCount)}}function oP(e,t){if(e&1&&q(0,"div",7),e&2){let i=A();oe(i.options.messageClass),x("innerHTML",i.message,ui)}}function rP(e,t){if(e&1&&(B(0,"div",8),Pe(1),k()),e&2){let i=A();oe(i.options.messageClass),j("aria-label",i.message),b(),bi(" ",i.message," ")}}function aP(e,t){if(e&1&&(B(0,"div"),q(1,"div",9),k()),e&2){let i=A();b(),pt("width",i.width()+"%")}}var cu=class{_attachedHost;component;viewContainerRef;injector;constructor(t,i){this.component=t,this.injector=i}attach(t,i){return this._attachedHost=t,t.attach(this,i)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},du=class{_attachedPortal;_disposeFn;attach(t,i){return this._attachedPortal=t,this.attachComponentPortal(t,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},uu=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Fe;_activate=new Fe;_manualClose=new Fe;_resetTimeout=new Fe;_countDuplicate=new Fe;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,i){t&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}},gs=class{toastId;config;message;title;toastType;toastRef;_onTap=new Fe;_onAction=new Fe;constructor(t,i,s,n,o,r){this.toastId=t,this.config=i,this.message=s,this.title=n,this.toastType=o,this.toastRef=r,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},gl={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},$0=new ve("ToastConfig"),hu=class extends du{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,i,s){super(),this._hostDomElement=t,this._componentFactoryResolver=i,this._appRef=s}attachComponentPortal(t,i){let s=this._componentFactoryResolver.resolveComponentFactory(t.component),n;return n=s.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},lP=(()=>{class e{_document=X(Ae);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pu=class{_portalHost;constructor(t){this._portalHost=t}attach(t,i=!0){return this._portalHost.attach(t,i)}detach(){return this._portalHost.detach()}},cP=(()=>{class e{_overlayContainer=X(lP);_componentFactoryResolver=X(ch);_appRef=X(pi);_document=X(Ae);_paneElements=new Map;create(i,s){return this._createOverlayRef(this.getPaneElement(i,s))}getPaneElement(i="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[i]||(this._paneElements.get(s)[i]=this._createPaneElement(i,s)),this._paneElements.get(s)[i]}_createPaneElement(i,s){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(i),n.classList.add("toast-container"),s?s.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(i){return new hu(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new pu(this._createPortalHost(i))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yo=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,s,n,o,r){this.overlay=s,this._injector=n,this.sanitizer=o,this.ngZone=r,this.toastrConfig=R(R({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=R(R({},i.default.iconClasses),i.config.iconClasses))}show(i,s,n={},o=""){return this._preBuildNotification(o,i,s,this.applyConfig(n))}success(i,s,n={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,i,s,this.applyConfig(n))}error(i,s,n={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,i,s,this.applyConfig(n))}info(i,s,n={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,i,s,this.applyConfig(n))}warning(i,s,n={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,i,s,this.applyConfig(n))}clear(i){for(let s of this.toasts)if(i!==void 0){if(s.toastId===i){s.toastRef.manualClose();return}}else s.toastRef.manualClose()}remove(i){let s=this._findToast(i);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(i="",s="",n,o){let{includeTitleDuplicates:r}=this.toastrConfig;for(let a of this.toasts){let l=r&&a.title===i;if((!r||l)&&a.message===s)return a.toastRef.onDuplicate(n,o),a}return null}applyConfig(i={}){return R(R({},this.toastrConfig),i)}_findToast(i){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===i)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(i,s,n,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,s,n,o)):this._buildNotification(i,s,n,o)}_buildNotification(i,s,n,o){if(!o.toastComponent)throw new Error("toastComponent required");let r=this.findDuplicate(n,s,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||s)&&this.toastrConfig.preventDuplicates&&r!==null)return r;this.previousToastMessage=s;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=s;s&&o.enableHtml&&(c=this.sanitizer.sanitize(ei.HTML,s));let d=new uu(l),u=new gs(this.index,o,c,n,i,d),h=[{provide:gs,useValue:u}],p=di.create({providers:h,parent:this._injector}),g=new cu(o.toastComponent,p),v=l.attach(g,o.newestOnTop);d.componentInstance=v.instance;let C={toastId:this.index,title:n||"",message:s||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:v};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{C.toastRef.activate()})),this.toasts.push(C),C}static \u0275fac=function(s){return new(s||e)(te($0),te(cP),te(di),te(ms),te(Ge))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dP=(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=ti(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,s,n){this.toastrService=i,this.toastPackage=s,this.ngZone=n,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=ti({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(i=>J(R({},i),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),s=this.hideTime-i;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(i=>J(R({},i),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(i=>J(R({},i),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),s)):this.timeout=setTimeout(()=>i(),s)}outsideInterval(i,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),s)):this.intervalId=setInterval(()=>i(),s)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(s){return new(s||e)($(Yo),$(gs),$(Ge))};static \u0275cmp=de({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(s,n){s&1&&fe("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),s&2&&(nr("@flyInOut",n._state),oe(n.toastClasses),pt("display",n.displayStyle))},standalone:!0,features:[be],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,n){s&1&&K(0,QI,3,0,"button",0)(1,ZI,3,5,"div",1)(2,JI,1,3,"div",2)(3,eP,2,4,"div",3)(4,tP,2,2,"div",4),s&2&&(x("ngIf",n.options.closeButton),b(),x("ngIf",n.title),b(),x("ngIf",n.message&&n.options.enableHtml),b(),x("ngIf",n.message&&!n.options.enableHtml),b(),x("ngIf",n.options.progressBar))},dependencies:[gt],encapsulation:2,data:{animation:[$i("flyInOut",[Ki("inactive",mt({opacity:0})),Ki("active",mt({opacity:1})),Ki("removed",mt({opacity:0})),Ut("inactive => active",zt("{{ easeTime }}ms {{ easing }}")),Ut("active => removed",zt("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),uP=J(R({},gl),{toastComponent:dP}),hP=(e={})=>Hs([{provide:$0,useValue:{default:uP,config:e}}]),fl=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[hP(i)]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({})}return e})();var pP=(()=>{class e{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=ti(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=ti("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,s,n){this.toastrService=i,this.toastPackage=s,this.appRef=n,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let i=new Date().getTime(),s=this.hideTime-i;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(s){return new(s||e)($(Yo),$(gs),$(pi))};static \u0275cmp=de({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(s,n){s&1&&fe("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),s&2&&(oe(n.toastClasses),pt("display",n.displayStyle))},standalone:!0,features:[be],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,n){s&1&&K(0,iP,3,0,"button",0)(1,nP,3,5,"div",1)(2,oP,1,3,"div",2)(3,rP,2,4,"div",3)(4,aP,2,2,"div",4),s&2&&(x("ngIf",n.options.closeButton),b(),x("ngIf",n.title),b(),x("ngIf",n.message&&n.options.enableHtml),b(),x("ngIf",n.message&&!n.options.enableHtml),b(),x("ngIf",n.options.progressBar))},dependencies:[gt],encapsulation:2,changeDetection:0})}return e})(),O8=J(R({},gl),{toastComponent:pP});var fP=(e,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":e,"p-progressbar-indeterminate":t}),mP=e=>({$implicit:e});function CP(e,t){if(e&1&&(B(0,"div"),Pe(1),k()),e&2){let i=A(2);pt("display",i.value!=null&&i.value!==0?"flex":"none"),j("data-pc-section","label"),b(),ph("",i.value,"",i.unit,"")}}function vP(e,t){e&1&&tt(0)}function wP(e,t){if(e&1&&(B(0,"div",3)(1,"div",4),K(2,CP,2,5,"div",5)(3,vP,1,0,"ng-container",6),k()()),e&2){let i=A();pt("width",i.value+"%")("background",i.color),j("data-pc-section","value"),b(2),x("ngIf",i.showValue&&!i.contentTemplate),b(),x("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",Ei(8,mP,i.value))}}function yP(e,t){if(e&1&&(B(0,"div",7),q(1,"div",8),k()),e&2){let i=A();j("data-pc-section","container"),b(),pt("background",i.color),j("data-pc-section","value")}}var ml=(()=>{class e{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;default:this.contentTemplate=i.template}})}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=de({type:e,selectors:[["p-progressBar"]],contentQueries:function(s,n,o){if(s&1&&xi(o,rs,4),s&2){let r;it(r=st())&&(n.templates=r)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",wt],showValue:[2,"showValue","showValue",ae],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[et],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(s,n){s&1&&(B(0,"div",0),K(1,wP,4,10,"div",1)(2,yP,2,4,"div",2),k()),s&2&&(oe(n.styleClass),x("ngStyle",n.style)("ngClass",Ui(11,fP,n.mode==="determinate",n.mode==="indeterminate")),j("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),b(),x("ngIf",n.mode==="determinate"),b(),x("ngIf",n.mode==="indeterminate"))},dependencies:[Ht,gt,ji,Wt],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return e})(),Qo=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[ft]})}return e})();var SP=["toast-item",""],xP=()=>({height:"4px"});function bP(e,t){if(e&1&&q(0,"span",9),e&2){let i=A(3);x("innerHTML",i.title,ui)}}function EP(e,t){if(e&1&&(B(0,"span"),Pe(1),k()),e&2){let i=A(3);b(),lt(i.title)}}function FP(e,t){if(e&1&&K(0,bP,1,1,"span",9)(1,EP,2,1,"span"),e&2){let i=A(2);kn(i.options.enableHtml?0:1)}}function RP(e,t){if(e&1){let i=ze();B(0,"div",10),fe("click",function(){pe(i);let n=A(2);return ge(n.remove())}),q(1,"span",11),k()}if(e&2){let i=A(2);b(),x("ngClass",i.closeIcon)}}function DP(e,t){if(e&1&&(B(0,"div",6)(1,"div",7),K(2,FP,2,1),k(),K(3,RP,2,1,"div",8),k()),e&2){let i=A();b(2),kn(i.title?2:-1),b(),x("ngIf",i.options.closeButton&&i.closeIcon)}}function TP(e,t){if(e&1&&(B(0,"div",12)(1,"div",13),q(2,"span",11),k()()),e&2){let i=A();b(2),x("ngClass",i.contentIcon)}}function AP(e,t){if(e&1&&q(0,"span",9),e&2){let i=A(3);x("innerHTML",i.summary,ui)}}function IP(e,t){if(e&1&&(B(0,"span"),Pe(1),k()),e&2){let i=A(3);b(),lt(i.summary)}}function PP(e,t){if(e&1&&(B(0,"div",17),K(1,AP,1,1,"span",9)(2,IP,2,1,"span"),k()),e&2){let i=A(2);x("ngStyle",i.options.summaryStyle),b(),kn(i.options.enableHtml?1:2)}}function MP(e,t){if(e&1&&q(0,"span",9),e&2){let i=A(3);x("innerHTML",i.detail,ui)}}function _P(e,t){if(e&1&&(B(0,"span"),Pe(1),k()),e&2){let i=A(3);b(),lt(i.detail)}}function LP(e,t){if(e&1&&(B(0,"div",18),K(1,MP,1,1,"span",9)(2,_P,2,1,"span"),k()),e&2){let i=A(2);x("ngStyle",i.options.detailStyle),b(),kn(i.options.enableHtml?1:2)}}function OP(e,t){if(e&1&&(B(0,"div",14),K(1,PP,3,2,"div",15)(2,LP,3,2,"div",16),k()),e&2){let i=A();b(),x("ngIf",i.summary),b(),x("ngIf",i.detail)}}function BP(e,t){if(e&1){let i=ze();B(0,"div",19)(1,"div",10),fe("click",function(){pe(i);let n=A();return ge(n.remove())}),q(2,"span",11),k()()}if(e&2){let i=A();b(2),x("ngClass",i.closeIcon)}}function kP(e,t){if(e&1&&(B(0,"div",20),q(1,"p-progressBar",21),k()),e&2){let i=A();b(),hh(or(5,xP)),x("value",i.width())("showValue",!1)("mode",i.options.progressMode)}}var X0=new ve("TOAST_CONFIG"),NP=J(R({},gl),{enableHtml:!0,progressMode:"determinate",progressBar:!1,closeButton:!0,tapToDismiss:!1,newestOnTop:!1,toastClass:"ts-toast",messageClass:"ts-toast-message",titleClass:"ts-toast-title",position:"top-right",minWidth:"25rem",iconClasses:{error:"pi pi-bolt",info:"pi pi-info-circle",success:"pi pi-check-circle",help:"pi pi-question-circle",loading:"pi pi-sync pi-spin",warning:"pi pi-exclamation-triangle",closeIcon:"pi pi-times"}}),{notBlank:q0,notNull:VP}=ot,GP=(()=>{class e{service;pkg;sanitizer;ngZone;width=ti(-1);toastClasses="";get itemWidth(){return this.options.width}state;get _state(){return this.state()}get displayStyle(){return this.state().value==="inactive"?"none":void 0}timeout;intervalId;hideTime;afterActivate;manualClosed;timeoutReset;countDuplicate;options;duplicatesCount;originalTimeout;title;summary;detail;closeIcon;contentIcon;constructor(i,s,n,o){this.service=i,this.pkg=s,this.sanitizer=n,this.ngZone=o,this.options=s.config,this.title=s.title,this.summary=s.message,this.detail=this.safeHtml(this.options.detail),this.closeIcon=this.extractCloseIcon(),this.contentIcon=this.extractContentIcon(),this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.afterActivate=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.manualClosed=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.timeoutReset=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.countDuplicate=s.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=ti({value:"inactive",params:{easeTime:this.pkg.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.afterActivate.unsubscribe(),this.manualClosed.unsubscribe(),this.timeoutReset.unsubscribe(),this.countDuplicate.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(o=>J(R({},o),{value:"active"}));let{disableTimeOut:i,timeOut:s,progressBar:n}=this.options;s&&!(i===!0||i==="timeOut")&&(this.outsideTimeout(()=>this.remove(),s),this.hideTime=new Date().getTime()+s,n&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){let i=this.width(),{timeOut:s}=this.options;if(i===0||i===100||!s)return;let n=new Date().getTime(),o=this.hideTime-n;this.width.set(o/s*100),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(i=>J(R({},i),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(i=>J(R({},i),{value:"removed"})),this.outsideTimeout(()=>this.service.remove(this.pkg.toastId),+this.pkg.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.pkg.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),s)):this.timeout=setTimeout(()=>i(),s)}outsideInterval(i,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),s)):this.intervalId=setInterval(()=>i(),s)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}safeHtml(i){return i&&this.options.enableHtml?this.sanitizer.sanitize(ei.HTML,i):null}extractCloseIcon(){return this.options.iconClasses?.closeIcon}extractContentIcon(){let{messageIcon:i,iconClasses:s,severity:n}=this.options;return q0(i)?i:q0(n)&&VP(s)?s[n]:void 0}static \u0275fac=function(s){return new(s||e)($(Yo),$(gs),$(ms),$(Ge))};static \u0275cmp=de({type:e,selectors:[["","toast-item",""]],hostVars:7,hostBindings:function(s,n){s&1&&fe("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),s&2&&(nr("@flyInOut",n._state),oe(n.toastClasses),pt("width",n.itemWidth)("display",n.displayStyle))},standalone:!0,features:[be],attrs:SP,decls:6,vars:5,consts:[["class","ts-toast-message-header",4,"ngIf"],[1,"ts-toast-message-content"],["class","ts-toast-message-content-left",4,"ngIf"],["class","ts-toast-message-content-center",4,"ngIf"],["class","ts-toast-message-content-right",4,"ngIf"],["class","ts-toast-message-footer",4,"ngIf"],[1,"ts-toast-message-header"],[1,"ts-toast-message-header-title"],["class","ts-toast-message-close",3,"click",4,"ngIf"],[3,"innerHTML"],[1,"ts-toast-message-close",3,"click"],[1,"icon",3,"ngClass"],[1,"ts-toast-message-content-left"],[1,"ts-toast-message-content-icon"],[1,"ts-toast-message-content-center"],["class","ts-toast-message-content-summary",3,"ngStyle",4,"ngIf"],["class","ts-toast-message-content-detail",3,"ngStyle",4,"ngIf"],[1,"ts-toast-message-content-summary",3,"ngStyle"],[1,"ts-toast-message-content-detail",3,"ngStyle"],[1,"ts-toast-message-content-right"],[1,"ts-toast-message-footer"],[3,"value","showValue","mode"]],template:function(s,n){s&1&&(K(0,DP,4,2,"div",0),B(1,"div",1),K(2,TP,3,1,"div",2)(3,OP,3,2,"div",3)(4,BP,3,1,"div",4),k(),K(5,kP,2,6,"div",5)),s&2&&(x("ngIf",n.title),b(2),x("ngIf",n.contentIcon),b(),x("ngIf",n.summary||n.detail),b(),x("ngIf",!n.title&&n.options.closeButton&&n.closeIcon),b(),x("ngIf",n.options.progressBar))},dependencies:[ft,Ht,gt,Wt,No,yn,Qo,ml],encapsulation:2,data:{animation:[$i("flyInOut",[Ki("inactive",mt({opacity:0})),Ki("active",mt({opacity:1})),Ki("removed",mt({opacity:0})),Ut("inactive => active",zt("{{ easeTime }}ms {{ easing }}")),Ut("active => removed",zt("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),{isJson:Y0,isString:Q0,notBlank:HP,notNull:WP}=ot;function gu(e,t){throw new Error(`${e} invalid argument ${t.join(",")}`)}var zP=(()=>{class e{globalConfig;service;constructor(i,s){this.globalConfig=i,this.service=s}show(...i){return this.showInternal(i,"show()")}info(...i){return this.showInternal(i,"info()","info")}success(...i){return this.showInternal(i,"success()","success")}help(...i){return this.showInternal(i,"help()","help")}warning(...i){return this.showInternal(i,"warning()","warning")}error(...i){return this.showInternal(i,"error()","error")}loading(...i){return this.showInternal(i,"loading()","loading",s=>(s.disableTimeOut=!0,s.progressMode="indeterminate",s))}remove(i){li.notNull(i,"@ActiveToast<any>"),this.service.remove(i.toastId)}close(i){li.notNull(i,"@ActiveToast<any>"),this.service.clear(i.toastId)}closeAll(){this.service.clear()}applyConfig(i={}){return ot.mergeDeep(R({},this.globalConfig),i)}showInternal(i,s,n,o){let r={},a,l,c=i.length;c===1?Q0(i[0])?a=i[0]:Y0(i[0])?r=i[0]:gu(s,i):c===2?Q0(i[1])?(a=i[0],l=i[1]):Y0(i[1])?(a=i[0],r=i[1]):gu(s,i):c===3?(a=i[0],l=i[1],r=i[2]):gu(s,i),r=r??{},r=WP(o)?o(r):r,r=this.applyConfig(R({title:l,message:a},r)),r.severity=HP(n)?n:r.severity,r.toastComponent=r.toastComponent??GP;let d=R({},r);d.positionClass=`${r.toastClass}-${r.position??"top-right"}`,d.toastClass=`${r.toastClass}-message`;let u=d.toastClass+"-"+(r.severity??"info");return this.service.show(r.message,r.title,d,u)}static \u0275fac=function(s){return new(s||e)(te(X0),te(Yo))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lN=(()=>{class e{static forRoot(i={}){let s=ot.mergeDeep(R({},NP),i),n=fl.forRoot(s);return{ngModule:fl,providers:[...n.providers,{provide:X0,useValue:s},zP]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[ft,fl]})}return e})();var fu=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["PlusIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var mu=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["UploadIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var Cu=(()=>{class e extends Xe{static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["CheckIcon"]],standalone:!0,features:[_e,be],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0),q(1,"path",1),k()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role))},encapsulation:2})}return e})();var vu=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[_e,be],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1)(3,"path",2)(4,"path",3),k(),B(5,"defs")(6,"clipPath",4),q(7,"rect",5),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(5),x("id",n.pathId))},encapsulation:2})}return e})();var wu=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["InfoCircleIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var yu=(()=>{class e extends Xe{pathId;ngOnInit(){this.pathId="url(#"+Ke()+")"}static \u0275fac=(()=>{let i;return function(n){return(i||(i=Ve(e)))(n||e)}})();static \u0275cmp=de({type:e,selectors:[["TimesCircleIcon"]],standalone:!0,features:[_e,be],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,n){s&1&&(qe(),B(0,"svg",0)(1,"g"),q(2,"path",1),k(),B(3,"defs")(4,"clipPath",2),q(5,"rect",3),k()()()),s&2&&(oe(n.getClassNames()),j("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),b(),j("clip-path",n.pathId),b(3),x("id",n.pathId))},encapsulation:2})}return e})();var UP=(e,t)=>({showTransitionParams:e,hideTransitionParams:t}),jP=e=>({value:"visible",params:e});function $P(e,t){if(e&1&&q(0,"span"),e&2){let i=A().$implicit;oe("p-message-icon pi "+i.icon),j("data-pc-section","icon")}}function KP(e,t){e&1&&q(0,"CheckIcon"),e&2&&j("data-pc-section","icon")}function qP(e,t){e&1&&q(0,"InfoCircleIcon"),e&2&&j("data-pc-section","icon")}function YP(e,t){e&1&&q(0,"TimesCircleIcon"),e&2&&j("data-pc-section","icon")}function QP(e,t){e&1&&q(0,"ExclamationTriangleIcon"),e&2&&j("data-pc-section","icon")}function XP(e,t){if(e&1&&(B(0,"span",10),Ue(1),K(2,KP,1,1,"CheckIcon",11)(3,qP,1,1,"InfoCircleIcon",11)(4,YP,1,1,"TimesCircleIcon",11)(5,QP,1,1,"ExclamationTriangleIcon",11),je(),k()),e&2){let i=A().$implicit;b(2),x("ngIf",i.severity==="success"),b(),x("ngIf",i.severity==="info"),b(),x("ngIf",i.severity==="error"),b(),x("ngIf",i.severity==="warn")}}function ZP(e,t){if(e&1&&q(0,"span",14),e&2){let i=A(2).$implicit;x("innerHTML",i.summary,ui),j("data-pc-section","summary")}}function JP(e,t){if(e&1&&q(0,"span",15),e&2){let i=A(2).$implicit;x("innerHTML",i.detail,ui),j("data-pc-section","detail")}}function eM(e,t){if(e&1&&(Ue(0),K(1,ZP,1,2,"span",12)(2,JP,1,2,"span",13),je()),e&2){let i=A().$implicit;b(),x("ngIf",i.summary),b(),x("ngIf",i.detail)}}function tM(e,t){if(e&1&&(B(0,"span",18),Pe(1),k()),e&2){let i=A(2).$implicit;j("data-pc-section","summary"),b(),lt(i.summary)}}function iM(e,t){if(e&1&&(B(0,"span",19),Pe(1),k()),e&2){let i=A(2).$implicit;j("data-pc-section","detail"),b(),lt(i.detail)}}function sM(e,t){if(e&1&&K(0,tM,2,2,"span",16)(1,iM,2,2,"span",17),e&2){let i=A().$implicit;x("ngIf",i.summary),b(),x("ngIf",i.detail)}}function nM(e,t){if(e&1){let i=ze();B(0,"button",20),fe("click",function(){pe(i);let n=A().index,o=A(2);return ge(o.removeMessage(n))}),q(1,"TimesIcon",21),k()}if(e&2){let i=A(3);j("aria-label",i.closeAriaLabel)("data-pc-section","closebutton"),b(),x("styleClass","p-message-close-icon"),j("data-pc-section","closeicon")}}function oM(e,t){if(e&1&&(B(0,"div",5)(1,"div",6),K(2,$P,1,3,"span",7)(3,XP,6,4,"span",8)(4,eM,3,2,"ng-container",3)(5,sM,2,2,"ng-template",null,1,Wn)(7,nM,2,4,"button",9),k()()),e&2){let i,s=t.$implicit,n=Gn(6),o=A(2);oe("p-message p-message-"+s.severity),x("@messageAnimation",Ei(13,jP,Ui(10,UP,o.showTransitionOptions,o.hideTransitionOptions))),b(),j("data-pc-section","wrapper")("id",s.id||null),b(),x("ngIf",s.icon),b(),x("ngIf",!s.icon),b(),x("ngIf",!o.escape)("ngIfElse",n),b(3),x("ngIf",o.closable&&((i=s.closable)!==null&&i!==void 0?i:!0))}}function rM(e,t){if(e&1&&(Ue(0),K(1,oM,8,15,"div",4),je()),e&2){let i=A();b(),x("ngForOf",i.messages)}}function aM(e,t){e&1&&tt(0)}function lM(e,t){if(e&1&&(B(0,"div",22)(1,"div",6),K(2,aM,1,0,"ng-container",23),k()()),e&2){let i=A();x("ngClass","p-message p-message-"+i.severity),b(2),x("ngTemplateOutlet",i.contentTemplate)}}var Z0=(()=>{class e{messageService;el;cd;config;set value(i){this.messages=i,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new Te;onClose=new Te;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(i,s,n,o){this.messageService=i,this.el=s,this.cd=n,this.config=o}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;default:this.contentTemplate=i.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(i=>{if(i){Array.isArray(i)||(i=[i]);let s=i.filter(n=>this.key===n.key);this.messages=this.messages?[...this.messages,...s]:[...s],this.startMessageLifes(s),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(i=>{i?this.key===i&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let i=this.el.nativeElement.parentElement;return i&&i.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(i){let s=this.messages[i];this.messages=this.messages?.filter((n,o)=>o!==i),s&&this.onClose.emit(s),this.valueChange.emit(this.messages)}get icon(){let i=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(i){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(i=>i.unsubscribe())}startMessageLifes(i){i?.forEach(s=>s.life&&this.startMessageLife(s))}startMessageLife(i){let s=Hu(i.life).subscribe(()=>{this.messages=this.messages?.filter(n=>n!==i),this.timerSubscriptions=this.timerSubscriptions?.filter(n=>n!==s),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(s)}static \u0275fac=function(s){return new(s||e)($(Uf,8),$(Ye),$(ii),$(yi))};static \u0275cmp=de({type:e,selectors:[["p-messages"]],contentQueries:function(s,n,o){if(s&1&&xi(o,rs,4),s&2){let r;it(r=st())&&(n.templates=r)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",ae],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",ae],key:"key",escape:[2,"escape","escape",ae],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[et],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(s,n){if(s&1&&(B(0,"div",2),K(1,rM,2,1,"ng-container",3)(2,lM,3,2,"ng-template",null,0,Wn),k()),s&2){let o=Gn(3);oe(n.styleClass),x("ngStyle",n.style),j("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),b(),x("ngIf",!n.contentTemplate)("ngIfElse",o)}},dependencies:()=>[Ht,pr,gt,ji,Wt,wn,Cu,wu,yu,vu,ps],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[$i("messageAnimation",[Ut(":enter",[mt({opacity:0,transform:"translateY(-25%)"}),zt("{{showTransitionParams}}")]),Ut(":leave",[zt("{{hideTransitionParams}}",mt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return e})(),Su=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[ft,yn,Cu,wu,yu,vu,ps]})}return e})();var dM=["advancedfileinput"],uM=["basicfileinput"],hM=["content"],pM=(e,t,i,s,n)=>({$implicit:e,uploadedFiles:t,chooseCallback:i,clearCallback:s,uploadCallback:n}),gM=(e,t,i,s,n,o,r,a)=>({$implicit:e,uploadedFiles:t,chooseCallback:i,clearCallback:s,removeUploadedFileCallback:n,removeFileCallback:o,progress:r,messages:a}),fM=(e,t)=>({"p-focus":e,"p-disabled":t}),mM=(e,t,i,s)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":e,"p-fileupload-choose-selected":t,"p-focus":i,"p-disabled":s});function CM(e,t){if(e&1&&q(0,"span",21),e&2){let i=A(3);oe(i.chooseIcon),x("ngClass","p-button-icon p-button-icon-left"),j("aria-label",!0)("data-pc-section","chooseicon")}}function vM(e,t){e&1&&q(0,"PlusIcon",24),e&2&&(x("styleClass","p-button-icon p-button-icon-left"),j("aria-label",!0)("data-pc-section","chooseicon"))}function wM(e,t){}function yM(e,t){e&1&&K(0,wM,0,0,"ng-template")}function SM(e,t){if(e&1&&(B(0,"span",25),K(1,yM,1,0,null,11),k()),e&2){let i=A(4);j("aria-label",!0)("data-pc-section","chooseicon"),b(),x("ngTemplateOutlet",i.chooseIconTemplate)}}function xM(e,t){if(e&1&&(Ue(0),K(1,vM,1,3,"PlusIcon",22)(2,SM,2,3,"span",23),je()),e&2){let i=A(3);b(),x("ngIf",!i.chooseIconTemplate),b(),x("ngIf",i.chooseIconTemplate)}}function bM(e,t){if(e&1&&q(0,"span",28),e&2){let i=A(4);x("ngClass",i.uploadIcon),j("aria-hidden",!0)}}function EM(e,t){e&1&&q(0,"UploadIcon",24),e&2&&x("styleClass","p-button-icon p-button-icon-left")}function FM(e,t){}function RM(e,t){e&1&&K(0,FM,0,0,"ng-template")}function DM(e,t){if(e&1&&(B(0,"span",25),K(1,RM,1,0,null,11),k()),e&2){let i=A(5);j("aria-hidden",!0),b(),x("ngTemplateOutlet",i.uploadIconTemplate)}}function TM(e,t){if(e&1&&(Ue(0),K(1,EM,1,1,"UploadIcon",22)(2,DM,2,2,"span",23),je()),e&2){let i=A(4);b(),x("ngIf",!i.uploadIconTemplate),b(),x("ngIf",i.uploadIconTemplate)}}function AM(e,t){if(e&1){let i=ze();B(0,"p-button",26),fe("onClick",function(){pe(i);let n=A(3);return ge(n.upload())}),K(1,bM,1,2,"span",27)(2,TM,3,2,"ng-container",9),k()}if(e&2){let i=A(3);x("label",i.uploadButtonLabel)("disabled",!i.hasFiles()||i.isFileLimitExceeded())("styleClass",i.uploadStyleClass),b(),x("ngIf",i.uploadIcon),b(),x("ngIf",!i.uploadIcon)}}function IM(e,t){if(e&1&&q(0,"span",28),e&2){let i=A(4);x("ngClass",i.cancelIcon)}}function PM(e,t){e&1&&q(0,"TimesIcon",24),e&2&&(x("styleClass","p-button-icon p-button-icon-left"),j("aria-hidden",!0))}function MM(e,t){}function _M(e,t){e&1&&K(0,MM,0,0,"ng-template")}function LM(e,t){if(e&1&&(B(0,"span",25),K(1,_M,1,0,null,11),k()),e&2){let i=A(5);j("aria-hidden",!0),b(),x("ngTemplateOutlet",i.cancelIconTemplate)}}function OM(e,t){if(e&1&&(Ue(0),K(1,PM,1,2,"TimesIcon",22)(2,LM,2,2,"span",23),je()),e&2){let i=A(4);b(),x("ngIf",!i.cancelIconTemplate),b(),x("ngIf",i.cancelIconTemplate)}}function BM(e,t){if(e&1){let i=ze();B(0,"p-button",26),fe("onClick",function(){pe(i);let n=A(3);return ge(n.clear())}),K(1,IM,1,1,"span",27)(2,OM,3,2,"ng-container",9),k()}if(e&2){let i=A(3);x("label",i.cancelButtonLabel)("disabled",!i.hasFiles()||i.uploading)("styleClass",i.cancelStyleClass),b(),x("ngIf",i.cancelIcon),b(),x("ngIf",!i.cancelIcon)}}function kM(e,t){if(e&1){let i=ze();Ue(0),B(1,"span",17),fe("focus",function(){pe(i);let n=A(2);return ge(n.onFocus())})("blur",function(){pe(i);let n=A(2);return ge(n.onBlur())})("click",function(){pe(i);let n=A(2);return ge(n.choose())})("keydown.enter",function(){pe(i);let n=A(2);return ge(n.choose())}),B(2,"input",7,0),fe("change",function(n){pe(i);let o=A(2);return ge(o.onFileSelect(n))}),k(),K(4,CM,1,5,"span",18)(5,xM,3,2,"ng-container",9),B(6,"span",19),Pe(7),k()(),K(8,AM,3,5,"p-button",20)(9,BM,3,5,"p-button",20),je()}if(e&2){let i=A(2);b(),oe(i.chooseStyleClass),x("ngClass",Ui(16,fM,i.focus,i.disabled||i.isChooseDisabled())),j("data-pc-section","choosebutton"),b(),x("multiple",i.multiple)("accept",i.accept)("disabled",i.disabled||i.isChooseDisabled()),j("aria-label",i.browseFilesLabel)("title","")("data-pc-section","input"),b(2),x("ngIf",i.chooseIcon),b(),x("ngIf",!i.chooseIcon),b(),j("data-pc-section","choosebuttonlabel"),b(),lt(i.chooseButtonLabel),b(),x("ngIf",!i.auto&&i.showUploadButton),b(),x("ngIf",!i.auto&&i.showCancelButton)}}function NM(e,t){e&1&&tt(0)}function VM(e,t){e&1&&tt(0)}function GM(e,t){if(e&1&&q(0,"p-progressBar",29),e&2){let i=A(2);x("value",i.progress)("showValue",!1)}}function HM(e,t){if(e&1){let i=ze();B(0,"div")(1,"img",35),fe("error",function(n){pe(i);let o=A(5);return ge(o.imageError(n))}),k()()}if(e&2){let i=A().$implicit,s=A(4);b(),x("src",i.objectURL,rh)("width",s.previewWidth)}}function WM(e,t){e&1&&q(0,"TimesIcon")}function zM(e,t){}function UM(e,t){e&1&&K(0,zM,0,0,"ng-template")}function jM(e,t){if(e&1){let i=ze();B(0,"div",32),K(1,HM,2,2,"div",9),B(2,"div",33),Pe(3),k(),B(4,"div"),Pe(5),k(),B(6,"div")(7,"button",34),fe("click",function(n){let o=pe(i).index,r=A(4);return ge(r.remove(n,o))}),K(8,WM,1,0,"TimesIcon",9)(9,UM,1,0,null,11),k()()()}if(e&2){let i=t.$implicit,s=A(4);b(),x("ngIf",s.isImage(i)),b(2),lt(i.name),b(2),lt(s.formatSize(i.size)),b(2),oe(s.removeStyleClass),x("disabled",s.uploading),b(),x("ngIf",!s.cancelIconTemplate),b(),x("ngTemplateOutlet",s.cancelIconTemplate)}}function $M(e,t){if(e&1&&(B(0,"div"),K(1,jM,10,8,"div",31),k()),e&2){let i=A(3);b(),x("ngForOf",i.files)}}function KM(e,t){}function qM(e,t){if(e&1&&(B(0,"div"),K(1,KM,0,0,"ng-template",36),k()),e&2){let i=A(3);b(),x("ngForOf",i.files)("ngForTemplate",i.fileTemplate)}}function YM(e,t){if(e&1&&(B(0,"div",30),K(1,$M,2,1,"div",9)(2,qM,2,2,"div",9),k()),e&2){let i=A(2);b(),x("ngIf",!i.fileTemplate),b(),x("ngIf",i.fileTemplate)}}function QM(e,t){e&1&&tt(0)}function XM(e,t){e&1&&tt(0)}function ZM(e,t){if(e&1&&(B(0,"div",37),K(1,XM,1,0,"ng-container",11),k()),e&2){let i=A(2);b(),x("ngTemplateOutlet",i.emptyTemplate)}}function JM(e,t){if(e&1){let i=ze();B(0,"div",6)(1,"input",7,0),fe("change",function(n){pe(i);let o=A();return ge(o.onFileSelect(n))}),k(),B(3,"div",8),K(4,kM,10,19,"ng-container",9)(5,NM,1,0,"ng-container",10)(6,VM,1,0,"ng-container",11),k(),B(7,"div",12,1),fe("dragenter",function(n){pe(i);let o=A();return ge(o.onDragEnter(n))})("dragleave",function(n){pe(i);let o=A();return ge(o.onDragLeave(n))})("drop",function(n){pe(i);let o=A();return ge(o.onDrop(n))}),K(9,GM,1,2,"p-progressBar",13),q(10,"p-messages",14),K(11,YM,3,2,"div",15)(12,QM,1,0,"ng-container",10)(13,ZM,2,1,"div",16),k()()}if(e&2){let i=A();oe(i.styleClass),x("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",i.style),j("data-pc-name","fileupload")("data-pc-section","root"),b(),pt("display","none"),x("multiple",i.multiple)("accept",i.accept)("disabled",i.disabled||i.isChooseDisabled()),j("aria-label",i.browseFilesLabel)("title","")("data-pc-section","input"),b(2),j("data-pc-section","buttonbar"),b(),x("ngIf",!i.headerTemplate),b(),x("ngTemplateOutlet",i.headerTemplate)("ngTemplateOutletContext",gh(27,pM,i.files,i.uploadedFiles,i.choose.bind(i),i.clear.bind(i),i.upload.bind(i))),b(),x("ngTemplateOutlet",i.toolbarTemplate),b(),j("data-pc-section","content"),b(2),x("ngIf",i.hasFiles()),b(),x("value",i.msgs)("enableService",!1),b(),x("ngIf",i.hasFiles()),b(),x("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",fh(33,gM,i.files,i.uploadedFiles,i.choose.bind(i),i.clear.bind(i),i.removeUploadedFile.bind(i),i.remove.bind(i),i.progress,i.msgs)),b(),x("ngIf",i.emptyTemplate&&!i.hasFiles()&&!i.hasUploadedFiles())}}function e_(e,t){if(e&1&&q(0,"span",28),e&2){let i=A(3);x("ngClass",i.uploadIcon)}}function t_(e,t){e&1&&q(0,"UploadIcon",24),e&2&&x("styleClass","p-button-icon p-button-icon-left")}function i_(e,t){}function s_(e,t){e&1&&K(0,i_,0,0,"ng-template")}function n_(e,t){if(e&1&&(B(0,"span",25),K(1,s_,1,0,null,11),k()),e&2){let i=A(4);b(),x("ngTemplateOutlet",i.uploadIconTemplate)}}function o_(e,t){if(e&1&&(Ue(0),K(1,t_,1,1,"UploadIcon",22)(2,n_,2,1,"span",23),je()),e&2){let i=A(3);b(),x("ngIf",!i.uploadIconTemplate),b(),x("ngIf",i.uploadIconTemplate)}}function r_(e,t){if(e&1&&(Ue(0),K(1,e_,1,1,"span",27)(2,o_,3,2,"ng-container",9),je()),e&2){let i=A(2);b(),x("ngIf",i.uploadIcon),b(),x("ngIf",!i.uploadIcon)}}function a_(e,t){if(e&1&&q(0,"span",44),e&2){let i=A(3);x("ngClass",i.chooseIcon)}}function l_(e,t){e&1&&q(0,"PlusIcon",24),e&2&&(x("styleClass","p-button-icon p-button-icon-left pi"),j("aria-hidden",!0)("data-pc-section","uploadicon"))}function c_(e,t){}function d_(e,t){e&1&&K(0,c_,0,0,"ng-template")}function u_(e,t){if(e&1&&(B(0,"span",46),K(1,d_,1,0,null,11),k()),e&2){let i=A(4);j("aria-hidden",!0)("data-pc-section","uploadicon"),b(),x("ngTemplateOutlet",i.chooseIconTemplate)}}function h_(e,t){if(e&1&&(Ue(0),K(1,l_,1,3,"PlusIcon",22)(2,u_,2,3,"span",45),je()),e&2){let i=A(3);b(),x("ngIf",!i.chooseIconTemplate),b(),x("ngIf",i.chooseIconTemplate)}}function p_(e,t){if(e&1&&K(0,a_,1,1,"span",43)(1,h_,3,2,"ng-container",9),e&2){let i=A(2);x("ngIf",i.chooseIcon),b(),x("ngIf",!i.chooseIcon)}}function g_(e,t){if(e&1&&(B(0,"span",19),Pe(1),k()),e&2){let i=A(2);j("data-pc-section","label"),b(),lt(i.basicButtonLabel)}}function f_(e,t){if(e&1){let i=ze();B(0,"input",47,3),fe("change",function(n){pe(i);let o=A(2);return ge(o.onFileSelect(n))})("focus",function(){pe(i);let n=A(2);return ge(n.onFocus())})("blur",function(){pe(i);let n=A(2);return ge(n.onBlur())}),k()}if(e&2){let i=A(2);x("accept",i.accept)("multiple",i.multiple)("disabled",i.disabled),j("aria-label",i.browseFilesLabel)("data-pc-section","input")}}function m_(e,t){if(e&1){let i=ze();B(0,"div",38),q(1,"p-messages",14),B(2,"span",39),fe("click",function(){pe(i);let n=A();return ge(n.onBasicUploaderClick())})("keydown",function(n){pe(i);let o=A();return ge(o.onBasicKeydown(n))}),K(3,r_,3,2,"ng-container",40)(4,p_,2,2,"ng-template",null,2,Wn)(6,g_,2,2,"span",41)(7,f_,2,5,"input",42),k()()}if(e&2){let i=Gn(5),s=A();j("data-pc-name","fileupload"),b(),x("value",s.msgs)("enableService",!1),b(),oe(s.styleClass),x("ngClass",rr(12,mM,!s.basicButtonLabel,s.hasFiles(),s.focus,s.disabled))("ngStyle",s.style),j("data-pc-section","choosebutton"),b(),x("ngIf",s.hasFiles()&&!s.auto)("ngIfElse",i),b(3),x("ngIf",s.basicButtonLabel),b(),x("ngIf",!s.hasFiles())}}var gV=(()=>{class e{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new Te;onSend=new Te;onUpload=new Te;onError=new Te;onClear=new Te;onRemove=new Te;onSelect=new Te;onProgress=new Te;uploadHandler=new Te;onImageError=new Te;onRemoveUploadedFile=new Te;templates;advancedFileInput;basicFileInput;content;set files(i){this._files=[];for(let s=0;s<i.length;s++){let n=i[s];this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[s]))),this._files.push(i[s]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];constructor(i,s,n,o,r,a,l,c,d){this.document=i,this.platformId=s,this.renderer=n,this.el=o,this.sanitizer=r,this.zone=a,this.http=l,this.cd=c,this.config=d}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"header":this.headerTemplate=i.template;break;case"file":this.fileTemplate=i.template;break;case"content":this.contentTemplate=i.template;break;case"toolbar":this.toolbarTemplate=i.template;break;case"chooseicon":this.chooseIconTemplate=i.template;break;case"uploadicon":this.uploadIconTemplate=i.template;break;case"cancelicon":this.cancelIconTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;default:this.fileTemplate=i.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){ct(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(i){return this.config.getTranslation(i)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(i){if(i.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let s=i.dataTransfer?i.dataTransfer.files:i.target.files;for(let n=0;n<s.length;n++){let o=s[n];this.isFileSelected(o)||this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(s[n]))),this.files.push(s[n]))}this.onSelect.emit({originalEvent:i,files:s,currentFiles:this.files}),this.checkFileLimit(s),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),i.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(i){for(let s of this.files)if(s.name+s.type+s.size===i.name+i.type+i.size)return!0;return!1}isIE11(){if(ct(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(i){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(i)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",i.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&i.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",i.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(i){let s=this.accept?.split(",").map(n=>n.trim());for(let n of s)if(this.isWildcard(n)?this.getTypeClass(i.type)===this.getTypeClass(n):i.type==n||this.getFileExtension(i).toLowerCase()===n.toLowerCase())return!0;return!1}getTypeClass(i){return i.substring(0,i.indexOf("/"))}isWildcard(i){return i.indexOf("*")!==-1}getFileExtension(i){return"."+i.name.split(".").pop()}isImage(i){return/^image\//.test(i.type)}onImageLoad(i){window.URL.revokeObjectURL(i.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let i=new FormData;this.onBeforeUpload.emit({formData:i});for(let s=0;s<this.files.length;s++)i.append(this.name,this.files[s],this.files[s].name);this.http.request(this.method,this.url,{body:i,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(s=>{switch(s.type){case jt.Sent:this.onSend.emit({originalEvent:s,formData:i});break;case jt.Response:this.uploading=!1,this.progress=0,s.status>=200&&s.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:s,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case jt.UploadProgress:{s.loaded&&(this.progress=Math.round(s.loaded*100/s.total)),this.onProgress.emit({originalEvent:s,progress:this.progress});break}}this.cd.markForCheck()},s=>{this.uploading=!1,this.onError.emit({files:this.files,error:s})})}}clear(){this.files=[],this.uploadedFileCount=0,this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(i,s){this.clearInputElement(),this.onRemove.emit({originalEvent:i,file:this.files[s]}),this.files.splice(s,1),this.checkFileLimit(this.files)}removeUploadedFile(i){let s=this.uploadedFiles.splice(i,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:s,files:this.uploadedFiles})}isFileLimitExceeded(){let s=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=s&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<s}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(i){this.msgs??=[];let s=this.msgs.length>0&&this.fileLimit<i.length;(this.isFileLimitExceeded()||s)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(i){this.disabled||(i.stopPropagation(),i.preventDefault())}onDragOver(i){this.disabled||(U.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,i.stopPropagation(),i.preventDefault())}onDragLeave(i){this.disabled||U.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(i){if(!this.disabled){U.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),i.stopPropagation(),i.preventDefault();let s=i.dataTransfer?i.dataTransfer.files:i.target.files;(this.multiple||s&&s.length===1)&&this.onFileSelect(i)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(i){let o=this.getTranslation(Oi.FILE_SIZE_TYPES);if(i===0)return`0 ${o[0]}`;let r=Math.floor(Math.log(i)/Math.log(1024));return`${(i/Math.pow(1024,r)).toFixed(3)} ${o[r]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(i){switch(i.code){case"Space":case"Enter":this.onBasicUploaderClick(),i.preventDefault();break}}imageError(i){this.onImageError.emit(i)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(Oi.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(Oi.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(Oi.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(Oi.ARIA)[Oi.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)($(Ae),$(Ze),$(Gt),$(Ye),$(ms),$(Ge),$(Qn),$(ii),$(yi))};static \u0275cmp=de({type:e,selectors:[["p-fileUpload"]],contentQueries:function(s,n,o){if(s&1&&xi(o,rs,4),s&2){let r;it(r=st())&&(n.templates=r)}},viewQuery:function(s,n){if(s&1&&(hi(dM,5),hi(uM,5),hi(hM,5)),s&2){let o;it(o=st())&&(n.advancedFileInput=o.first),it(o=st())&&(n.basicFileInput=o.first),it(o=st())&&(n.content=o.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",ae],accept:"accept",disabled:[2,"disabled","disabled",ae],auto:[2,"auto","auto",ae],withCredentials:[2,"withCredentials","withCredentials",ae],maxFileSize:[2,"maxFileSize","maxFileSize",wt],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",wt],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",ae],showCancelButton:[2,"showCancelButton","showCancelButton",ae],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",ae],fileLimit:[2,"fileLimit","fileLimit",i=>wt(i,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[et],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(s,n){s&1&&K(0,JM,14,42,"div",4)(1,m_,8,17,"div",5),s&2&&(x("ngIf",n.mode==="advanced"),b(),x("ngIf",n.mode==="basic"))},dependencies:()=>[Ht,pr,gt,ji,Wt,Yf,Kd,ml,Z0,wn,fu,mu,ps],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return e})(),fV=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[ft,vn,No,Qo,Su,yn,fu,mu,ps,vn,No,Qo,Su]})}return e})();var RV=(()=>{class e{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Ke()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;constructor(i,s,n,o,r,a){this.platformId=i,this.el=s,this.zone=n,this.config=o,this.renderer=r,this.viewContainer=a}ngAfterViewInit(){ct(this.platformId)&&this.zone.runOutsideAngular(()=>{let i=this.getOption("tooltipEvent");if((i==="hover"||i==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),i==="focus"||i==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let s=this.el.nativeElement.querySelector(".p-component");s||(s=this.getTarget(this.el.nativeElement)),s.addEventListener("focus",this.focusListener),s.addEventListener("blur",this.blurListener)}})}ngOnChanges(i){i.tooltipPosition&&this.setOption({tooltipPosition:i.tooltipPosition.currentValue}),i.tooltipEvent&&this.setOption({tooltipEvent:i.tooltipEvent.currentValue}),i.appendTo&&this.setOption({appendTo:i.appendTo.currentValue}),i.positionStyle&&this.setOption({positionStyle:i.positionStyle.currentValue}),i.tooltipStyleClass&&this.setOption({tooltipStyleClass:i.tooltipStyleClass.currentValue}),i.tooltipZIndex&&this.setOption({tooltipZIndex:i.tooltipZIndex.currentValue}),i.escape&&this.setOption({escape:i.escape.currentValue}),i.showDelay&&this.setOption({showDelay:i.showDelay.currentValue}),i.hideDelay&&this.setOption({hideDelay:i.hideDelay.currentValue}),i.life&&this.setOption({life:i.life.currentValue}),i.positionTop&&this.setOption({positionTop:i.positionTop.currentValue}),i.positionLeft&&this.setOption({positionLeft:i.positionLeft.currentValue}),i.disabled&&this.setOption({disabled:i.disabled.currentValue}),i.content&&(this.setOption({tooltipLabel:i.content.currentValue}),this.active&&(i.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),i.autoHide&&this.setOption({autoHide:i.autoHide.currentValue}),i.id&&this.setOption({id:i.id.currentValue}),i.tooltipOptions&&(this._tooltipOptions=R(R({},this._tooltipOptions),i.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(i){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(i){this.isAutoHide()?this.deactivate():!(U.hasClass(i.relatedTarget,"p-tooltip")||U.hasClass(i.relatedTarget,"p-tooltip-text")||U.hasClass(i.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(i){this.activate()}onBlur(i){this.deactivate()}onInputClick(i){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},i)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let i=document.createElement("div");i.className="p-tooltip-arrow",this.container.appendChild(i),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?U.appendChild(this.container,this.el.nativeElement):U.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let i=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(i,"mouseleave",s=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),U.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?os.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&os.clear(this.container),this.remove()}updateText(){let i=this.getOption("tooltipLabel");if(i instanceof sr){let s=this.viewContainer.createEmbeddedView(i);s.detectChanges(),s.rootNodes.forEach(n=>this.tooltipText.appendChild(n))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(i))):this.tooltipText.innerHTML=i}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let i=this.el.nativeElement.getBoundingClientRect(),s=i.left+U.getWindowScrollLeft(),n=i.top+U.getWindowScrollTop();return{left:s,top:n}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let i=this.activeElement,s=this.getHostOffset(),n=s.left+U.getOuterWidth(i),o=s.top+(U.getOuterHeight(i)-U.getOuterHeight(this.container))/2;this.container.style.left=n+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?U.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let i=this.getHostOffset(),s=i.left-U.getOuterWidth(this.container),n=i.top+(U.getOuterHeight(this.el.nativeElement)-U.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let i=this.getHostOffset(),s=i.left+(U.getOuterWidth(this.el.nativeElement)-U.getOuterWidth(this.container))/2,n=i.top-U.getOuterHeight(this.container);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let i=this.getHostOffset(),s=i.left+(U.getOuterWidth(this.el.nativeElement)-U.getOuterWidth(this.container))/2,n=i.top+U.getOuterHeight(this.el.nativeElement);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=n+this.getOption("positionTop")+"px"}setOption(i){this._tooltipOptions=R(R({},this._tooltipOptions),i)}getOption(i){return this._tooltipOptions[i]}getTarget(i){return U.hasClass(i,"p-inputwrapper")?U.findSingle(i,"input"):i}preAlign(i){this.container.style.left="-999px",this.container.style.top="-999px";let s="p-tooltip p-component p-tooltip-"+i;this.container.className=this.getOption("tooltipStyleClass")?s+" "+this.getOption("tooltipStyleClass"):s}isOutOfBounds(){let i=this.container.getBoundingClientRect(),s=i.top,n=i.left,o=U.getOuterWidth(this.container),r=U.getOuterHeight(this.container),a=U.getViewport();return n+o>a.width||n<0||s<0||s+r>a.height}onWindowResize(i){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ca(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let i=this.getOption("tooltipEvent");if((i==="hover"||i==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),i==="focus"||i==="both"){let s=this.el.nativeElement.querySelector(".p-component");s||(s=this.getTarget(this.el.nativeElement)),s.removeEventListener("focus",this.focusListener),s.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):U.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&os.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(s){return new(s||e)($(Ze),$(Ye),$(Ge),$(yi),$(Gt),$(Us))};static \u0275dir=Le({type:e,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(s,n){s&1&&fe("keydown.escape",function(r){return n.onPressEscape(r)},!1,ah)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",ae],showDelay:[2,"showDelay","showDelay",wt],hideDelay:[2,"hideDelay","hideDelay",wt],life:[2,"life","life",wt],positionTop:[2,"positionTop","positionTop",wt],positionLeft:[2,"positionLeft","positionLeft",wt],autoHide:[2,"autoHide","autoHide",ae],fitContent:[2,"fitContent","fitContent",ae],hideOnEscape:[2,"hideOnEscape","hideOnEscape",ae],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[et,ci]})}return e})(),DV=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=De({type:e});static \u0275inj=Re({imports:[ft]})}return e})();export{I_ as a,P_ as b,zh as c,j_ as d,$_ as e,Pv as f,pL as g,ot as h,li as i,r0 as j,gn as k,mL as l,we as m,ss as n,CL as o,vL as p,_t as q,ia as r,wL as s,bs as t,ay as u,yL as v,un as w,es as x,Jc as y,cy as z,P as A,Es as B,G as C,xe as D,Lt as E,ed as F,py as G,oi as H,gy as I,Kt as J,is as K,Cg as L,Ct as M,Jr as N,L as O,ke as P,Ot as Q,yy as R,SL as S,ua as T,xL as U,wi as V,Qe as W,ky as X,FL as Y,RL as Z,bt as _,DL as $,hn as aa,Lo as ba,TL as ca,AL as da,Ky as ea,xd as fa,IL as ga,sa as ha,PL as ia,qy as ja,Yy as ka,bg as la,Eg as ma,Jy as na,na as oa,ML as pa,iS as qa,ns as ra,_L as sa,He as ta,lS as ua,Oo as va,Rd as wa,Bo as xa,Pg as ya,oa as za,ut as Aa,vi as Ba,ai as Ca,pn as Da,Td as Ea,LL as Fa,fn as Ga,Y as Ha,ye as Ia,Ti as Ja,Bt as Ka,ts as La,SS as Ma,Gg as Na,St as Oa,I as Pa,Pd as Qa,mn as Ra,zg as Sa,Mt as Ta,Ao as Ua,nx as Va,ox as Wa,lx as Xa,cx as Ya,ud as Za,$c as _a,mx as $a,vx as ab,Is as bb,yx as cb,bx as db,Ld as eb,ef as fb,Ps as gb,pa as hb,Od as ib,Yt as jb,xt as kb,uf as lb,OL as mb,tb as nb,Vd as ob,fa as pb,BL as qb,Cb as rb,c1 as sb,f1 as tb,m1 as ub,Rs as vb,pE as wb,EE as xb,rF as yb,kL as zb,lF as Ab,_f as Bb,pF as Cb,JD as Db,CT as Eb,GT as Fb,$d as Gb,NL as Hb,VL as Ib,GL as Jb,HL as Kb,WL as Lb,iu as Mb,c0 as Nb,Ls as Ob,A3 as Pb,I3 as Qb,hI as Rb,M3 as Sb,gI as Tb,mI as Ub,_3 as Vb,L3 as Wb,O3 as Xb,N3 as Yb,U as Zb,Ca as _b,$e as $b,Ke as ac,os as bc,hk as cc,Uf as dc,pk as ec,yi as fc,rs as gc,vn as hc,Oi as ic,Xe as jc,ps as kc,qo as lc,y8 as mc,jf as nc,xk as oc,$f as pc,wn as qc,yn as rc,Yf as sc,Kd as tc,No as uc,zP as vc,lN as wc,Cu as xc,gV as yc,fV as zc,RV as Ac,DV as Bc};
